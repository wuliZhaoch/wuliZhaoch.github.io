<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ã€Altium Designerã€‘å­¦ä¹ ç¬”è®° --&gt; Altium Designer å¯¼å‡º Gerber æ–‡ä»¶æ•™ç¨‹</title>
    <url>/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<h2 id="Altium-Designer-å¯¼å‡º-Gerber-æ–‡ä»¶æ•™ç¨‹"><a href="#Altium-Designer-å¯¼å‡º-Gerber-æ–‡ä»¶æ•™ç¨‹" class="headerlink" title="Altium Designer å¯¼å‡º Gerber æ–‡ä»¶æ•™ç¨‹"></a>Altium Designer å¯¼å‡º Gerber æ–‡ä»¶æ•™ç¨‹</h2><h4 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h4><p>è¾“å‡ºçš„Gerberä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªæ–‡ä»¶é›†åˆï¼Œé€šå¸¸éœ€è¦æ‰“åŒ…å‘é€ç»™å‚å®¶ï¼Œå‚å®¶æ ¹æ®ä½ è¾“å‡ºçš„è¦æ±‚è¿›è¡Œæ‰“æ ·ã€‚åŸºæœ¬è¾“å‡ºçš„æ–‡ä»¶å¤§æ¦‚æœ‰è¿™å‡ ä¸ªæµç¨‹ Gerber Filesã€NC Drill Files(é’»å­”æ–‡ä»¶)ã€BOM(å…ƒå™¨ä»¶BOM)ã€Generates Pick and Place Files(åæ ‡æ–‡ä»¶)ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ã€‚</p>
<h4 id="2-æ·»åŠ é’»å­”è¡¨"><a href="#2-æ·»åŠ é’»å­”è¡¨" class="headerlink" title="2. æ·»åŠ é’»å­”è¡¨"></a>2. æ·»åŠ é’»å­”è¡¨</h4><h5 id="2-1-é€‰ä¸­-Drill-Drawing-å±‚"><a href="#2-1-é€‰ä¸­-Drill-Drawing-å±‚" class="headerlink" title="2.1 é€‰ä¸­ Drill Drawing å±‚"></a>2.1 é€‰ä¸­ Drill Drawing å±‚</h5><p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/DrillDrawing.png" alt></p>
<h5 id="2-2-åœ¨æ­¤å±‚æ”¾ç½®â€œ-legend-â€-å­—ç¬¦"><a href="#2-2-åœ¨æ­¤å±‚æ”¾ç½®â€œ-legend-â€-å­—ç¬¦" class="headerlink" title="2.2 åœ¨æ­¤å±‚æ”¾ç½®â€œ .legend â€ å­—ç¬¦"></a>2.2 åœ¨æ­¤å±‚æ”¾ç½®â€œ .legend â€ å­—ç¬¦</h5><ul>
<li><p>å•å‡»æ”¾ç½®å­—ç¬¦ä¸²</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/String.png" alt="String"></p>
</li>
<li><p>æ”¾ç½® â€œ .legend â€ å­—ç¬¦ </p>
<ul>
<li>æ”¾ç½®â€œ .legend â€å­—ç¬¦åï¼Œåœ¨ç¬¬ä¸€æ¬¡è¾“å‡ºGerberæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç”Ÿäº§ä¸€ä¸ªé’»å­”è¡¨ï¼Œæ•ˆæœå¦‚ 2.4 - 2 å›¾ã€‚ </li>
</ul>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Legend.png" alt="legend"></p>
</li>
</ul>
<h5 id="2-3-å­—ç¬¦æ”¾ç½®æ•ˆæœ"><a href="#2-3-å­—ç¬¦æ”¾ç½®æ•ˆæœ" class="headerlink" title="2.3 å­—ç¬¦æ”¾ç½®æ•ˆæœ"></a>2.3 å­—ç¬¦æ”¾ç½®æ•ˆæœ</h5><p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Placetheeffect.png" alt="Place the effect"></p>
<h5 id="2-4-å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸è¡Œï¼Œè¯¥å¦‚ä½•æ“ä½œï¼Ÿ-å…·ä½“åŸå› å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæ¯•ç«Ÿç”¨çš„ç ´è§£ç‰ˆçš„"><a href="#2-4-å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸è¡Œï¼Œè¯¥å¦‚ä½•æ“ä½œï¼Ÿ-å…·ä½“åŸå› å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæ¯•ç«Ÿç”¨çš„ç ´è§£ç‰ˆçš„" class="headerlink" title="2.4 å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸è¡Œï¼Œè¯¥å¦‚ä½•æ“ä½œï¼Ÿ(å…·ä½“åŸå› å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæ¯•ç«Ÿç”¨çš„ç ´è§£ç‰ˆçš„)"></a>2.4 å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸è¡Œï¼Œè¯¥å¦‚ä½•æ“ä½œï¼Ÿ(å…·ä½“åŸå› å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæ¯•ç«Ÿç”¨çš„ç ´è§£ç‰ˆçš„)</h5><p>åœ¨Altium Designer çš„èœå•ä¸­é€‰æ‹© Place (æ”¾ç½®) -&gt; Dirll Table(é’»å­”è¡¨) ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/drilltable.png" alt="drilltable"></p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/drilltable1.png" alt="drilltable1"></p>
<h4 id="3-ç¬¬ä¸€æ¬¡è¾“å‡ºï¼ˆGerber-Filesï¼‰"><a href="#3-ç¬¬ä¸€æ¬¡è¾“å‡ºï¼ˆGerber-Filesï¼‰" class="headerlink" title="3. ç¬¬ä¸€æ¬¡è¾“å‡ºï¼ˆGerber Filesï¼‰"></a>3. ç¬¬ä¸€æ¬¡è¾“å‡ºï¼ˆGerber Filesï¼‰</h4><p>æ‰“å¼€è¦å¯¼å‡ºçš„PCBï¼Œåœ¨ Altium Designer çš„èœå•ä¸­é€‰æ‹© File(æ–‡ä»¶) -&gt; Fabrication(è¾“å‡ºåˆ¶é€ æ–‡ä»¶) -&gt; Gerber Filesã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/File-Fabrication-Gerber.png" alt="File-Fabrication-Gerber"></p>
<h5 id="3-1-Gerber-Setup-gt-General-è®¾ç½®"><a href="#3-1-Gerber-Setup-gt-General-è®¾ç½®" class="headerlink" title="3.1 Gerber Setup -&gt; General è®¾ç½®"></a>3.1 Gerber Setup -&gt; General è®¾ç½®</h5><p>Units (å•ä½) é€‰æ‹© <strong>Inches (è‹±å¯¸)</strong>ï¼›Formal (æ ¼å¼) é€‰æ‹© <strong>2:5</strong>ï¼›æ ¹æ®ä»‹ç» <strong>2:3</strong> åˆ†è¾¨ç‡ 1milï¼Œ<strong>2:4</strong> åˆ†è¾¨ç‡ 0.1milï¼Œ<strong>2:5</strong> åˆ†è¾¨ç‡ 0.01milï¼›2:5 ç²¾åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œæœ¬äººç”¨è¿™ä¸ªè®¾ç½®åœ¨å¤šä¸ªå‚å®¶æ‰“æ ·éƒ½æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/General.png" alt="General"></p>
<h5 id="3-2-Gerber-Setup-gt-Layers-è®¾ç½®"><a href="#3-2-Gerber-Setup-gt-Layers-è®¾ç½®" class="headerlink" title="3.2 Gerber Setup -&gt; Layers è®¾ç½®"></a>3.2 Gerber Setup -&gt; Layers è®¾ç½®</h5><p>â€‹        å•å‡» Plot Layers é€‰æ‹© Used no åï¼Œåªè¦åœ¨ Layers To Plot æ é‡Œçš„å±‚éƒ½ä¼šè¢«é€‰ä¸­ï¼Œå‹¾é€‰æ‰ Top Pad Masterã€Bottom Pad Master ä¸¤å±‚ï¼Œç„¶åæ ¹æ®è‡ªå·±éœ€è¦å¯¼å‡ºçš„å±‚è¿›è¡Œé€‰æ‹© <strong>(å˜‰ç«‹åˆ›ç°åœ¨è¯†åˆ«ç‰ˆè¾¹æ¡†ä¸º Mechanical 1 æœºæ¢°1å±‚)</strong>ï¼Œæ‰€ä»¥å¯¼å‡ºè¦é€‰æ‹© Mechanical 1 å±‚ï¼›å‹¾é€‰ <strong>Include unconnected mid-layer pads</strong>ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Layers.png" alt="Layers"></p>
<h5 id="3-3-Gerber-Setup-gt-Drill-Drawing-è®¾ç½®"><a href="#3-3-Gerber-Setup-gt-Drill-Drawing-è®¾ç½®" class="headerlink" title="3.3 Gerber Setup -&gt; Drill Drawing è®¾ç½®"></a>3.3 Gerber Setup -&gt; Drill Drawing è®¾ç½®</h5><p>Drill Drawingé€‰é¡¹å¡ä¸­ éœ€è¦åœ¨ <strong>Drill Drawing Plots</strong> å’Œ <strong>Drill Guide Plots</strong> ä¸¤ä¸ªåŒºåŸŸå‹¾é€‰ <strong>Plot all used drill pairs</strong></p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Drill.png" alt="Drill"></p>
<h5 id="3-4-Gerber-Setup-gt-Apertures-è®¾ç½®"><a href="#3-4-Gerber-Setup-gt-Apertures-è®¾ç½®" class="headerlink" title="3.4 Gerber Setup -&gt; Apertures è®¾ç½®"></a>3.4 Gerber Setup -&gt; Apertures è®¾ç½®</h5><p>åœ¨ Apertures (å…‰åœˆ)é€‰é¡¹å¡ä¸­å‹¾é€‰ Embedded apertures (RS274X) å³å¯ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Apertures.png" alt="Apertures"></p>
<h5 id="3-5-Gerber-Setup-gt-Advanced-è®¾ç½®"><a href="#3-5-Gerber-Setup-gt-Advanced-è®¾ç½®" class="headerlink" title="3.5 Gerber Setup -&gt; Advanced è®¾ç½®"></a>3.5 Gerber Setup -&gt; Advanced è®¾ç½®</h5><p>åœ¨ Advanced é€‰é¡¹å¡ä¸­éœ€è¦åœ¨ Film Size åŒºåŸŸä¸­çš„æ¯ä¸ªé€‰é¡¹ä¸­æ·»åŠ ä¸€ä¸ª0; å…¶ä»–çš„é»˜è®¤å³åˆã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Advanced.png" alt="Advanced"></p>
<h5 id="3-6-Gerber-Files-è¾“å‡ºç»“æŸåæ•ˆæœ"><a href="#3-6-Gerber-Files-è¾“å‡ºç»“æŸåæ•ˆæœ" class="headerlink" title="3.6 Gerber Files è¾“å‡ºç»“æŸåæ•ˆæœ"></a>3.6 Gerber Files è¾“å‡ºç»“æŸåæ•ˆæœ</h5><p>ç¬¬ä¸€æ¬¡è¾“å‡ºç»“æŸåè‡ªåŠ¨ç”Ÿæˆ CAMtastic1.Cam*çš„ CAMåŠ å·¥æ–‡ä»¶ï¼Œä¸ç”¨ä¿å­˜å¯ä»¥ç«‹å³å…³é—­å¹¶ä¸¢å¼ƒã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/CAM.png" alt="CAM"></p>
<h4 id="4-ç¬¬äºŒæ¬¡è¾“å‡ºï¼ˆNC-Drill-Filesï¼‰"><a href="#4-ç¬¬äºŒæ¬¡è¾“å‡ºï¼ˆNC-Drill-Filesï¼‰" class="headerlink" title="4. ç¬¬äºŒæ¬¡è¾“å‡ºï¼ˆNC Drill Filesï¼‰"></a>4. ç¬¬äºŒæ¬¡è¾“å‡ºï¼ˆNC Drill Filesï¼‰</h4><p>æ‰“å¼€è¦å¯¼å‡ºçš„PCBï¼Œåœ¨ Altium Designer çš„èœå•ä¸­é€‰æ‹© File(æ–‡ä»¶) -&gt; Fabrication(è¾“å‡ºåˆ¶é€ æ–‡ä»¶) -&gt; NC Drill Filesã€‚</p>
<h5 id="4-1-NC-Drill-Setup-é€‰é¡¹å¡è®¾ç½®"><a href="#4-1-NC-Drill-Setup-é€‰é¡¹å¡è®¾ç½®" class="headerlink" title="4.1 NC Drill Setup é€‰é¡¹å¡è®¾ç½®"></a>4.1 NC Drill Setup é€‰é¡¹å¡è®¾ç½®</h5><p>é€šå¸¸é»˜è®¤è®¾ç½®å³å¯ï¼Œåªæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ â€”-&gt; Leading/Trailing Zeroes åŒºåŸŸé€‰æ‹© <strong>Suppress leading zeroes</strong>ï¼Œé»˜è®¤ Suppress trailing zeroesï¼›Other åŒºåŸŸå‹¾é€‰ <strong>Generate EIA Binary Drill File (.DRL)</strong>ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/NCDrill.png" alt="NC Drill"></p>
<h5 id="4-2-Import-Drill-Data-å¯¼å…¥é’»å­”æ•°æ®-çª—å£"><a href="#4-2-Import-Drill-Data-å¯¼å…¥é’»å­”æ•°æ®-çª—å£" class="headerlink" title="4.2 Import Drill Data (å¯¼å…¥é’»å­”æ•°æ®)çª—å£"></a>4.2 Import Drill Data (å¯¼å…¥é’»å­”æ•°æ®)çª—å£</h5><p>é»˜è®¤å³å¯ï¼Œä¸ç”¨ä¿®æ”¹ï¼Œç›´æ¥ç‚¹å‡»OKè¿›è¡Œè¾“å‡º</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/ImportDrillData.png" alt="Import Drill Data"></p>
<h4 id="5-ç¬¬ä¸‰æ¬¡è¾“å‡ºï¼ˆGenerates-Pick-and-Place-Filesï¼‰"><a href="#5-ç¬¬ä¸‰æ¬¡è¾“å‡ºï¼ˆGenerates-Pick-and-Place-Filesï¼‰" class="headerlink" title="5. ç¬¬ä¸‰æ¬¡è¾“å‡ºï¼ˆGenerates Pick and Place Filesï¼‰"></a>5. ç¬¬ä¸‰æ¬¡è¾“å‡ºï¼ˆGenerates Pick and Place Filesï¼‰</h4><p>æ‰“å¼€è¦å¯¼å‡ºçš„PCBï¼Œåœ¨ Altium Designer çš„èœå•ä¸­é€‰æ‹© File(æ–‡ä»¶) -&gt; Assembly(è¾“å‡ºè£…é…æ–‡ä»¶) -&gt; Generates Pick and Place Filesã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Generates.png" alt="Generates"></p>
<h5 id="5-1-Pick-and-Place-Setup-è®¾ç½®"><a href="#5-1-Pick-and-Place-Setup-è®¾ç½®" class="headerlink" title="5.1 Pick and Place Setup è®¾ç½®"></a>5.1 Pick and Place Setup è®¾ç½®</h5><p>å·¦è¾¹é€‰é¡¹å¡ä¸­å¿…é¡»è¦å‹¾é€‰çš„å‡ ä¸ªå‚æ•° <strong>Center-X</strong> ã€<strong>Center-Y</strong>ã€<strong>Pad-X</strong>ã€<strong>Pad-Y</strong>ã€<strong>Ref-X</strong>ã€<strong>Ref-Y</strong>ã€<strong>Rotation</strong>ï¼Œå…¶ä»–æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Generates1.png" alt="Generates1"></p>
<h5 id="5-2-åæ ‡æ–‡ä»¶-csv-ä¿®æ”¹"><a href="#5-2-åæ ‡æ–‡ä»¶-csv-ä¿®æ”¹" class="headerlink" title="5.2 åæ ‡æ–‡ä»¶ .csv ä¿®æ”¹"></a>5.2 åæ ‡æ–‡ä»¶ .csv ä¿®æ”¹</h5><p>åˆ é™¤è¡¨å¤´æ–‡ä»¶è®¾è®¡ä¿¡æ¯<strong>ï¼ˆçº¢çº¿ä»¥ä¸Šå…¨éƒ¨åˆ é™¤Deleteï¼‰</strong></p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/%E5%9D%90%E6%A0%87csv%E6%96%87%E4%BB%B6.png" alt="åæ ‡csvæ–‡ä»¶"></p>
<h4 id="6-ç¬¬å››æ¬¡è¾“å‡ºï¼ˆPCB-BOMè¡¨ï¼‰"><a href="#6-ç¬¬å››æ¬¡è¾“å‡ºï¼ˆPCB-BOMè¡¨ï¼‰" class="headerlink" title="6. ç¬¬å››æ¬¡è¾“å‡ºï¼ˆPCB BOMè¡¨ï¼‰"></a>6. ç¬¬å››æ¬¡è¾“å‡ºï¼ˆPCB BOMè¡¨ï¼‰</h4><p>åœ¨ Altium Designer çš„èœå•ä¸­é€‰æ‹© Reports(æŠ¥å‘Š) -&gt; Bill of Materialsã€‚</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Reports.png" alt="Reports"></p>
<h5 id="6-1-Properties-gt-General-è®¾ç½®"><a href="#6-1-Properties-gt-General-è®¾ç½®" class="headerlink" title="6.1 Properties -&gt; General è®¾ç½®"></a>6.1 Properties -&gt; General è®¾ç½®</h5><p>è®¾ç½®è¾“å‡ºæ–‡ä»¶æ ¼å¼</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/BOM-General.png" alt="BOM_General"></p>
<h5 id="6-2-Properties-gt-Columnsè®¾ç½®"><a href="#6-2-Properties-gt-Columnsè®¾ç½®" class="headerlink" title="6.2 Properties -&gt; Columnsè®¾ç½®"></a>6.2 Properties -&gt; Columnsè®¾ç½®</h5><p>æ·»åŠ <strong>Pins</strong>å‚æ•°ä¿¡æ¯</p>
<p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/BOM-Columns.png" alt="BOM-Columns"></p>
<h4 id="7-Gerber-æ–‡ä»¶æ•´ç†"><a href="#7-Gerber-æ–‡ä»¶æ•´ç†" class="headerlink" title="7. Gerber æ–‡ä»¶æ•´ç†"></a>7. Gerber æ–‡ä»¶æ•´ç†</h4><h5 id="7-1-PCBå·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹-SMT-ã€Gerber"><a href="#7-1-PCBå·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹-SMT-ã€Gerber" class="headerlink" title="7.1 PCBå·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ SMT ã€Gerber"></a>7.1 PCBå·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ SMT ã€Gerber</h5><p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/folder.png" alt="folder"></p>
<h5 id="7-2-è¾“å‡ºGerberæ–‡ä»¶æ·»åŠ åˆ°Gerberæ–‡ä»¶å¤¹"><a href="#7-2-è¾“å‡ºGerberæ–‡ä»¶æ·»åŠ åˆ°Gerberæ–‡ä»¶å¤¹" class="headerlink" title="7.2 è¾“å‡ºGerberæ–‡ä»¶æ·»åŠ åˆ°Gerberæ–‡ä»¶å¤¹"></a>7.2 è¾“å‡ºGerberæ–‡ä»¶æ·»åŠ åˆ°Gerberæ–‡ä»¶å¤¹</h5><p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/Gerberfoler.png" alt="Gerberfoler"></p>
<h5 id="7-3-åæ ‡æ–‡ä»¶ã€BOMã€é’¢ç½‘å±‚æ·»åŠ åˆ°SMTæ–‡ä»¶å¤¹"><a href="#7-3-åæ ‡æ–‡ä»¶ã€BOMã€é’¢ç½‘å±‚æ·»åŠ åˆ°SMTæ–‡ä»¶å¤¹" class="headerlink" title="7.3 åæ ‡æ–‡ä»¶ã€BOMã€é’¢ç½‘å±‚æ·»åŠ åˆ°SMTæ–‡ä»¶å¤¹"></a>7.3 åæ ‡æ–‡ä»¶ã€BOMã€é’¢ç½‘å±‚æ·»åŠ åˆ°SMTæ–‡ä»¶å¤¹</h5><p><img src="/2020/06/28/AltiumDesigner-Gerber%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA/SMTPaste.png" alt="SMTPaste"></p>
<h4 id="8-Altium-Designer-å¯¼å‡º-Gerberæ–‡ä»¶æ•™ç¨‹å®Œæ¯•"><a href="#8-Altium-Designer-å¯¼å‡º-Gerberæ–‡ä»¶æ•™ç¨‹å®Œæ¯•" class="headerlink" title="8. Altium Designer å¯¼å‡º Gerberæ–‡ä»¶æ•™ç¨‹å®Œæ¯•"></a>8. Altium Designer å¯¼å‡º Gerberæ–‡ä»¶æ•™ç¨‹å®Œæ¯•</h4><p> <a href="http://www.linelayout.com/bbs/bbs/uploadfile/image/20140917154916101610.pdf" target="_blank" rel="noopener">å‚è€ƒè¿æ¥</a></p>
]]></content>
      <categories>
        <category>Altium Designer</category>
        <category>Gerber</category>
      </categories>
      <tags>
        <tag>Gerber</tag>
        <tag>PCB_Design</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€nRF52832ã€‘å­¦ä¹ ç¬”è®° --&gt; GPIOTE (TASK/EVENT)</title>
    <url>/2020/08/06/GPIOTE/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   ARM_MDK5 (Keil5)</li>
<li>SDKç‰ˆæœ¬:   SDK_17.0.0 </li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   å®˜æ–¹å¼€å‘æ¿ PCA10040</li>
</ul>
<a id="more"></a>

<h2 id="GPIOTE-TASK-EVENT"><a href="#GPIOTE-TASK-EVENT" class="headerlink" title="GPIOTE (TASK/EVENT)"></a>GPIOTE (TASK/EVENT)</h2><h4 id="1-æ¦‚è¿°ä»‹ç»"><a href="#1-æ¦‚è¿°ä»‹ç»" class="headerlink" title="1. æ¦‚è¿°ä»‹ç»"></a>1. æ¦‚è¿°ä»‹ç»</h4><p>â€ƒâ€ƒGPIOTE é©±åŠ¨æ§åˆ¶ GPIO å’Œ GPIOTE å¤–è®¾,å¹¶é…ç½®å’Œæ§åˆ¶è¾“å‡ºå’Œè¾“å…¥å¼•è„šã€‚å¯ä»¥å°†è¾“å‡ºå¼•è„šé…ç½®ä¸ºæ‰‹åŠ¨æ§åˆ¶æˆ–è€…é€šè¿‡ GPIOTE ä»»åŠ¡è¿›è¡Œæ§åˆ¶ã€‚è¾“å…¥å¼•è„šå¯ä»¥é…ç½®åœ¨ä¸åŒæ¨¡å¼ä¸‹è¿›è¡Œæ§åˆ¶ã€‚</p>
<h4 id="2-GPIOTE-åŠŸèƒ½"><a href="#2-GPIOTE-åŠŸèƒ½" class="headerlink" title="2. GPIOTE åŠŸèƒ½"></a>2. GPIOTE åŠŸèƒ½</h4><p>&emsp;&emsp;nRF52832 çš„GPIOTEå…±æœ‰8ä¸ªé€šé“ï¼Œæ¯ä¸ªé€šé“å¦å¯ä»¥åˆ†é…ç»™ä¸€ä¸ªå¼•è„šï¼Œåˆ†é…çš„å¼•è„šå¯ä»¥é…ç½®ä¸ºä»»åŠ¡æ¨¡å¼æˆ–æ—¶é—´æ¨¡å¼ã€‚ä¸èƒ½å°†æŸä¸ªå¼•è„šåŒäº‹åˆ†é…ç»™å¤šä¸ªGPIOTEé€šé“ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ— æ³•é¢„æ–™çš„é”™è¯¯ã€‚</p>
<ul>
<li>GPIOTE æ¯ä¸ªé€šé“æœ‰Setã€Clearå’ŒOutä¸‰ä¸ªä»»åŠ¡ï¼ŒSetå’ŒClearä»»åŠ¡å¯¹å¼•è„šæ—¶å›ºå®šæ“ä½œï¼ŒOut ä»»åŠ¡å¯ä»¥å¼•è„šPINæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š<ul>
<li>Set  (ç½®ä½  è¾“å‡ºé«˜ç”µå¹³)</li>
<li>Clear (æ¸…é›¶ è¾“å‡ºä½ç”µå¹³ )</li>
<li>Toggle (ç¿»è½¬)</li>
</ul>
</li>
<li>GPIOTE æ¨¡å—éµå¾ªä»¥ä¸‹è¾“å…¥æ¡ä»¶ä¹‹ä¸€ï¼ŒGPIOTEæ¯ä¸ªé€šé“äº§ç”Ÿäº‹ä»¶ï¼š<ul>
<li>Rising edge (ä¸Šå‡æ²¿)</li>
<li>Falling edge (ä¸‹é™æ²¿)</li>
<li>Any change (ä»»æ„ç”µå¹³è·³å˜)</li>
</ul>
</li>
</ul>
<h4 id="3-PIN-Events-and-Tasks-å¼•è„šäº‹ä»¶å’Œä»»åŠ¡"><a href="#3-PIN-Events-and-Tasks-å¼•è„šäº‹ä»¶å’Œä»»åŠ¡" class="headerlink" title="3. PIN Events and Tasks (å¼•è„šäº‹ä»¶å’Œä»»åŠ¡)"></a>3. PIN Events and Tasks (å¼•è„šäº‹ä»¶å’Œä»»åŠ¡)</h4><ul>
<li>GPIOTEæ¨¡å—æœ‰è®¸å¤šä»»åŠ¡å’Œäº‹ä»¶ï¼Œå¯ä»¥é…ç½®GPIOTEæ¨¡å—å¯¹å•ä¸ªä»»åŠ¡çº¢å¤–äº‹ä»¶è¿›è¡Œæ“ä½œGPIO Pinã€‚</li>
<li>ä»»åŠ¡(Set[n]ã€Clr[n]ã€Out[n])å¯ç”¨äºå‘å•ä¸ªå¼•è„šå†™å…¥ï¼Œè€Œäº‹ä»¶(IN[n])å¯æœ‰å•ä¸ªå¼•è„šè¾“å…¥å¤„å‘ç”Ÿçš„å˜åŒ–ç”Ÿæˆã€‚</li>
<li>GPIOTEé€šå¸¦è¢«é…ç½®ç”¨äºæ“ä½œä¸€ä¸ªä»»åŠ¡å¼•è„šæ—¶ï¼Œå¼•è„šçš„åˆå§‹çŠ¶æ€æ—¶å¯ä»¥é…ç½®çš„ï¼Œå¯ä»¥é€šè¿‡é…ç½®CONFIG[n]å¯„å­˜å™¨ä¸­OUTINITæ¥è®¾ç½®å¼•è„šåˆå§‹åŒ–çŠ¶æ€ä¸ºé«˜ç”µå¹³æˆ–ä½ç”µå¹³ã€‚</li>
<li>åŒä¸€ä¸ªGPIOTEé€šé“ä¸­åŒæ—¶è§¦å‘äº†æœ‰å†²çªçš„ä»»åŠ¡ï¼Œä»»åŠ¡ä¼šå®‰è£…ä¼˜å…ˆçº§çš„é¡ºåºæ‰§è¡Œï¼š</li>
</ul>
<table>
<thead>
<tr>
<th align="center">ä¼˜å…ˆçº§</th>
<th align="center">ä»»åŠ¡</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">OUT</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">CLEAR</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">SET</td>
</tr>
</tbody></table>
<h4 id="4-Port-Event-ç«¯å£äº‹ä»¶"><a href="#4-Port-Event-ç«¯å£äº‹ä»¶" class="headerlink" title="4. Port Event (ç«¯å£äº‹ä»¶)"></a>4. Port Event (ç«¯å£äº‹ä»¶)</h4><p>&emsp;&emsp;Port æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ä»å¤šä¸ªè¾“å…¥å¼•è„šä½¿ç”¨GPIOæ£€æµ‹ä¿¡å·çš„äº§ç”Ÿã€‚P0.00~P0.31å‡å¯ä»¥è§¦å‘Portäº‹ä»¶ï¼ŒPortäº‹ä»¶ä½¿ç”¨äº†GPIOå¤–è®¾çš„æ„ŸçŸ¥æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä½¿ç”¨Portäº‹ä»¶ï¼Œå¿…é¡»æ“ä½œGPIOå¤–è®¾ï¼Œåœ¨GPIOå¤–è®¾ä¸­æ‰“å¼€å¼•è„šçš„æ„ŸçŸ¥åŠŸèƒ½ï¼Œæ³¨æ„Portäº‹ä»¶å¯„å­˜å™¨æ—¶å±äºGPIOTEå¤–è®¾çš„ã€‚<br>&emsp;&emsp;Portä¸éœ€è¦ä»»ä½•æ—¶é’Ÿæˆ–è€…å…¶ä»–ç”µæºç›¸å…³çš„å¤–è®¾ï¼Œå³ä½¿å¤–è®¾å¤„äºç©ºé—²çŠ¶æ€ï¼ŒPortäº‹ä»¶ä¹Ÿå¯ä»¥ä½¿èƒ½ã€‚å½“CPUå’Œæ‰€æœ‰å¤–è®¾å¤„äºIDLEçŠ¶æ€æ—¶ï¼ŒPortæ˜¯å•Šé‡‘å¯ä»¥å°†CPUä»WFIæˆ–WFEç±»å‹ä¼‘çœ ä¸­ï¼Œä»¥åŠCPUç©ºé—²æ¨¡å¼ä¸‹å”¤é†’ï¼Œå³åœ¨ç³»ç»ŸONæ¨¡å¼ä¸‹å®ç°æœ€ä½çš„åŠŸè€—ã€‚<br>&emsp;&emsp;Portäº‹ä»¶é¡µå¯ä»¥ä½œä¸ºå”¤é†’æºï¼Œå°†ç³»ç»Ÿä»System Offæ¨¡å¼å”¤é†’ï¼Œä½†æœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨äº†GPIOå¤–è®¾çš„æ„ŸçŸ¥æœºåˆ¶å”¤é†’ç³»ç»Ÿã€‚<br>&emsp;&emsp;é…ç½®Portäº‹ä»¶æ—¶ï¼Œä¸ºäº†é˜²æ­¢Portäº‹ä»¶äº§ç”Ÿè™šå‡çš„ä¸­æ–­ï¼Œç”¨æˆ·åº”é¦–å…ˆç¦æ­¢Portäº‹ä»¶ä¸­æ–­ï¼Œç„¶åå†é…ç½®Portäº‹ä»¶ï¼Œä¹‹åé€šè¿‡æ¸…é›¶EVENTS_PORTå¯„å­˜å™¨æ¸…é™¤äº‹ä»¶ï¼Œæœ€åä½¿èƒ½Portäº‹ä»¶ä¸­æ–­ã€‚</p>
<h4 id="5-GPIOTE-ä»£ç å®ç°"><a href="#5-GPIOTE-ä»£ç å®ç°" class="headerlink" title="5. GPIOTE ä»£ç å®ç°"></a>5. GPIOTE ä»£ç å®ç°</h4><h5 id="5-1-Sdk-config-h-é…ç½®"><a href="#5-1-Sdk-config-h-é…ç½®" class="headerlink" title="5.1   Sdk_config.h é…ç½®"></a>5.1   Sdk_config.h é…ç½®</h5><h6 id="5-1-1-Registers-å¯„å­˜å™¨ç‰ˆæœ¬"><a href="#5-1-1-Registers-å¯„å­˜å™¨ç‰ˆæœ¬" class="headerlink" title="5.1.1   Registers (å¯„å­˜å™¨ç‰ˆæœ¬)"></a>5.1.1   Registers (å¯„å­˜å™¨ç‰ˆæœ¬)</h6><p>â€ƒâ€ƒå¦‚æœé…ç½®å¯„å­˜å™¨ç‰ˆæœ¬çš„è¯ï¼Œä¸è®¸éœ€è¦åœ¨Sdk_config.hæ–‡ä»¶ä¸­é…ç½®ã€‚</p>
<h6 id="5-1-2-Library-åº“ç‰ˆæœ¬"><a href="#5-1-2-Library-åº“ç‰ˆæœ¬" class="headerlink" title="5.1.2   Library (åº“ç‰ˆæœ¬)"></a>5.1.2   Library (åº“ç‰ˆæœ¬)</h6><ol>
<li><p>æ·»åŠ  GPIOTE é©±åŠ¨æ–‡ä»¶ nrfx_gpiote.c ï¼ŒSDK è·¯å¾„ç›®å½•ï¼šâ€¦\modules\nrfx\drivers\src\nrfx_gpiote.c </p>
</li>
<li><p>å¤´æ–‡ä»¶å¼•ç”¨ â€œnrf_drv_gpiote.hâ€ã€‚</p>
</li>
<li><p>æ·»åŠ å¤´æ–‡ä»¶è·¯å¾„:</p>
<ul>
<li><strong>â€¦\modules\nrfx\drivers\include</strong></li>
<li><strong>â€¦\integration\nrfx\legacy</strong></li>
</ul>
</li>
<li><p>Sdk_config.h æ–‡ä»¶é…ç½®</p>
<ul>
<li><p>Text Editor é…ç½®</p>
<ul>
<li>GPIOTE_ENABLED   <strong>0</strong></li>
<li>GPIOTE_CONFIG_NUM_OF_LOW_POWER_EVENTS   <strong>4</strong></li>
<li>GPIOTE_CONFIG_IRQ_PRIORITY   <strong>1</strong></li>
<li>NRFX_GPIOTE_ENABLED   <strong>1</strong></li>
<li>NRFX_GPIOTE_CONFIG_NUM_OF_LOW_POWER_EVENTS   <strong>1</strong></li>
<li>NRFX_GPIOTE_CONFIG_IRQ_PRIORITY   <strong>1</strong></li>
<li>NRFX_GPIOTE_CONFIG_LOG_ENABLED   <strong>0</strong></li>
<li>NRFX_GPIOTE_CONFIG_LOG_LEVEL   <strong>3</strong></li>
<li>NRFX_GPIOTE_CONFIG_INFO_COLOR   <strong>0</strong></li>
<li>NRFX_GPIOTE_CONFIG_DEBUG_COLOR   <strong>0</strong></li>
</ul>
</li>
<li><p>Configuration Wizard é…ç½®</p>
<p><img src="/2020/08/06/GPIOTE/GPIOTE.png" alt="GPIOTE"></p>
<p><img src="/2020/08/06/GPIOTE/NRFX_GPIOTE.png" alt></p>
</li>
</ul>
</li>
</ol>
<h5 id="5-2-GPIOTE-Registers-å¯„å­˜å™¨ç‰ˆæœ¬"><a href="#5-2-GPIOTE-Registers-å¯„å­˜å™¨ç‰ˆæœ¬" class="headerlink" title="5.2   GPIOTE Registers (å¯„å­˜å™¨ç‰ˆæœ¬)"></a>5.2   GPIOTE Registers (å¯„å­˜å™¨ç‰ˆæœ¬)</h5><h6 id="5-2-1-gpiote-h-é…ç½®"><a href="#5-2-1-gpiote-h-é…ç½®" class="headerlink" title="5.2.1  gpiote.h é…ç½®"></a>5.2.1  gpiote.h é…ç½®</h6><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * gpiote.h</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-08-06</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: GPIOTE Interrupt Configuration</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GPIOTE_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOTE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdint.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf52.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_gpio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_gpiote.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"app_error.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Register versions and library versions select */</span></span><br><span class="line"><span class="comment">// #define REGISTER_VERSION</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LIBRARY_VERSION</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*      BUTTON DEFINE      */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON1 13</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON2 14</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON3 15</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON4 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*      LED PIN DEFINE    */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED1 17</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED2 18</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED3 19</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED4 20</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//void GPIOTE_IRQHandler(void);</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gpiote_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* GPIOTE_H__ */</span></span></span><br></pre></td></tr></table></figure>

<h6 id="5-2-2-gpiote-c-é…ç½®"><a href="#5-2-2-gpiote-c-é…ç½®" class="headerlink" title="5.2.2 gpiote.c é…ç½®"></a>5.2.2 gpiote.c é…ç½®</h6><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * gpiote.c</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-08-06</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: GPIOTE Interrupt Configuration</span></span><br><span class="line"><span class="comment">                 Register versions and library function versions implement GPIOTE</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"gpiote.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gpiote_init</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    nrf_gpio_cfg_input(PCA10040_BUTTON1, NRF_GPIO_PIN_PULLUP);</span><br><span class="line">    nrf_gpio_cfg_input(PCA10040_BUTTON2, NRF_GPIO_PIN_PULLUP);</span><br><span class="line">    nrf_gpio_cfg_input(PCA10040_BUTTON3, NRF_GPIO_PIN_PULLUP);</span><br><span class="line">    nrf_gpio_cfg_input(PCA10040_BUTTON4, NRF_GPIO_PIN_PULLUP);</span><br><span class="line"></span><br><span class="line">    NVIC_EnableIRQ(GPIOTE_IRQn);        <span class="comment">/* Enable Interrupt */</span></span><br><span class="line"></span><br><span class="line">    NRF_GPIOTE-&gt;CONFIG[<span class="number">0</span>] = (GPIOTE_CONFIG_MODE_Event &lt;&lt; GPIOTE_CONFIG_MODE_Pos) | (PCA10040_BUTTON1 &lt;&lt; GPIOTE_CONFIG_PSEL_Pos) |(GPIOTE_CONFIG_POLARITY_HiToLo &lt;&lt; GPIOTE_CONFIG_POLARITY_Pos);</span><br><span class="line">    NRF_GPIOTE-&gt;CONFIG[<span class="number">1</span>] = (GPIOTE_CONFIG_MODE_Event &lt;&lt; GPIOTE_CONFIG_MODE_Pos) | (PCA10040_BUTTON2 &lt;&lt; GPIOTE_CONFIG_PSEL_Pos) |(GPIOTE_CONFIG_POLARITY_HiToLo &lt;&lt; GPIOTE_CONFIG_POLARITY_Pos);</span><br><span class="line">    NRF_GPIOTE-&gt;CONFIG[<span class="number">2</span>] = (GPIOTE_CONFIG_MODE_Event &lt;&lt; GPIOTE_CONFIG_MODE_Pos) | (PCA10040_BUTTON3 &lt;&lt; GPIOTE_CONFIG_PSEL_Pos) |(GPIOTE_CONFIG_POLARITY_HiToLo &lt;&lt; GPIOTE_CONFIG_POLARITY_Pos);</span><br><span class="line">    NRF_GPIOTE-&gt;CONFIG[<span class="number">3</span>] = (GPIOTE_CONFIG_MODE_Event &lt;&lt; GPIOTE_CONFIG_MODE_Pos) | (PCA10040_BUTTON4 &lt;&lt; GPIOTE_CONFIG_PSEL_Pos) |(GPIOTE_CONFIG_POLARITY_HiToLo &lt;&lt; GPIOTE_CONFIG_POLARITY_Pos);</span><br><span class="line"></span><br><span class="line">    NRF_GPIOTE-&gt;INTENSET = GPIOTE_INTENSET_IN0_Set &lt;&lt; GPIOTE_INTENSET_IN0_Pos;</span><br><span class="line">    NRF_GPIOTE-&gt;INTENSET = GPIOTE_INTENSET_IN1_Set &lt;&lt; GPIOTE_INTENSET_IN1_Pos;</span><br><span class="line">    NRF_GPIOTE-&gt;INTENSET = GPIOTE_INTENSET_IN2_Set &lt;&lt; GPIOTE_INTENSET_IN2_Pos;</span><br><span class="line">    NRF_GPIOTE-&gt;INTENSET = GPIOTE_INTENSET_IN3_Set &lt;&lt; GPIOTE_INTENSET_IN3_Pos;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GPIOTE_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON1)== <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">0</span>] == <span class="number">1</span>) &amp;&amp; (NRF_GPIOTE-&gt;INTENSET &amp; GPIOTE_INTENSET_IN0_Msk))</span><br><span class="line">        &#123;</span><br><span class="line">            NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">//ä¸­æ–­äº‹ä»¶æ¸…é›¶.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON1)== <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                nrf_gpio_pin_toggle(PCA10040_LED1);<span class="comment">//ledç¯ç¿»è½¬</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON2)== <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">1</span>] == <span class="number">1</span>) &amp;&amp; (NRF_GPIOTE-&gt;INTENSET &amp; GPIOTE_INTENSET_IN1_Msk))</span><br><span class="line">        &#123;</span><br><span class="line">            NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">1</span>] = <span class="number">0</span>; <span class="comment">//ä¸­æ–­äº‹ä»¶æ¸…é›¶.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON2)== <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                nrf_gpio_pin_toggle(PCA10040_LED2);<span class="comment">//ledç¯ç¿»è½¬</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON3)== <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">2</span>] == <span class="number">1</span>) &amp;&amp; (NRF_GPIOTE-&gt;INTENSET &amp; GPIOTE_INTENSET_IN2_Msk))</span><br><span class="line">        &#123;</span><br><span class="line">            NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">2</span>] = <span class="number">0</span>; <span class="comment">// ä¸­æ–­äº‹ä»¶æ¸…é›¶.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON3)== <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                nrf_gpio_pin_toggle(PCA10040_LED3);<span class="comment">// LEDç¯ç¿»è½¬</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON4)== <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">3</span>] == <span class="number">1</span>) &amp;&amp; (NRF_GPIOTE-&gt;INTENSET &amp; GPIOTE_INTENSET_IN3_Msk))</span><br><span class="line">        &#123;</span><br><span class="line">            NRF_GPIOTE-&gt;EVENTS_IN[<span class="number">3</span>] = <span class="number">0</span>; <span class="comment">//ä¸­æ–­äº‹ä»¶æ¸…é›¶.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nrf_gpio_pin_read(PCA10040_BUTTON4)== <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                nrf_gpio_pin_toggle(PCA10040_LED4);<span class="comment">//LEDç¯ç¿»è½¬</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-3-GPIOTE-Library-åº“ç‰ˆæœ¬"><a href="#5-3-GPIOTE-Library-åº“ç‰ˆæœ¬" class="headerlink" title="5.3   GPIOTE Library (åº“ç‰ˆæœ¬)"></a>5.3   GPIOTE Library (åº“ç‰ˆæœ¬)</h5><h6 id="5-3-1-gpiote-h-é…ç½®"><a href="#5-3-1-gpiote-h-é…ç½®" class="headerlink" title="5.3.1 gpiote.h é…ç½®"></a>5.3.1 gpiote.h é…ç½®</h6><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * gpiote.h</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-08-06</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: GPIOTE Interrupt Configuration</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GPIOTE_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOTE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdint.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf52.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_gpio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_gpiote.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"app_error.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Register versions and library versions select */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> REGISTER_VERSION</span></span><br><span class="line"><span class="comment">//#define LIBRARY_VERSION</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*      BUTTON DEFINE      */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON1 13</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON2 14</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON3 15</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_BUTTON4 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*      LED PIN DEFINE    */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED1 17</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED2 18</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED3 19</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PCA10040_LED4 20</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GPIOTE_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gpiote_init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* GPIOTE_H__ */</span></span></span><br></pre></td></tr></table></figure>

<h6 id="5-3-2-gpiote-cé…ç½®"><a href="#5-3-2-gpiote-cé…ç½®" class="headerlink" title="5.3.2 gpiote.cé…ç½®"></a>5.3.2 gpiote.cé…ç½®</h6><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * gpiote.c</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-08-06</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: GPIOTE Interrupt Configuration</span></span><br><span class="line"><span class="comment">                 Register versions and library function versions implement GPIOTE</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">in_gpiote_handler</span><span class="params">(<span class="keyword">nrf_drv_gpiote_pin_t</span> pin, <span class="keyword">nrf_gpiote_polarity_t</span> action)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (pin)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> PCA10040_BUTTON1:</span><br><span class="line">            nrf_gpio_pin_toggle(PCA10040_LED1);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> PCA10040_BUTTON2:</span><br><span class="line">            nrf_gpio_pin_toggle(PCA10040_LED2);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> PCA10040_BUTTON3:</span><br><span class="line">            nrf_gpio_pin_toggle(PCA10040_LED3);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> PCA10040_BUTTON4:</span><br><span class="line">            nrf_gpio_pin_toggle(PCA10040_LED4);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gpiote_init</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">ret_code_t</span> err_code;</span><br><span class="line"></span><br><span class="line">    err_code = nrf_drv_gpiote_init();</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">nrf_drv_gpiote_in_config_t</span> in_config = GPIOTE_CONFIG_IN_SENSE_HITOLO(<span class="literal">true</span>);</span><br><span class="line">    in_config.pull = NRF_GPIO_PIN_PULLUP;</span><br><span class="line"></span><br><span class="line">    err_code = nrf_drv_gpiote_in_init(PCA10040_BUTTON1, &amp;in_config, in_gpiote_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line">    err_code = nrf_drv_gpiote_in_init(PCA10040_BUTTON2, &amp;in_config, in_gpiote_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line">    err_code = nrf_drv_gpiote_in_init(PCA10040_BUTTON3, &amp;in_config, in_gpiote_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line">    err_code = nrf_drv_gpiote_in_init(PCA10040_BUTTON4, &amp;in_config, in_gpiote_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line"></span><br><span class="line">    nrf_drv_gpiote_in_event_enable(PCA10040_BUTTON1, <span class="literal">true</span>);</span><br><span class="line">    nrf_drv_gpiote_in_event_enable(PCA10040_BUTTON2, <span class="literal">true</span>);</span><br><span class="line">    nrf_drv_gpiote_in_event_enable(PCA10040_BUTTON3, <span class="literal">true</span>);</span><br><span class="line">    nrf_drv_gpiote_in_event_enable(PCA10040_BUTTON4, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-4-MAIN-C-è°ƒç”¨å®ç°"><a href="#5-4-MAIN-C-è°ƒç”¨å®ç°" class="headerlink" title="5.4 MAIN.C è°ƒç”¨å®ç°"></a>5.4 MAIN.C è°ƒç”¨å®ç°</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nordic_common.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"boards.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_systick.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_clock.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_timer.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_log.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_log_ctrl.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_log_default_backends.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_pwr_mgmt.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* wuliZhaoch Include File */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"led.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"timer.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"gpiote.h"</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief Function for application main entry.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    gpiote_init();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (NRF_LOG_PROCESS() == <span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            nrf_pwr_mgmt_run();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** @&#125; */</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Nordic</category>
      </categories>
      <tags>
        <tag>Nordic</tag>
        <tag>Bluetooth</tag>
        <tag>nRF52</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Gitã€‘å­¦ä¹ ç¬”è®° --&gt; Git åˆæ¬¡è¿è¡Œå‰çš„é…ç½®</title>
    <url>/2020/05/07/Git%E5%88%9D%E6%AC%A1%E8%BF%90%E8%A1%8C%E5%89%8D%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<h2 id="Gitåˆæ¬¡è¿è¡Œé…ç½®"><a href="#Gitåˆæ¬¡è¿è¡Œé…ç½®" class="headerlink" title="Gitåˆæ¬¡è¿è¡Œé…ç½®"></a>Gitåˆæ¬¡è¿è¡Œé…ç½®</h2><h3 id="1-ç”¨æˆ·ä¿¡æ¯"><a href="#1-ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="1.    ç”¨æˆ·ä¿¡æ¯"></a>1.    ç”¨æˆ·ä¿¡æ¯</h3><ul>
<li>å®‰è£…å®ŒGitåº”è¯¥åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®è‡ªå·±çš„ç”¨æˆ·åç§°å’Œé‚®ä»¶åœ°å€.</li>
<li>å‘½ä»¤å¦‚ä¸‹:<ul>
<li><code>$ git config --global user.name &quot;Zhao_ch&quot;</code> </li>
<li><code>$ git config --global user.email &quot;Zhao_ch@163.com&quot;</code></li>
</ul>
</li>
<li>å¦‚æœä½¿ç”¨äº†â€“globalé€‰é¡¹ï¼Œé‚£ä¹ˆè¯¥å‘½ä»¤æ˜¯éœ€è¦è¿è¡Œä¸€æ¬¡ï¼Œå› ä¸ºä¹‹åæ— è®ºä½ åœ¨ç³»ç»Ÿä¸Šåšä»»ä½•äº‹æƒ…ï¼ŒGitéƒ½ä¼šä½¿ç”¨è¿™äº›ä¿¡æ¯  </li>
</ul>
<h3 id="2-æ–‡æœ¬ç¼–è¾‘å™¨"><a href="#2-æ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="2.   æ–‡æœ¬ç¼–è¾‘å™¨"></a>2.   æ–‡æœ¬ç¼–è¾‘å™¨</h3><ul>
<li>ç”¨æˆ·ä¿¡æ¯è®¾ç½®å®Œæ¯•ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨  </li>
<li>å¦‚æœæ²¡æœ‰è®¾ç½®ï¼ŒGitä¼šä½¿ç”¨æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé€šå¸¸æ˜¯Vim </li>
<li>ä¾‹å¦‚è®¾ç½®æ–‡æœ¬ç¼–è¾‘å™¨ä¸ºNotepad++  <ul>
<li>å‘½ä»¤å¦‚ä¸‹ï¼š    <ul>
<li>`$ git config â€“global core.editor Notepad++</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-æ£€æŸ¥é…ç½®ä¿¡æ¯"><a href="#3-æ£€æŸ¥é…ç½®ä¿¡æ¯" class="headerlink" title="3.   æ£€æŸ¥é…ç½®ä¿¡æ¯"></a>3.   æ£€æŸ¥é…ç½®ä¿¡æ¯</h3><ul>
<li>å¦‚æœæŸ¥è¯¢é…ç½®ä¿¡æ¯å¯ä»¥ä½¿ç”¨ $ git config â€“list å‘½ä»¤åˆ—å‡ºæ‰€æœ‰é…ç½®ä¿¡æ¯ã€‚</li>
</ul>
<h3 id="4-ç”Ÿæˆå¯†é’¥"><a href="#4-ç”Ÿæˆå¯†é’¥" class="headerlink" title="4.   ç”Ÿæˆå¯†é’¥"></a>4.   ç”Ÿæˆå¯†é’¥</h3><ul>
<li>å‘½ä»¤å¦‚ä¸‹:<ul>
<li><code>$ ssh-keygen -t rsa -C &quot;Zhao_ch@163.com&quot;</code></li>
</ul>
</li>
<li>å¦‚æœä¸è®¾ç½®å¯†ç çš„è¯ è¿ç»­ 3 ä¸ªå›è½¦ã€‚ç„¶åç”Ÿæˆ id_rsa å’Œ id_rsa.pub ä¸¤ä¸ªæ–‡ä»¶ã€‚<ul>
<li><strong>Hostsæ–‡ä»¶é…ç½® æ–‡ä»¶ä½ç½®</strong> <strong>C:\Windows\System32\drivers\etc\hosts</strong>     </li>
<li>æ·»åŠ  35.231.145.151 <a href="http://gitlab.com/" target="_blank" rel="noopener">gitlab.com</a>   </li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Github</tag>
        <tag>Gitlab</tag>
        <tag>Gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Gitã€‘å­¦ä¹ ç¬”è®° --&gt; Git åˆ†æ”¯ç®¡ç† (Git_Flow)</title>
    <url>/2020/05/08/Git%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86-Git-Flow/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<ul>
<li><p>ä¸»åˆ†æ”¯Masterï¼š</p>
<pre><code>ä»£ç åº“åº”è¯¥æœ‰ä¸€ä¸ªï¼Œä¸”ä»…æœ‰ä¸€ä¸ªä¸»åˆ†æ”¯ã€‚(æä¾›ç»™ç”¨æˆ·çš„æ­£å¼ç‰ˆæœ¬ï¼Œéƒ½åœ¨ä¸»åˆ†æ”¯ä¸Šå‘å¸ƒ(æœ‰ç‰ˆæœ¬æ ‡ç­¾))</code></pre></li>
<li><p>å¼€å‘åˆ†æ”¯Developï¼š</p>
<pre><code>ä¸»åˆ†æ”¯åªç”¨æ¥å‘å¸ƒé‡å¤§ç‰ˆæœ¬ï¼Œæ—¥å¸¸å¼€å‘åº”è¯¥åœ¨å¦ä¸€æ¡åˆ†æ”¯(å³å¼€å‘åˆ†æ”¯ï¼ˆDevelop))
Gitåˆ›å»ºDevelopåˆ†æ”¯å‘½ä»¤ï¼š
    git checkout -b develop master
Developåˆ†æ”¯åˆå¹¶åˆ°Masteråˆ†æ”¯å‘½ä»¤ï¼š
# åˆ‡æ¢åˆ°Masteråˆ†æ”¯ï¼š
    git checkout master
# å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶
    git merge --no-ff develop
ï¼ˆ--no-ffå‚æ•°ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒGitæ‰§è¡Œ&quot;å¿«è¿›å¼åˆå¹¶&quot; Fast-Farward merge ç›´æ¥å°†Masteråˆ†æ”¯æŒ‡å‘Developåˆ†æ”¯ï¼‰</code></pre></li>
<li><p>ä¸´æ—¶æ€§åˆ†æ”¯ï¼š</p>
<pre><code>Master å’Œ Developï¼Œå‰è€…ç”¨äºæ­£å¼å‘å¸ƒï¼Œåè€…ç”¨äºæ—¥å¸¸å¼€å‘ã€‚é™¤äº†å¸¸è®¾åˆ†æ”¯ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸´æ—¶åˆ†æ”¯ï¼Œç”¨äºåº”ç”¨ä¸€äº›ç‰¹å®šç›®çš„çš„ç‰ˆæœ¬å¼€å‘ã€‚ä¸´æ—¶æ€§åˆ†æ”¯æœ‰ä¸‰ç§ï¼š
    åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯
    é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯
    ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯
ï¼ˆè¿™ä¸‰ç§åˆ†æ”¯å±äºä¸´æ—¶æ€§éœ€è¦ï¼Œä½¿ç”¨å®Œæˆä¹‹åï¼Œåº”è¯¥åˆ é™¤ï¼Œä½¿å¾—ä»£ç åº“çš„å¸¸è®¾åˆ†æ”¯å§‹ç»ˆåªæœ‰Masterå’ŒDevelopåˆ†æ”¯ï¼‰

1. åŠŸèƒ½åˆ†æ”¯ï¼š
    åŠŸèƒ½åˆ†æ”¯ï¼Œæ˜¯ä¸ºäº†å¼€å‘æŸç§ç‰¹å®šåŠŸèƒ½ï¼Œä»Developåˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ã€‚å¼€å‘å®Œæˆåï¼Œè¦åˆå¹¶åˆ°Developåˆ†æ”¯ä¸Šã€‚(åŠŸèƒ½åˆ†æ”¯çš„åå­—ï¼Œå¯ä»¥é‡‡ç”¨feature-*çš„å½¢å¼å‘½å)
    Git åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š
        git checkout -b feature-x develop
    å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š
        git checkout develop
        git merge --no-ff feature-x
    åˆ é™¤featur-xåˆ†æ”¯ï¼š
        git branch -d feature-x

2. é¢„å‘å¸ƒåˆ†æ”¯ï¼š
    æŒ‡å‘å¸ƒæ­£å¼ç‰ˆæœ¬ä¹‹å‰ï¼ˆå³åˆå¹¶Masteråˆ†æ”¯ä¹‹å‰ï¼‰ï¼Œå¯èƒ½éœ€è¦æœ‰ä¸€ä¸ªé¢„å‘å¸ƒçš„ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ã€‚
    é¢„å‘å¸ƒåˆ†æ”¯æ˜¯ä»Developåˆ†æ”¯ä¸Šè¾¹åˆ†å‡ºæ¥çš„ï¼Œé¢„å‘å¸ƒç»“æŸåï¼Œå¿…é¡»åˆå¹¶è¿›Developå’ŒMasteråˆ†æ”¯ä¸Šã€‚
    å‘½åé‡‡ç”¨release-*çš„å½¢å¼ï¼š
    åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š
    git checkout -b release-1.2 develop
ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶Masteråˆ†æ”¯ï¼š
    git checkout master
    git merge --no-ff release-1.2
    # å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾
    git tag -a 1.2
ç„¶ååˆå¹¶åˆ°developåˆ†æ”¯ï¼š
    git checkout develop
    git merge --no-ff release-1.2
æœ€ååˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š
    git branch -d release-1.2

3. ä¿®è¡¥bugåˆ†æ”¯ï¼š
        è½¯ä»¶æ­£å¼å‘å¸ƒä»¥åï¼Œéš¾å…å›å‡ºç°bugã€‚è¿™æ˜¯å°±éœ€è¦åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œè¿›è¡Œbugä¿®è¡¥.
        ä¿®è¡¥bugåˆ†æ”¯æ˜¯ä»Masteråˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ã€‚ä¿®è¡¥ç»“æŸåï¼Œå†åˆå¹¶è¿›Masterå’ŒDevelopåˆ†æ”¯ã€‚
    å‘½åé‡‡ç”¨fixbug-*çš„å½¢å¼:
        åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š
            git checkout -b fixbug-0.1 master
        ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š
            git checkout master
            git merge --no-ff fixbug-0.1
            git tag -a 0.1.1
        å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š
            git checkout develop
            git merge --no-ff fixbug-0.1
    æœ€åï¼Œåˆ é™¤&quot;ä¿®è¡¥bugåˆ†æ”¯&quot;ï¼š
        git branch -d fixbug-0.1</code></pre></li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Github</tag>
        <tag>Gitlab</tag>
        <tag>Gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€nRF52832ã€‘å­¦ä¹ ç¬”è®° --&gt; Flash Data Storage (FDS)å­˜å‚¨</title>
    <url>/2020/07/11/Nordic-FDS/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   ARM_MDK5 (Keil5)</li>
<li>SDKç‰ˆæœ¬:   SDK_17.0.0 </li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   å®˜æ–¹å¼€å‘æ¿ PCA10040</li>
</ul>
<a id="more"></a>

<h2 id="Flash-Data-Storage-FDS-å­˜å‚¨"><a href="#Flash-Data-Storage-FDS-å­˜å‚¨" class="headerlink" title="Flash Data Storage (FDS)å­˜å‚¨"></a>Flash Data Storage (FDS)å­˜å‚¨</h2><h4 id="1-FDSæ¦‚è¿°ä»‹ç»"><a href="#1-FDSæ¦‚è¿°ä»‹ç»" class="headerlink" title="1.  FDSæ¦‚è¿°ä»‹ç»"></a>1.  FDSæ¦‚è¿°ä»‹ç»</h4><p>&emsp;&emsp;FDS (<em>Flash Data Storage</em>) æ¨¡å—æ˜¯ç”¨äºèŠ¯ç‰‡ä¸Šé—ªå­˜å­˜å‚¨çš„ä¸€ä¸ªæœ€å°æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°é™ä½æ•°æ®æŸåçš„é£é™©ï¼Œå¹¶ç®€åŒ–ä¸æŒä¹…å­˜å‚¨çš„äº¤äº’ã€‚NordicèŠ¯ç‰‡å†…éƒ¨FLASHçš„å­˜å‚¨å®˜æ–¹æä¾›äº†ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ FS (<em>Flash Storage</em>)ã€å¦ä¸€ç§æ˜¯FDS (<em>Flash Data Storage</em>) ã€‚ç›¸å¯¹äºFS (<em>Flash Storage</em>)æ¥è¯´ï¼ŒFDS (<em>Flash Data Storage</em>)å¯¹æ•°æ®çš„ç»„ç»‡æ€§å’Œå®‰å…¨æ€§æ›´å¼ºã€‚</p>
<p>FDSæ¨¡å—çš„è®¾è®¡ä¹Ÿæä¾›äº†ä»¥ä¸‹ä¼˜ç‚¹:</p>
<ul>
<li><p>é€šè¿‡ä¸æ–­éªŒè¯æœ€å°åŒ–è®¿é—®æŸåæ•°æ®çš„é£é™©: </p>
<ul>
<li>åœ¨æ–­ç”µçš„æƒ…å†µä¸‹ï¼Œæ•°æ®å¯èƒ½å†™å…¥ä¸å®Œæ•´ã€‚éªŒè¯ç¡®ä¿FDSèƒ½å¤Ÿè¯†åˆ«æ— æ•ˆæ•°æ®ï¼Œå¹¶ä¸”ä¸ä¼šå°†æŸåçš„æ•°æ®è¿”å›ç»™ç”¨æˆ·ã€‚</li>
</ul>
</li>
<li><p>åœ¨æ‰“å¼€è®°å½•æ—¶æä¾›(å¯é€‰çš„)CRCéªŒè¯ï¼Œä»¥ç¡®ä¿æ•°æ®è‡ªå†™å…¥ä»¥åæ²¡æœ‰æ”¹å˜ã€‚</p>
</li>
<li><p>æœ€å°åŒ–Flashæ“ä½œ(æ›´æ–°å’Œåˆ é™¤):</p>
<ul>
<li>FDSä¸æ˜¯åˆ é™¤æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯å­˜å‚¨æ–°æ•°æ®çš„å‰¯æœ¬ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå­—å†™å…¥æ¥ä½¿è¿‡æ—¶çš„æ•°æ®å¤±æ•ˆã€‚</li>
</ul>
</li>
<li><p>åŸºæœ¬æŸè€—å‡è¡¡:</p>
<ul>
<li>Flashçš„ä½¿ç”¨å¯¿å‘½æ˜¯æœ‰é™çš„ï¼ŒFlashå…·æœ‰æœ€å¤§å¯æ“¦å†™æ¬¡æ•°ï¼Œä¸€æ—¦å¯¹Flashçš„æŸä¸ªå—çš„æ“¦å†™è¶…è¿‡æœ€å¤§æ“¦å†™æ¬¡æ•°ï¼Œè¿™ä¸ªå—å°±ä¼šæŸåã€‚æ‰€ä»¥å¯¹Flashçš„æ“¦å†™åº”è¯¥å‡åŒ€çš„åˆ†å¸ƒåœ¨å¿«ä¸Šï¼Œå°†å—å……åˆ†åˆ©ç”¨ï¼Œå‡å°‘æ“¦å†™çš„æ¬¡æ•°ï¼Œæé«˜Flashçš„ä½¿ç”¨å¯¿å‘½ã€‚</li>
</ul>
</li>
<li><p>ä¸éœ€è¦å¤åˆ¶æ•°æ®å°±å¯ä»¥è½»æ¾è®¿é—®æ•°æ®ï¼Œè¿™ä½¿å¾—è®¿é—®æ•°æ®çš„å½±å“ä¸æ•°æ®å¤§å°æ— å…³ã€‚</p>
</li>
<li><p>é€šè¿‡çµæ´»é€‰æ‹©æ•°æ®å—çš„å¤§å°æ¥æœ€å°åŒ–çš„ä½¿ç”¨å†…å­˜ã€‚</p>
</li>
<li><p>å¯¹æ•°æ®çš„å†…å®¹ä¸åŠ é™åˆ¶ (è¿™æ„å‘³ç€å®ƒå¯ä»¥åŒ…å«ç‰¹æ®Šå­—ç¬¦) ã€‚</p>
<p><strong>Flashæ•°æ®å­˜å‚¨æ”¯æŒåŒæ­¥è¯»å–æ“ä½œå’Œå¼‚æ­¥å†™å…¥ã€‚</strong></p>
</li>
</ul>
<h4 id="2-FDSåŠŸèƒ½ä»‹ç»"><a href="#2-FDSåŠŸèƒ½ä»‹ç»" class="headerlink" title="2.  FDSåŠŸèƒ½ä»‹ç»"></a>2.  FDSåŠŸèƒ½ä»‹ç»</h4><p>&emsp;&emsp;Flash Data Storage API å…¬å¼€äº†æ“ä½œæ–‡ä»¶å’Œè®°å½•çš„åŠŸèƒ½ï¼Œæ–‡ä»¶ç”±ä¸€æ¡æˆ–å¤šæ¡åŒ…å«å®é™…æ•°æ®çš„è®°å½•ç»„æˆï¼Œæ¯ä¸€æ¡è®°å½•éƒ½ç”±ä¸€ä¸ª <strong>KEY</strong> æ ‡å¿—å¹¶é€šè¿‡ <strong>File ID</strong> å…³è”åˆ°æ–‡ä»¶ã€‚File ID å’Œ Record Key éƒ½ä¸è¦æ±‚å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ–‡ä»¶å¯ä»¥åŒ…å«å…·æœ‰ç›¸åŒ Key çš„å¤šä¸ªè®°å½•ï¼Œå¯ä»¥é€šè¿‡ File ID å’Œ Record Key çš„ä»»æ„ç»„åˆè®¿é—®è®°å½•ã€‚</p>
<p>For Exampleï¼Œan application could use the following two files:</p>
<ul>
<li><p>File 1 with two record:     0x1111 = â€œPhone1â€,  0x2222 = â€œdata:123456â€</p>
</li>
<li><p>File 2 with three record:  0x1111 = â€œTables1â€,  0x2222 = â€œdata:123456â€,  0x2222 = â€œdata: adcsdfâ€</p>
</li>
</ul>
<p>&emsp;&emsp;å¯ä»¥éå†File 1ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œæ‰€æœ‰Keyä¸º0x2222çš„è®°å½•ã€‚å¯ä»¥éå†File 2 ä¸­ Key ä¸º0x1111 çš„è®°å½•ã€‚</p>
<h5 id="2-1-Creating-Record-åˆ›å»ºè®°å½•"><a href="#2-1-Creating-Record-åˆ›å»ºè®°å½•" class="headerlink" title="2.1   Creating Record (åˆ›å»ºè®°å½•)"></a>2.1   Creating Record (åˆ›å»ºè®°å½•)</h5><ul>
<li>æ–°è®°å½•å†™å…¥Flashæ—¶ï¼Œå¿…é¡»æä¾›Record Keyã€File ID å’Œ å°†è¦å†™å…¥çš„æ•°æ®ã€‚</li>
<li>æ›´æ–°è®°å½• (å†™è®°å½•)æˆåŠŸåï¼Œè¿”å›ä¸€ä¸ªè®°å½•æè¿°ç¬¦ï¼Œå¯ä»¥ç”¨å®ƒæ¥è®¿é—®è®°å½•ã€‚åœ¨è®¿é—®ä¹‹å‰ï¼Œç­‰å¾…è¡¨æ˜å†™å…¥æ“ä½œæˆåŠŸå®Œæˆçš„äº‹ä»¶ã€‚</li>
</ul>
<h5 id="2-2-Manipulating-Record-å¤„ç†è®°å½•"><a href="#2-2-Manipulating-Record-å¤„ç†è®°å½•" class="headerlink" title="2.2   Manipulating Record (å¤„ç†è®°å½•)"></a>2.2   Manipulating Record (å¤„ç†è®°å½•)</h5><ul>
<li>è¯»å–ã€æ›´æ–°æˆ–è€…åˆ é™¤è®°å½•çš„å†…å®¹ï¼Œå¿…é¡»é€šè¿‡è®°å½•çš„æè¿°ç¬¦è®¿é—®è®°å½•ã€‚é¦–æ¬¡è®°å½•å†™å…¥Flashæ—¶ï¼ŒFDSä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ­¤è®°å½•çš„æè¿°ç¬¦ã€‚</li>
<li>è·å–è®°å½•æè¿°ç¬¦å‡½æ•°ï¼š<ul>
<li>fds_record_find</li>
<li>fds_record_find_by_key</li>
<li>fds_record_find_in_file</li>
</ul>
</li>
<li>ä»¥ä¸Šå‡½æ•°å¯ä»¥æ ¹æ® Record key å’Œ File ID æŸ¥æ‰¾è®°å½•ã€‚ </li>
<li>FDS å¹¶æ²¡æœ‰è¦æ±‚ Record Key æˆ– File ID æ˜¯å”¯ä¸€çš„ã€‚å› æ­¤ï¼Œåœ¨æŸ¥æ‰¾è®°å½•çš„æ—¶å€™å¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªåŒ¹é…çš„è®°å½•ã€‚è®°è·¯æŸ¥æ‰¾å‡½æ•°æ¯æ¬¡è¿”å›ä¸€ä¸ªåŒ¹é…çš„è®°å½•å¹¶ä¿å­˜å½“å‰æŸ¥æ‰¾çš„è¿›åº¦ï¼Œè¿”å›çš„ Token è®°å½•äº†æœ€æ–°åŒ¹é…çš„è®°å½•ä½ç½®ï¼Œé€šè¿‡ Token åœ¨æ¥ä¸‹æ¥çš„æŸ¥æ‰¾ä¸­å°±å¯ä»¥ä¸å¿…ä»å¤´å¼€å§‹ï¼Œç›´æ¥ä» Token è®°å½•çš„ä½ç½®å¼€å§‹å³å¯ã€‚</li>
</ul>
<h5 id="2-3-Reading-Record-è¯»å–è®°å½•"><a href="#2-3-Reading-Record-è¯»å–è®°å½•" class="headerlink" title="2.3   Reading Record (è¯»å–è®°å½•)"></a>2.3   Reading Record (è¯»å–è®°å½•)</h5><ul>
<li>è¯»å–è®°å½•å¯ä»¥ç›´æ¥åœ¨Flashä¸­è¯»å–å†…å®¹ (å­˜å‚¨æ•°æ®å’Œå…ƒæ•°æ®)ï¼Œè¿™æ„å‘³ç€åº”ç”¨ç¨‹åºå°†å†³å®šæ—¶å¤åˆ¶æ•°æ®ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨ RAM ä¸­è¿˜æ˜¯åœ¨æœ¬åœ°ä½¿ç”¨æ•°æ®ã€‚</li>
<li>è®¿é—®è®°å½•å†…å®¹ (è¯»å–æ•°æ®)ï¼Œéœ€è¦æ‰“å¼€è®°å½•ä»¥æ£€ç´¢æŒ‡å‘è®°å½•æ•°æ®å’Œå…ƒæ•°æ®å­˜å‚¨åœ¨Flashä¸­çš„ä½ç½®çš„æŒ‡é’ˆã€‚ä½¿ç”¨ <strong>fds_record_open()</strong> å‡½æ•°æ‰“å¼€è®°å½•ï¼Œ<strong>fds_record_open()</strong> å‡½æ•°ç¡®ä¿åœ¨è®¿é—®è®°å½•æ—¶ä¸ä¼šä¿®æ”¹è®°å½•æˆ–è®°å½•ç§»åŠ¨åˆ° Flash ä¸­çš„å…¶ä»–ä½ç½®ã€‚è®¿é—®è®°å½•å®Œæˆåï¼Œå¿…é¡»å…³é—­è®°å½• <strong>fds_record_close()</strong> ä»¥é‡Šæ”¾å¯¹è®°å½•çš„é”å®šã€‚</li>
</ul>
<h5 id="2-4-Updating-Record-æ›´æ–°è®°å½•"><a href="#2-4-Updating-Record-æ›´æ–°è®°å½•" class="headerlink" title="2.4   Updating Record (æ›´æ–°è®°å½•)"></a>2.4   Updating Record (æ›´æ–°è®°å½•)</h5><ul>
<li>FDS æ›´æ–°è®°å½•ï¼Œå³æ‰€è°“çš„å†™æ•°æ®ã€‚FDS å¹¶ä¸æ˜¯å°†æ–°æ•°æ®å†™åˆ°åŸæ¥çš„è®°å½•ä¸­å»è¦†ç›–æ—§æ•°æ®ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°è®°å½•ï¼Œç„¶åå°†åŸæœ‰çš„è®°å½•ä½œåºŸï¼Œæ›´æ–°è®°å½•æ—¶ï¼Œè®°å½•æ›´æ–°å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæ–°çš„è®°å½•æè¿°ç¬¦ã€‚</li>
<li>FDS æ›´æ–°è®°å½•çš„æ–¹å¼æ˜¯ä½œåºŸæ—§è®°å½•ï¼Œåˆ›å»ºæ–°è®°å½•ï¼Œæ›´æ–°è®°å½•é¢‘ç¹çš„è¯ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºæ–°çš„è®°å½•ï¼Œè¿™æ ·çš„è¯ä¼šå ç”¨Flashçš„ç©ºé—´ï¼Œæ‰€ä»¥é€šè¿‡ç¢ç‰‡æ•´ç†æ”¶é›†åŠŸèƒ½æ¥é‡Šæ”¾Flashã€‚</li>
</ul>
<h5 id="2-5-Deleting-Record-åˆ é™¤è®°å½•"><a href="#2-5-Deleting-Record-åˆ é™¤è®°å½•" class="headerlink" title="2.5   Deleting Record (åˆ é™¤è®°å½•)"></a>2.5   Deleting Record (åˆ é™¤è®°å½•)</h5><ul>
<li>è®°å½•åˆ é™¤å¹¶ä¸æ˜¯çœŸæ­£çš„åˆ é™¤è®°å½•æ•°æ®å’Œæ“¦é™¤Flashç©ºé—´ï¼Œè€Œæ˜¯é€šè¿‡è®¾ç½®æ ‡å¿—å°†éœ€è¦åˆ é™¤çš„è®°å½•ä½œåºŸã€‚æ¯ä¸€æ¡è¢«åˆ é™¤çš„è®°å½•ï¼Œå°±ä¸èƒ½å†å¯¹å®ƒè¿›è¡Œæ‰“å¼€ã€è¯»ã€å®šä½ç­‰ç›¸å…³çš„æ“ä½œã€‚</li>
<li>è®°å½•åˆ é™¤åï¼Œè®°å½•æ‰€ä½¿ç”¨çš„Flashç©ºé—´ä¸ä¼šç«‹å³é‡Šæ”¾ï¼Œå¦‚æœæƒ³è¦é‡Šæ”¾Flashç©ºé—´ï¼Œå¿…é¡»é€šè¿‡ç¢ç‰‡æ”¶é›†æ¥å®ç°ã€‚</li>
</ul>
<h5 id="2-6-Garbage-collection-åƒåœ¾æ”¶é›†"><a href="#2-6-Garbage-collection-åƒåœ¾æ”¶é›†" class="headerlink" title="2.6   Garbage collection (åƒåœ¾æ”¶é›†)"></a>2.6   Garbage collection (åƒåœ¾æ”¶é›†)</h5><ul>
<li>ä¸ç®¡æ˜¯æ›´æ–°æ•°æ®è¿˜æ˜¯æ“¦é™¤æ•°æ®ï¼Œéƒ½ä¼šäº§ç”Ÿæ— æ•ˆæ•°æ®ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯å®é™…å­˜åœ¨çš„ï¼Œå ç”¨Flashç©ºé—´ï¼Œå› æ­¤å¯ä»¥è°ƒç”¨ <strong>fds_gc()</strong> å‡½æ•°APIè¿›è¡Œåƒåœ¾å›æ”¶ã€‚é€šè¿‡æ‰§è¡Œæ­¤æ“ä½œæ¥é‡Šæ”¾è¿™äº›å ç”¨Flashçš„æ— æ•ˆæ•°æ®ã€‚</li>
<li>åƒåœ¾æ”¶é›†ä¸ä¼šè‡ªåŠ¨é€šè¿‡FDSæ”¶é›†ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œåº”è¯¥åœ¨Bleå¤„äºä½åŠŸè€—çš„æƒ…å†µä¸‹è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œé•¿æœŸæ›´æ–°è®°å½•ï¼Œäº§ç”Ÿçš„æ— æ•ˆæ•°æ®ä¼šå°†å†…å­˜å æ»¡ï¼Œå†ä¸€æ¬¡è¯·æ±‚æ•°æ®æ›´æ–°æ—¶ï¼Œä¼šç›´æ¥è¿”å› FDS_ERR_NO_SPACE_IN_FLASH (Flash æ— ç©ºé—´) é”™è¯¯ï¼Œç„¶åå¿…é¡»è¿›è¡Œåƒåœ¾å›æ”¶å¹¶ç­‰å¾…å®Œæˆåï¼Œå†æ›´æ–°æ•°æ®ã€‚</li>
</ul>
<h5 id="2-7-Restrictions-on-keys-and-IDs-FDSå¯¹-KEY-å’Œ-File-ID-çš„é™åˆ¶"><a href="#2-7-Restrictions-on-keys-and-IDs-FDSå¯¹-KEY-å’Œ-File-ID-çš„é™åˆ¶" class="headerlink" title="2.7   Restrictions on keys and IDs (FDSå¯¹ KEY å’Œ File ID çš„é™åˆ¶)"></a>2.7   Restrictions on keys and IDs (FDSå¯¹ KEY å’Œ File ID çš„é™åˆ¶)</h5><ul>
<li><p>Record Key åº”åœ¨ 0x0001 - 0xBFFF èŒƒå›´å†…ï¼Œ0x0000 å€¼æ˜¯ç”±ç³»ç»Ÿä¿ç•™ã€‚ä» 0xC000 åˆ° 0xFFFF çš„å€¼ä¿ç•™ä¾›Peer Manageræ¨¡å—ä½¿ç”¨ï¼Œå¹¶ä¸”åªèƒ½åœ¨ä¸åŒ…å« Peer Manager çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚</p>
</li>
<li><p>File ID çš„åº”åœ¨0x0000 - 0xBFFF èŒƒå›´å†…, 0xFFFF æ˜¯è¢«ç³»ç»Ÿä½¿ç”¨çš„ï¼Œä» 0xC000 åˆ° 0xFFFE çš„å€¼ä¿ç•™ä¾›Peer Manageræ¨¡å—ä½¿ç”¨ï¼Œå¹¶ä¸”åªèƒ½åœ¨ä¸åŒ…å« Peer Manager çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨</p>
</li>
</ul>
<h4 id="3-SDK-Config-FDSé…ç½®å®ä»‹ç»"><a href="#3-SDK-Config-FDSé…ç½®å®ä»‹ç»" class="headerlink" title="3.  SDK_Config  FDSé…ç½®å®ä»‹ç»"></a>3.  SDK_Config  FDSé…ç½®å®ä»‹ç»</h4><h5 id="3-1-FDS-VIRTUAL-PAGES"><a href="#3-1-FDS-VIRTUAL-PAGES" class="headerlink" title="3.1   FDS_VIRTUAL_PAGES"></a>3.1   FDS_VIRTUAL_PAGES</h5><ul>
<li>é…ç½®ä½¿ç”¨è™šæ‹Ÿé¡µçš„æ•°é‡åŠå…¶å¤§å°ã€‚</li>
<li>ä½¿ç”¨çš„ Flash Memory æ€»é‡å–å†³äºè™šæ‹Ÿé¡µçš„å¤§å°å’Œæ•°é‡ã€‚</li>
</ul>
<h5 id="3-2-FDS-VIRTUAL-PAGE-SIZE"><a href="#3-2-FDS-VIRTUAL-PAGE-SIZE" class="headerlink" title="3.2   FDS_VIRTUAL_PAGE_SIZE"></a>3.2   FDS_VIRTUAL_PAGE_SIZE</h5><ul>
<li>è™šæ‹Ÿé¡µçš„å¤§å°ã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œè™šæ‹Ÿé¡µä¸ç‰©ç†é¡µå¤§å°ç›¸åŒã€‚</li>
<li>è™šæ‹Ÿé¡µçš„å¤§å°å¿…é¡»æ˜¯ç‰©ç†é¡µå¤§å°çš„å€æ•°ã€‚</li>
<li>å·²å­—ä¸ºå•ä½ (4-Byte)ã€‚</li>
</ul>
<h5 id="3-3-FDS-VIRTUAL-PAGES-RESERVED"><a href="#3-3-FDS-VIRTUAL-PAGES-RESERVED" class="headerlink" title="3.3   FDS_VIRTUAL_PAGES_RESERVED"></a>3.3   FDS_VIRTUAL_PAGES_RESERVED</h5><ul>
<li>å…¶ä»–æ¨¡å—ä½¿ç”¨çš„è™šæ‹ŸFLASHé¡µæ•°ã€‚</li>
<li>FDSæ¨¡å—å°†å…¶æ•°æ®å­˜å‚¨åœ¨FLASHçš„æœ€åä¸€é¡µä¸­ï¼Œé€šè¿‡è®¾ç½®æ­¤å€¼ï¼Œå¯ä»¥ç§»åŠ¨FDSä½¿ç”¨çš„FLASHç»“æŸåœ°åœ°å€ã€‚ä¿ç•™çš„ç©ºé—´å¯ä»¥è¢«å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚</li>
</ul>
<h5 id="3-4-FDS-OP-QUEUE-SIZE"><a href="#3-4-FDS-OP-QUEUE-SIZE" class="headerlink" title="3.4   FDS_OP_QUEUE_SIZE"></a>3.4   FDS_OP_QUEUE_SIZE</h5><ul>
<li>FDS ç¨‹åºæ¨¡å—å†…éƒ¨ä½¿ç”¨çš„é˜Ÿåˆ—å¤§å°ï¼Œå¦‚æœFDSç”¨æˆ·è¾ƒå¤šæˆ–è€…åº”ç”¨ç¨‹åºä¸­å¸Œæœ›ä¸€æ¬¡æ’é˜Ÿæ›´å¤šçš„æ“ä½œè€Œä¸ç­‰å¾…å…ˆå‰çš„æ“ä½œå®Œæˆï¼Œå¯åŠ å¤§é˜Ÿåˆ—çš„å¤§å°ã€‚</li>
<li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸­ç»å¸¸æ¥å—åˆ°é”™è¯¯ä»£ç  FDS_ERR_NO_SPACE_IN_QUEUES,åˆ™éœ€è¦å¢åŠ é˜Ÿåˆ—å¤§å°ã€‚</li>
</ul>
<h5 id="3-5-FDS-CRC-CHECK-ON-READ"><a href="#3-5-FDS-CRC-CHECK-ON-READ" class="headerlink" title="3.5   FDS_CRC_CHECK_ON_READ"></a>3.5   FDS_CRC_CHECK_ON_READ</h5><ul>
<li>å¦‚æœä½¿èƒ½è¯¥é…ç½®é¡¹ï¼ŒFDS å°†ä¼šå¯åŠ¨è¯»å–æ“ä½œçš„CRCæ£€æŸ¥ (fds_record_open)ã€‚</li>
</ul>
<h5 id="3-6-FDS-CRC-CHECK-ON-WRITE"><a href="#3-6-FDS-CRC-CHECK-ON-WRITE" class="headerlink" title="3.6   FDS_CRC_CHECK_ON_WRITE"></a>3.6   FDS_CRC_CHECK_ON_WRITE</h5><ul>
<li>å¯é€‰çš„é…ç½®é¡¹ï¼Œå¦‚æœä½¿èƒ½ï¼ŒFDS å†™æ“ä½œä¼šè¿›è¡Œæ ¡éªŒã€‚</li>
<li>ä½¿èƒ½è¯¥é…ç½®æ—¶ï¼ŒFDS_CRC_CHECK_ON_READ å¿…é¡»æ‰“å¼€ã€‚</li>
</ul>
<h5 id="3-7-FDS-MAX-USERS"><a href="#3-7-FDS-MAX-USERS" class="headerlink" title="3.7   FDS_MAX_USERS"></a>3.7   FDS_MAX_USERS</h5><ul>
<li>å¯ä»¥æ³¨å†Œçš„æœ€å¤§å›è°ƒæ•°ã€‚</li>
<li>å¦‚æœæ”¶åˆ° FDS_ERR_USER_LIMIT_REACHED é”™è¯¯ï¼Œè¯·å¢åŠ æ­¤æ•°å€¼ã€‚</li>
</ul>
<h4 id="4-Storage-format-å­˜å‚¨æ ¼å¼"><a href="#4-Storage-format-å­˜å‚¨æ ¼å¼" class="headerlink" title="4.  Storage format (å­˜å‚¨æ ¼å¼)"></a>4.  Storage format (å­˜å‚¨æ ¼å¼)</h4><p>&emsp;&emsp;FDS ä»¥è®°å½•çš„æ–¹å¼å°†æ•°æ®å­˜å‚¨åˆ° Flash ä¸­ï¼Œè¿™äº›è®°å½•è¢«åˆ†ç»„åˆ°æ–‡ä»¶ä¸­ï¼Œåœ¨å¤§å¤šæ•°ç”¨ä¾‹ä¸­æˆ‘ä»¬æ— éœ€è¯¦ç»†äº†è§£ FDS å¦‚ä½•å°†æ•°æ®å­˜å‚¨åœ¨ Flash ä¸­ã€‚ä»¥ä¸‹æ˜¯FDSä½¿ç”¨çš„æ•°æ®æ ¼å¼ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœä½ å¯¹ FDS è¯¦ç»†ä¿¡æ¯ä¸æ„Ÿå…´è¶£ï¼Œå¯ä»¥è·³è¿‡ã€‚</p>
<h5 id="4-1-Record-layout-è®°å½•å¸ƒå±€"><a href="#4-1-Record-layout-è®°å½•å¸ƒå±€" class="headerlink" title="4.1   Record layout (è®°å½•å¸ƒå±€)"></a>4.1   Record layout (è®°å½•å¸ƒå±€)</h5><p>&emsp;&emsp;Record ç”± Record Header (Record å…ƒæ•°æ®) å’Œå®é™…å†…å®¹ç»„æˆï¼ŒRecord Header ç”¨æ¥æ ‡è®°Recordï¼Œè®°å½•å†…å®¹æ˜¯å®é™…å­˜å‚¨çš„æ•°æ®ï¼Œå®ƒä»¬æŒ‰ç…§å¦‚å›¾æ‰€ç¤ºçš„é¡ºåºè¿ç»­å­˜å‚¨åœ¨ Flash ä¸­ã€‚</p>
<p><img src="/2020/07/11/Nordic-FDS/00_Layout_of_a_record.png" alt="Layout of a record"></p>
<h5 id="4-2-Record-header-è®°å½•å¤´"><a href="#4-2-Record-header-è®°å½•å¤´" class="headerlink" title="4.2   Record header (è®°å½•å¤´)"></a>4.2   Record header (è®°å½•å¤´)</h5><p>&emsp;&emsp;Record header ç”± 3ä¸ªå­— (12ä¸ªByte) ç»„æˆï¼Œå„éƒ¨åˆ†æè¿°å¦‚ä¸‹:</p>
<p><img src="/2020/07/11/Nordic-FDS/01_Record_header.png" alt="Record header"></p>
<p>&emsp;&emsp;FDS å°† Record Header å†™å…¥ Flash ä¸­ï¼Œé¦–å…ˆå†™å…¥Record Key å’Œæ•°æ®é•¿åº¦ï¼Œæ¥ç€å†™å…¥Record IDï¼Œæœ€åå†™å…¥ File ID å’Œ CRC æ ¡éªŒå€¼ï¼Œå¹¶å®ŒæˆæˆåŠŸçš„å†™å…¥æ“ä½œã€‚æ£€ç´¢Recordçš„æ—¶å€™ï¼ŒFDSä¼šå¿½ç•¥æ‰æ‰€æœ‰Record Headerä¸­ç¬¬äºŒä¸ªå­—ç¾éŸ³å†™å…¥çš„ Recordï¼Œå› ä¸ºç¼ºå°‘Keyæ„å‘³ç€è¿™æ¡Recordæ²¡æœ‰å†™å…¥å®Œæ•´ã€‚</p>
<h5 id="4-3-Maximum-length-æœ€å¤§å­˜å‚¨æ•°æ®é•¿åº¦"><a href="#4-3-Maximum-length-æœ€å¤§å­˜å‚¨æ•°æ®é•¿åº¦" class="headerlink" title="4.3   Maximum length (æœ€å¤§å­˜å‚¨æ•°æ®é•¿åº¦)"></a>4.3   Maximum length (æœ€å¤§å­˜å‚¨æ•°æ®é•¿åº¦)</h5><p>Record çš„æœ€å¤§é•¿åº¦å–å†³äºä¸‰ä¸ªå€¼:</p>
<ul>
<li>è™šæ‹Ÿ Flash é¡µçš„å¤§å° (FDS_VIRTUAL_PAGE_SIZE)</li>
<li>é¡µé¢æ ‡è®°å¤§å° (2 Words)</li>
<li>Record Headerçš„å¤§å° (3 Words)</li>
</ul>
<p>sdk_config.h ä¸­é»˜è®¤çš„è®¾ç½®æ˜¯è™šæ‹Ÿ Flash é¡µçš„å¤§å°å’Œç‰©ç†é¡µå¤§å°ä¸€æ ·  (å¯¹äºnRF52832æ¥è¯´æ˜¯1024ä¸ªå­—ï¼Œå³4096ä¸ªå­—èŠ‚)ï¼Œå¯¹äºé»˜è®¤å€¼æ¥è¯´å»æ‰é¡µé¢æ ‡è®°å’Œè®°å½•å¤´åï¼Œæœ€å¤§æ•°æ®é•¿åº¦æ˜¯1019ä¸ªå­—ã€‚</p>
<h5 id="4-4-Page-tag-é¡µé¢æ ‡ç­¾"><a href="#4-4-Page-tag-é¡µé¢æ ‡ç­¾" class="headerlink" title="4.4   Page tag (é¡µé¢æ ‡ç­¾)"></a>4.4   Page tag (é¡µé¢æ ‡ç­¾)</h5><p>&emsp;&emsp;FDS ä½¿ç”¨çš„æ¯ä¸ªè™šæ‹Ÿé¡µé¢éƒ½æ ‡æœ‰ä¸€ä¸ªé¡µé¢æ ‡è®°ï¼Œç³»ç»Ÿä½¿ç”¨è¯¥æ ‡è®°æ¥å­˜å‚¨æœ‰å…³è¯¥é¡µé¢çš„ä¿¡æ¯ã€‚ä¸¤ä¸ªå­—é•¿çš„é¡µé¢æ ‡ç­¾åŒ…å«äº†é¡µé¢ç”¨é€” ( æ•°æ®å­˜å‚¨æˆ–åƒåœ¾æ”¶é›†)ä»¥åŠé¡µé¢ä¸Šå®‰è£…çš„æ–‡ä»¶ç³»ç»Ÿç‰ˆæœ¬çš„ä¿¡æ¯ã€‚</p>
<p><img src="/2020/07/11/Nordic-FDS/02_Page_tags.png" alt="Page_tags"></p>
<h4 id="5-FDS-ä½¿ç”¨æ–¹æ³•"><a href="#5-FDS-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="5.  FDS ä½¿ç”¨æ–¹æ³•"></a>5.  FDS ä½¿ç”¨æ–¹æ³•</h4><h5 id="5-1-Initializing-the-module-åˆå§‹åŒ–FDS"><a href="#5-1-Initializing-the-module-åˆå§‹åŒ–FDS" class="headerlink" title="5.1   Initializing the module (åˆå§‹åŒ–FDS)"></a>5.1   Initializing the module (åˆå§‹åŒ–FDS)</h5><p>&emsp;&emsp;Before initializing FDS, you must initialize the SoftDevice and register a callback handler to handle FDS events. (åˆå§‹åŒ–FDSä¹‹å‰ï¼Œå¿…é¡»åˆå§‹åŒ–SoftDeviceå¹¶æ³¨å†Œå›è°ƒå‡½æ•°æ¥å¤„ç†FDSäº‹ä»¶ã€‚)</p>
<p>&emsp;&emsp;ä»¥ä¸‹ä»£ç åŒºå±•ç¤ºäº†å¦‚ä½•æ³¨å†ŒFDSäº‹ä»¶çš„å¤„ç†å‡½æ•°ä»¥åŠå¦‚ä½•åˆå§‹åŒ– FDS æ¨¡å—:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Simple event handler to handle errors during initialization. */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fds_evt_handler</span><span class="params">(<span class="keyword">fds_evt_t</span> <span class="keyword">const</span> * p_fds_evt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (p_fds_evt-&gt;id)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> FDS_EVT_INIT:</span><br><span class="line">            <span class="keyword">if</span> (p_fds_evt-&gt;result != NRF_SUCCESS)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">/* Initialization failed. */</span> </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">ret_code_t</span> ret = fds_register(fds_evt_handler);</span><br><span class="line"><span class="keyword">if</span> (ret != NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Registering of the FDS event handler has failed. */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">ret_code_t</span> ret = fds_init();</span><br><span class="line"><span class="keyword">if</span> (ret != NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Handle error. */</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-Writing-a-record"><a href="#5-2-Writing-a-record" class="headerlink" title="5.2   Writing a record"></a>5.2   Writing a record</h5><p>&emsp;&emsp;ä»¥ä¸‹ä»£ç åŒºå±•ç¤ºäº†å¦‚ä½•å†™è®°å½•:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FILE_ID         0x0001  <span class="comment">/* The ID of the file to write the records into. */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECORD_KEY_1    0x1111  <span class="comment">/* A key for the first record. */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECORD_KEY_2    0x2222  <span class="comment">/* A key for the second record. */</span></span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">uint32_t</span>   <span class="keyword">const</span> m_deadbeef = <span class="number">0xDEADBEEF</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">char</span>       <span class="keyword">const</span> m_hello[]  = <span class="string">"Hello, world!"</span>;</span><br><span class="line"><span class="keyword">fds_record_t</span>        record;</span><br><span class="line"><span class="keyword">fds_record_desc_t</span>   record_desc;</span><br><span class="line"><span class="comment">// Set up record.</span></span><br><span class="line">record.file_id           = FILE_ID;</span><br><span class="line">record.key               = RECORD_KEY_1;</span><br><span class="line">record.data.p_data       = &amp;m_deadbeef;</span><br><span class="line">record.data.length_words = <span class="number">1</span>;   <span class="comment">/* one word is four bytes. */</span></span><br><span class="line"><span class="keyword">ret_code_t</span> rc;</span><br><span class="line">rc = fds_record_write(&amp;record_desc, &amp;record);</span><br><span class="line"><span class="keyword">if</span> (rc != NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Handle error. */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Set up record.</span></span><br><span class="line">record.file_id           = FILE_ID;</span><br><span class="line">record.key               = RECORD_KEY_2;</span><br><span class="line">record.data.p_data       = &amp;m_hello;</span><br><span class="line"><span class="comment">/* The following calculation takes into account any eventual remainder of the division. */</span></span><br><span class="line">record.data.length_words = (<span class="keyword">sizeof</span>(m_hello) + <span class="number">3</span>) / <span class="number">4</span>;</span><br><span class="line">rc = fds_record_write(&amp;record_desc, &amp;record);</span><br><span class="line"><span class="keyword">if</span> (rc != NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Handle error. */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&emsp;&emsp;æ­¤å‘½ä»¤å·²å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶é€šè¿‡æ—¶é—´å›è°ƒæŒ‡ç¤ºæˆåŠŸæˆ–å¤±è´¥ï¼Œå¦‚æœæˆåŠŸã€‚fds_record_writeå‡½æ•°å°†è¿”å›è®°å½•çš„æè¿°ç¬¦ï¼Œè¯¥æè¿°ç¬¦å¯å“¦ç”¨äºè¿›ä¸€æ­¥æ“ä½œè®°å½•ã€‚</p>
<h5 id="5-3-Retrieving-data"><a href="#5-3-Retrieving-data" class="headerlink" title="5.3   Retrieving data"></a>5.3   Retrieving data</h5><p>&emsp;&emsp;ä»¥ä¸‹å®ä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æŸ¥æ‰¾RecordåŠŸèƒ½æ¥æ£€ç´¢Record Key å’Œ File ID åŒ¹é…çš„æ‰€è®°å½•çš„è®°å½•æè¿°ç¬¦ï¼Œå¹¶è¯»å–å®ƒä»¬çš„æ•°æ®å†…å®¹ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FILE_ID     0x1111</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECORD_KEY  0x2222</span></span><br><span class="line"><span class="keyword">fds_flash_record_t</span>  flash_record;</span><br><span class="line"><span class="keyword">fds_record_desc_t</span>   record_desc;</span><br><span class="line"><span class="keyword">fds_find_token_t</span>    ftok;</span><br><span class="line"><span class="comment">/* It is required to zero the token before first use. */</span></span><br><span class="line"><span class="built_in">memset</span>(&amp;ftok, <span class="number">0x00</span>, <span class="keyword">sizeof</span>(<span class="keyword">fds_find_token_t</span>));</span><br><span class="line"><span class="comment">/* Loop until all records with the given key and file ID have been found. */</span></span><br><span class="line"><span class="keyword">while</span> (fds_record_find(FILE_ID, RECORD_KEY, &amp;record_desc, &amp;ftok) == NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (fds_record_open(&amp;record_desc, &amp;flash_record) != NRF_SUCCESS)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Handle error. */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Access the record through the flash_record structure. */</span></span><br><span class="line">    <span class="comment">/* Close the record when done. */</span></span><br><span class="line">    <span class="keyword">if</span> (fds_record_close(&amp;record_desc) != NRF_SUCCESS)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Handle error. */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-4-Deleting-a-record"><a href="#5-4-Deleting-a-record" class="headerlink" title="5.4   Deleting a record"></a>5.4   Deleting a record</h5><p>&emsp;&emsp;ä»¥ä¸‹å®ä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åˆ é™¤è®°å½•ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Assume a descriptor returned by a call to fds_record_write() or fds_record_find(),</span></span><br><span class="line"><span class="comment">   as shown in the previous example. */</span></span><br><span class="line"><span class="keyword">fds_record_desc_t</span> descriptor;</span><br><span class="line"><span class="keyword">ret_code_t</span> ret = fds_record_delete(&amp;descriptor);</span><br><span class="line"><span class="keyword">if</span> (ret != NRF_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Error. */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&emsp;&emsp;è°ƒfds_record_deleteä¸ä¼šé‡Šæ”¾æ­¤è®°å½•ä½¿ç”¨çš„ Flash ï¼Œè¦å›æ”¶åˆ é™¤è®°å½•ä½¿ç”¨çš„é—ªå­˜ç©ºé—´ï¼Œæ‰èƒ½é‡Šæ”¾æ­¤è®°å½•çš„Flashï¼Œç¢ç‰‡æ”¶é›†è¿è¡Œ fds_gc()ã€‚</p>
]]></content>
      <categories>
        <category>Nordic</category>
      </categories>
      <tags>
        <tag>Nordic</tag>
        <tag>Bluetooth</tag>
        <tag>nRF52</tag>
      </tags>
  </entry>
  <entry>
    <title>Welcome</title>
    <url>/2020/05/03/Personal_Blog/</url>
    <content><![CDATA[<h1 id="é’æ˜¥ï¼Œäººç”Ÿæœ€ç¾å¥½çš„å¹´åï¼Œç›¸ä¿¡è‡ªå·±ï¼Œè¦çŸ¥é“ä½ å†…å¿ƒæ·±å¤„çš„æŸäº›ä¸œè¥¿æ˜¯æ¯”ä»»ä½•å›°éš¾éƒ½è¦å¼ºå¤§ã€‚"><a href="#é’æ˜¥ï¼Œäººç”Ÿæœ€ç¾å¥½çš„å¹´åï¼Œç›¸ä¿¡è‡ªå·±ï¼Œè¦çŸ¥é“ä½ å†…å¿ƒæ·±å¤„çš„æŸäº›ä¸œè¥¿æ˜¯æ¯”ä»»ä½•å›°éš¾éƒ½è¦å¼ºå¤§ã€‚" class="headerlink" title="é’æ˜¥ï¼Œäººç”Ÿæœ€ç¾å¥½çš„å¹´åï¼Œç›¸ä¿¡è‡ªå·±ï¼Œè¦çŸ¥é“ä½ å†…å¿ƒæ·±å¤„çš„æŸäº›ä¸œè¥¿æ˜¯æ¯”ä»»ä½•å›°éš¾éƒ½è¦å¼ºå¤§ã€‚"></a>é’æ˜¥ï¼Œäººç”Ÿæœ€ç¾å¥½çš„å¹´åï¼Œç›¸ä¿¡è‡ªå·±ï¼Œè¦çŸ¥é“ä½ å†…å¿ƒæ·±å¤„çš„æŸäº›ä¸œè¥¿æ˜¯æ¯”ä»»ä½•å›°éš¾éƒ½è¦å¼ºå¤§ã€‚</h1>]]></content>
  </entry>
  <entry>
    <title>ã€Nordicã€‘å­¦ä¹ ç¬”è®° --&gt; Nordic_development_environment(nRF51 &amp; nRF52 Series)</title>
    <url>/2020/05/06/Nordic-development-environment/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<h3 id="1-å¼ºåˆ¶å®‰è£…é¡¹"><a href="#1-å¼ºåˆ¶å®‰è£…é¡¹" class="headerlink" title="1. å¼ºåˆ¶å®‰è£…é¡¹"></a>1. å¼ºåˆ¶å®‰è£…é¡¹</h3><p>â€‹            å¦‚ä¸‹å·¥å…·å¿…é¡»å®‰è£…,å¦åˆ™æ— æ³•å¼€å‘ nRF51 &amp; nRF52 Series äº§å“</p>
<h4 id="1-1-å®‰è£…IDE"><a href="#1-1-å®‰è£…IDE" class="headerlink" title="1.1   å®‰è£…IDE"></a>1.1   å®‰è£…IDE</h4><p>â€‹            Nordic nRF51/52æ”¯æŒKeilï¼ŒGCCï¼ŒIAR å’Œ SESï¼ˆSegger Embedded Studioï¼‰å››ç§IDEï¼Œå¤§å®¶éšä¾¿é€‰æ‹©å…¶ä¸­ä¸€ç§å®‰è£…å³å¯ã€‚</p>
<h4 id="1-2-å®‰è£…-nRF-Command-Line-Tools-ï¼ˆæ”¯æŒ-Windows-Linux-Macï¼‰"><a href="#1-2-å®‰è£…-nRF-Command-Line-Tools-ï¼ˆæ”¯æŒ-Windows-Linux-Macï¼‰" class="headerlink" title="1.2   å®‰è£… nRF Command Line Tools ï¼ˆæ”¯æŒ Windows / Linux / Macï¼‰"></a>1.2   å®‰è£… nRF Command Line Tools ï¼ˆæ”¯æŒ Windows / Linux / Macï¼‰</h4><p>â€‹            nRF Command Line Tools ( Nordicå®˜æ–¹è‡ªå·±å¼€å‘çš„å‘½ä»¤è¡Œå·¥å…· ) , å®‰è£…è¿‡ç¨‹ä¸­å…·ä½“ç»„ä»¶åŒ…æ‹¬ J-linké©±åŠ¨ã€nrfjprogã€nrfutilã€mergehexç­‰ã€‚</p>
<p>â€‹            ä¸‹è½½è¿æ¥:  <a href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Command-Line-Tools/Download#infotabs" target="_blank" rel="noopener">https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Command-Line-Tools/Download#infotabs</a></p>
<p>â€‹            é€‰æ‹©è‡ªå·±çš„æ¡Œé¢å¹³å°åŠéœ€è¦çš„ç‰ˆæœ¬ (æ¨èæœ€æ–°å‘å¸ƒçš„ç‰ˆæœ¬):</p>
<p><img src="/2020/05/06/Nordic-development-environment/nRF-Command-Line-Tools.png" alt></p>
]]></content>
      <categories>
        <category>Nordic</category>
      </categories>
      <tags>
        <tag>Nordic</tag>
        <tag>Bluetooth</tag>
        <tag>nRF52</tag>
        <tag>nRF connect</tag>
        <tag>nrfutil</tag>
        <tag>nRF51</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€RT-Threadã€‘å­¦ä¹ ç¬”è®° --&gt; STM32 Series BSP Production(BSPåˆ¶ä½œ)</title>
    <url>/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   RT-Thread Studio (Version: 1.1.3)</li>
<li>SDKç‰ˆæœ¬:   STM32H7 (Released V0.1.9)</li>
<li>STM32CubeMX ç‰ˆæœ¬ï¼šVersion 6.0.1</li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   STM32H743IITx æœ€å°ç³»ç»Ÿå¼€å‘æ¿ (æœ¬äººè‡ªå·±è®¾è®¡çš„æœ€å°ç³»ç»Ÿ)</li>
</ul>
<a id="more"></a>

<h1 id="STM32-Series-BSP-Production-BSPåˆ¶ä½œæ•™ç¨‹"><a href="#STM32-Series-BSP-Production-BSPåˆ¶ä½œæ•™ç¨‹" class="headerlink" title="STM32 Series BSP Production(BSPåˆ¶ä½œæ•™ç¨‹)"></a>STM32 Series BSP Production(BSPåˆ¶ä½œæ•™ç¨‹)</h1><h4 id="STM32-Series-BSP-Production-åˆ¶ä½œæ–¹æ³•"><a href="#STM32-Series-BSP-Production-åˆ¶ä½œæ–¹æ³•" class="headerlink" title="STM32 Series BSP Production åˆ¶ä½œæ–¹æ³•"></a>STM32 Series BSP Production åˆ¶ä½œæ–¹æ³•</h4><p>BSP çš„åˆ¶ä½œè¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>å¤åˆ¶é€šç”¨æ¨¡æ¿</li>
<li>ä½¿ç”¨STM32CubeMXå·¥å…·é…ç½®å·¥ç¨‹</li>
<li>ä¿®æ”¹ BSP ä¸­çš„ Kconfig æ–‡ä»¶</li>
<li>ä¿®æ”¹æ„å»ºå·¥ç¨‹ç›¸å…³æ–‡ä»¶</li>
<li>é‡æ–°ç”Ÿæˆå·¥ç¨‹</li>
</ul>
<h4 id="1-å¤åˆ¶é€šç”¨æ¨¡æ¿"><a href="#1-å¤åˆ¶é€šç”¨æ¨¡æ¿" class="headerlink" title="1.   å¤åˆ¶é€šç”¨æ¨¡æ¿"></a>1.   å¤åˆ¶é€šç”¨æ¨¡æ¿</h4><h5 id="1-1-ä¸‹è½½-RT-Thread-æºä»£ç "><a href="#1-1-ä¸‹è½½-RT-Thread-æºä»£ç " class="headerlink" title="1.1 ä¸‹è½½ RT-Thread æºä»£ç "></a>1.1 ä¸‹è½½ RT-Thread æºä»£ç </h5><p>&emsp;<strong><a href="https://www.rt-thread.org/page/download.html" target="_blank" rel="noopener">ä¸‹è½½è¯·ç‚¹å‡»è¿™é‡Œå“¦ ! ! !</a></strong></p>
<p>&emsp;æœ¬äººé‡‡ç”¨ Gitee (ç äº‘) ä¸‹è½½æ–¹å¼</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/RT-Thread_Source_code.png" alt="RT-Thread_Source_code_download_address"></p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/03.png" alt="RT-Thread_Source_code"></p>
<h5 id="1-2-æ‰“å¼€æºä»£ç æ¨¡æ¿è·¯å¾„-rt-thread-bsp-stm32-libraries-templates-stm32h7xxã€‚"><a href="#1-2-æ‰“å¼€æºä»£ç æ¨¡æ¿è·¯å¾„-rt-thread-bsp-stm32-libraries-templates-stm32h7xxã€‚" class="headerlink" title="1.2 æ‰“å¼€æºä»£ç æ¨¡æ¿è·¯å¾„  rt-thread\bsp\stm32\libraries\templates\stm32h7xxã€‚"></a>1.2 æ‰“å¼€æºä»£ç æ¨¡æ¿è·¯å¾„  rt-thread\bsp\stm32\libraries\templates\stm32h7xxã€‚</h5><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/04.png" alt="RT-Thread_Source_code_template"></p>
<h5 id="1-3-åˆ›å»º-01-STM32H743-BSP-æ–‡ä»¶å¤¹ï¼Œå°†å®˜æ–¹æä¾›çš„æ¨¡æ¿-stm32h7xx-æ‹·è´è¿›æ¥ã€‚"><a href="#1-3-åˆ›å»º-01-STM32H743-BSP-æ–‡ä»¶å¤¹ï¼Œå°†å®˜æ–¹æä¾›çš„æ¨¡æ¿-stm32h7xx-æ‹·è´è¿›æ¥ã€‚" class="headerlink" title="1.3  åˆ›å»º 01_STM32H743_BSP æ–‡ä»¶å¤¹ï¼Œå°†å®˜æ–¹æä¾›çš„æ¨¡æ¿ (stm32h7xx) æ‹·è´è¿›æ¥ã€‚"></a>1.3  åˆ›å»º 01_STM32H743_BSP æ–‡ä»¶å¤¹ï¼Œå°†å®˜æ–¹æä¾›çš„æ¨¡æ¿ (stm32h7xx) æ‹·è´è¿›æ¥ã€‚</h5><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/05.png" alt="RT-Thread_Source_code_template"></p>
<h6 id="1-3-1-Board-æ–‡ä»¶å¤¹ä¸‹ä¿®æ”¹çš„å†…å®¹"><a href="#1-3-1-Board-æ–‡ä»¶å¤¹ä¸‹ä¿®æ”¹çš„å†…å®¹" class="headerlink" title="1.3.1 Board æ–‡ä»¶å¤¹ä¸‹ä¿®æ”¹çš„å†…å®¹"></a>1.3.1 Board æ–‡ä»¶å¤¹ä¸‹ä¿®æ”¹çš„å†…å®¹</h6><table>
<thead>
<tr>
<th align="center">Board ä¸‹æ–‡ä»¶å¤¹/æ–‡ä»¶</th>
<th align="center">å†…å®¹ä¿®æ”¹è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CubeMX_Config</td>
<td align="center">STM32CubeMXå·¥ç¨‹</td>
</tr>
<tr>
<td align="center">linker_scripts</td>
<td align="center">å·¥ç¨‹æ„å»ºç›¸å…³æ–‡ä»¶(é“¾æ¥è„šæœ¬)</td>
</tr>
<tr>
<td align="center">board.c / board.h</td>
<td align="center">SystemClock_Configã€Flash Memory Sizeã€RAM Size</td>
</tr>
<tr>
<td align="center">Kconfig</td>
<td align="center">System peripheral resources Configuration</td>
</tr>
<tr>
<td align="center">SConscript</td>
<td align="center">System Chip Startup File</td>
</tr>
</tbody></table>
<h4 id="2-STM32CubeMX-å·¥ç¨‹é…ç½®"><a href="#2-STM32CubeMX-å·¥ç¨‹é…ç½®" class="headerlink" title="2.  STM32CubeMX å·¥ç¨‹é…ç½®"></a>2.  STM32CubeMX å·¥ç¨‹é…ç½®</h4><h5 id="2-1-æ‰“å¼€-CubeMX-Config-ioc-å·¥ç¨‹æ–‡ä»¶"><a href="#2-1-æ‰“å¼€-CubeMX-Config-ioc-å·¥ç¨‹æ–‡ä»¶" class="headerlink" title="2.1 æ‰“å¼€ CubeMX_Config.ioc å·¥ç¨‹æ–‡ä»¶"></a>2.1 æ‰“å¼€ CubeMX_Config.ioc å·¥ç¨‹æ–‡ä»¶</h5><p>CubeMX_Config.ioc å·¥ç¨‹æ–‡ä»¶è·¯å¾„ï¼š*<em>01_STM32H743_BSP\board\CubeMX_Config\CubeMX_Config.ioc *</em></p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/06.PNG" alt="STM32CubeMX"></p>
<h5 id="2-2-STM32CubeMX-å·¥ç¨‹ç”Ÿæˆ"><a href="#2-2-STM32CubeMX-å·¥ç¨‹ç”Ÿæˆ" class="headerlink" title="2.2 STM32CubeMX å·¥ç¨‹ç”Ÿæˆ"></a>2.2 STM32CubeMX å·¥ç¨‹ç”Ÿæˆ</h5><h6 id="2-2-1-æ‰“å¼€å¤–éƒ¨æ—¶é’Ÿè®¾ç½®"><a href="#2-2-1-æ‰“å¼€å¤–éƒ¨æ—¶é’Ÿè®¾ç½®" class="headerlink" title="2.2.1   æ‰“å¼€å¤–éƒ¨æ—¶é’Ÿè®¾ç½®"></a>2.2.1   æ‰“å¼€å¤–éƒ¨æ—¶é’Ÿè®¾ç½®</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/07.png" alt="STM32CubeMX"></p>
<h6 id="2-2-2-ä¸‹è½½æ–¹å¼é…ç½®-SWD"><a href="#2-2-2-ä¸‹è½½æ–¹å¼é…ç½®-SWD" class="headerlink" title="2.2.2   ä¸‹è½½æ–¹å¼é…ç½® (SWD)"></a>2.2.2   ä¸‹è½½æ–¹å¼é…ç½® (SWD)</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/08.png" alt="STM32CubeMX"></p>
<h6 id="2-2-3-è°ƒè¯•ä¸²å£é…ç½®-UASRT1"><a href="#2-2-3-è°ƒè¯•ä¸²å£é…ç½®-UASRT1" class="headerlink" title="2.2.3   è°ƒè¯•ä¸²å£é…ç½® (UASRT1)"></a>2.2.3   è°ƒè¯•ä¸²å£é…ç½® (UASRT1)</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/09.png" alt="STM32CubeMX"></p>
<h6 id="2-2-4-EEPROM-é…ç½®-IIC"><a href="#2-2-4-EEPROM-é…ç½®-IIC" class="headerlink" title="2.2.4   EEPROM é…ç½® (IIC)"></a>2.2.4   EEPROM é…ç½® (IIC)</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/10.png" alt="STM32CubeMX"></p>
<h6 id="2-2-5-ç³»ç»Ÿæ—¶é’Ÿé…ç½®"><a href="#2-2-5-ç³»ç»Ÿæ—¶é’Ÿé…ç½®" class="headerlink" title="2.2.5   ç³»ç»Ÿæ—¶é’Ÿé…ç½®"></a>2.2.5   ç³»ç»Ÿæ—¶é’Ÿé…ç½®</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/11.png" alt="STM32CubeMX"></p>
<h6 id="2-2-6-Project-Manager-è®¾ç½®-åŸºæœ¬ä¸éœ€è¦ä¿®æ”¹"><a href="#2-2-6-Project-Manager-è®¾ç½®-åŸºæœ¬ä¸éœ€è¦ä¿®æ”¹" class="headerlink" title="2.2.6   Project Manager è®¾ç½® (åŸºæœ¬ä¸éœ€è¦ä¿®æ”¹)"></a>2.2.6   Project Manager è®¾ç½® (åŸºæœ¬ä¸éœ€è¦ä¿®æ”¹)</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/12.png" alt="STM32CubeMX"></p>
<h6 id="2-2-7-ç‚¹å‡»-GENERAYE-CODE-ç›´æ¥ç”Ÿæˆå·¥ç¨‹"><a href="#2-2-7-ç‚¹å‡»-GENERAYE-CODE-ç›´æ¥ç”Ÿæˆå·¥ç¨‹" class="headerlink" title="2.2.7   ç‚¹å‡» GENERAYE CODE ç›´æ¥ç”Ÿæˆå·¥ç¨‹"></a>2.2.7   ç‚¹å‡» GENERAYE CODE ç›´æ¥ç”Ÿæˆå·¥ç¨‹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/13.png" alt="STM32CubeMX"></p>
<h6 id="2-2-8-CubeMX-Configç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹"><a href="#2-2-8-CubeMX-Configç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹" class="headerlink" title="2.2.8   CubeMX_Configç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹"></a>2.2.8   CubeMX_Configç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/14.png" alt="STM32CubeMX"></p>
<h4 id="3-Board-c-Board-h-æ–‡ä»¶ä¿®æ”¹"><a href="#3-Board-c-Board-h-æ–‡ä»¶ä¿®æ”¹" class="headerlink" title="3.   Board.c / Board.h æ–‡ä»¶ä¿®æ”¹"></a>3.   Board.c / Board.h æ–‡ä»¶ä¿®æ”¹</h4><h5 id="3-1-SystemClock-Config-å‡½æ•°æ‹·è´-æ•´ä¸ªç³»ç»Ÿå”¯ä¸€æ‹·è´çš„å‡½æ•°"><a href="#3-1-SystemClock-Config-å‡½æ•°æ‹·è´-æ•´ä¸ªç³»ç»Ÿå”¯ä¸€æ‹·è´çš„å‡½æ•°" class="headerlink" title="3.1 SystemClock_Config() å‡½æ•°æ‹·è´ (æ•´ä¸ªç³»ç»Ÿå”¯ä¸€æ‹·è´çš„å‡½æ•°)"></a>3.1 SystemClock_Config() å‡½æ•°æ‹·è´ (æ•´ä¸ªç³»ç»Ÿå”¯ä¸€æ‹·è´çš„å‡½æ•°)</h5><p>&emsp;&emsp;board.c æ–‡ä»¶ä¸­å­˜æ”¾äº†<strong>SystemClock_Config()</strong>å‡½æ•°ï¼Œè¯¥å‡½æ•°è´Ÿè´£åˆå§‹åŒ–ç³»ç»Ÿæ—¶é’Ÿã€‚å¦‚æœ STM32CubeMX å¯¹ç³»ç»Ÿæ—¶é’Ÿé‡æ–°é…ç½®ï¼Œéœ€è¦é‡æ–°æ›´æ–° <strong>SystemClock_Config()</strong> å‡½æ•°ã€‚</p>
<p>&emsp;&emsp;STM32CubeMXå·¥å…·ç”Ÿæˆçš„ <strong>SystemClock_Config()</strong> å‡½æ•°é»˜è®¤åœ¨ CubeMX_Config\Src\main.cï¼Œæ‰€ä»¥æˆ‘ä»¬å°†main.c æ–‡ä»¶ä¸­çš„ <strong>SystemClock_Config()</strong> å‡½æ•°æ‹·è´åˆ° board.c ä¸­ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief System Clock Configuration</span></span><br><span class="line"><span class="comment">  * @retval None</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SystemClock_Config</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  RCC_OscInitTypeDef RCC_OscInitStruct = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">  RCC_ClkInitTypeDef RCC_ClkInitStruct = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">  RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**Supply configuration update enable</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  MODIFY_REG(PWR-&gt;CR3, PWR_CR3_SCUEN, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">/**Configure the main internal regulator output voltage</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> ((PWR-&gt;D3CR &amp; (PWR_D3CR_VOSRDY)) != PWR_D3CR_VOSRDY)</span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**Initializes the CPU, AHB and APB busses clocks</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;</span><br><span class="line">  RCC_OscInitStruct.HSEState = RCC_HSE_ON;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLM = <span class="number">5</span>;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLN = <span class="number">160</span>;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLP = <span class="number">2</span>;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLQ = <span class="number">2</span>;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLR = <span class="number">2</span>;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_2;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;</span><br><span class="line">  RCC_OscInitStruct.PLL.PLLFRACN = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (HAL_RCC_OscConfig(&amp;RCC_OscInitStruct) != HAL_OK)</span><br><span class="line">  &#123;</span><br><span class="line">    Error_Handler();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**Initializes the CPU, AHB and APB busses clocks</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK</span><br><span class="line">                              |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2</span><br><span class="line">                              |RCC_CLOCKTYPE_D3PCLK1|RCC_CLOCKTYPE_D1PCLK1;</span><br><span class="line">  RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;</span><br><span class="line">  RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;</span><br><span class="line">  RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;</span><br><span class="line">  RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;</span><br><span class="line">  RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;</span><br><span class="line">  RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;</span><br><span class="line">  RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (HAL_RCC_ClockConfig(&amp;RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)</span><br><span class="line">  &#123;</span><br><span class="line">    Error_Handler();</span><br><span class="line">  &#125;</span><br><span class="line">  PeriphClkInitStruct.PeriphClockSelection = RCC_PERIPHCLK_USART1|RCC_PERIPHCLK_I2C2;</span><br><span class="line">  PeriphClkInitStruct.Usart16ClockSelection = RCC_USART16CLKSOURCE_D2PCLK2;</span><br><span class="line">  PeriphClkInitStruct.I2c123ClockSelection = RCC_I2C123CLKSOURCE_D2PCLK1;</span><br><span class="line">  <span class="keyword">if</span> (HAL_RCCEx_PeriphCLKConfig(&amp;PeriphClkInitStruct) != HAL_OK)</span><br><span class="line">  &#123;</span><br><span class="line">    Error_Handler();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-ç³»ç»ŸèŠ¯ç‰‡-Flash-å’Œ-RAM-ç›¸å…³å‚æ•°é…ç½®"><a href="#3-2-ç³»ç»ŸèŠ¯ç‰‡-Flash-å’Œ-RAM-ç›¸å…³å‚æ•°é…ç½®" class="headerlink" title="3.2 ç³»ç»ŸèŠ¯ç‰‡ Flash å’Œ RAM ç›¸å…³å‚æ•°é…ç½®"></a>3.2 ç³»ç»ŸèŠ¯ç‰‡ Flash å’Œ RAM ç›¸å…³å‚æ•°é…ç½®</h5><ul>
<li>STM32_FLASH_SIZE å’Œ STM32_SRAM_SIZE ä¸¤ä¸ªå‚æ•°éœ€è¦ä¿®æ”¹ (é’ˆå¯¹å®é™…èŠ¯ç‰‡å¤§å°è®¾ç½®)</li>
<li>æœ¬ BSP ä½¿ç”¨çš„èŠ¯ç‰‡ä¸º STM32H743IITx ç³»åˆ—ï¼ŒFlash å¤§å° 2024kBytes, RAM å¤§å° 1024kBytes</li>
</ul>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/15.png" alt="board.h"></p>
<h4 id="4-Kconfig-æ–‡ä»¶ä¿®æ”¹-åˆæ¬¡åˆ¶ä½œBSPå…ˆä¸ç€æ€¥ä¿®æ”¹ï¼Œåç»­æ ¹æ®Kconfigè¯­æ³•åœ¨ä¿®æ”¹"><a href="#4-Kconfig-æ–‡ä»¶ä¿®æ”¹-åˆæ¬¡åˆ¶ä½œBSPå…ˆä¸ç€æ€¥ä¿®æ”¹ï¼Œåç»­æ ¹æ®Kconfigè¯­æ³•åœ¨ä¿®æ”¹" class="headerlink" title="4.  Kconfig æ–‡ä»¶ä¿®æ”¹ (åˆæ¬¡åˆ¶ä½œBSPå…ˆä¸ç€æ€¥ä¿®æ”¹ï¼Œåç»­æ ¹æ®Kconfigè¯­æ³•åœ¨ä¿®æ”¹)"></a>4.  Kconfig æ–‡ä»¶ä¿®æ”¹ (åˆæ¬¡åˆ¶ä½œBSPå…ˆä¸ç€æ€¥ä¿®æ”¹ï¼Œåç»­æ ¹æ®Kconfigè¯­æ³•åœ¨ä¿®æ”¹)</h4><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/16.png" alt="Kconfig"></p>
<h4 id="5-å·¥ç¨‹æ„å»ºç›¸å…³æ–‡ä»¶ä¿®æ”¹"><a href="#5-å·¥ç¨‹æ„å»ºç›¸å…³æ–‡ä»¶ä¿®æ”¹" class="headerlink" title="5.  å·¥ç¨‹æ„å»ºç›¸å…³æ–‡ä»¶ä¿®æ”¹"></a>5.  å·¥ç¨‹æ„å»ºç›¸å…³æ–‡ä»¶ä¿®æ”¹</h4><h5 id="5-1-linker-scripts-é“¾æ¥è„šæœ¬ä¿®æ”¹"><a href="#5-1-linker-scripts-é“¾æ¥è„šæœ¬ä¿®æ”¹" class="headerlink" title="5.1   linker_scripts é“¾æ¥è„šæœ¬ä¿®æ”¹"></a>5.1   linker_scripts é“¾æ¥è„šæœ¬ä¿®æ”¹</h5><p>linker_scripts æ–‡ä»¶å¤¹ä¸‹åŒ…å«é“¾æ¥è„šæœ¬ï¼Œå¦‚å›¾ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/17.png" alt="linker_scripts"></p>
<h6 id="5-1-1-MDK-é“¾æ¥è„šæœ¬ä¿®æ”¹"><a href="#5-1-1-MDK-é“¾æ¥è„šæœ¬ä¿®æ”¹" class="headerlink" title="5.1.1   MDK é“¾æ¥è„šæœ¬ä¿®æ”¹"></a>5.1.1   MDK é“¾æ¥è„šæœ¬ä¿®æ”¹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/18.png" alt="linker_scripts"></p>
<h6 id="5-1-2-IAR-é“¾æ¥è„šæœ¬ä¿®æ”¹"><a href="#5-1-2-IAR-é“¾æ¥è„šæœ¬ä¿®æ”¹" class="headerlink" title="5.1.2   IAR é“¾æ¥è„šæœ¬ä¿®æ”¹"></a>5.1.2   IAR é“¾æ¥è„šæœ¬ä¿®æ”¹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/19.png" alt="linker_scripts"></p>
<h6 id="5-1-3-GCC-é“¾æ¥è„šæœ¬ä¿®æ”¹"><a href="#5-1-3-GCC-é“¾æ¥è„šæœ¬ä¿®æ”¹" class="headerlink" title="5.1.3   GCC é“¾æ¥è„šæœ¬ä¿®æ”¹"></a>5.1.3   GCC é“¾æ¥è„šæœ¬ä¿®æ”¹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/20.png" alt="linker_scripts"></p>
<h5 id="5-2-SConscript-è„šæœ¬ä¿®æ”¹"><a href="#5-2-SConscript-è„šæœ¬ä¿®æ”¹" class="headerlink" title="5.2 SConscript è„šæœ¬ä¿®æ”¹"></a>5.2 SConscript è„šæœ¬ä¿®æ”¹</h5><p>&emsp;&emsp;SConscript è„šæœ¬å†³å®š MDK/IAR å·¥ç¨‹çš„ç”Ÿæˆä»¥åŠç¼–è¯‘è¿‡ç¨‹ä¸­è¦æ·»åŠ æ–‡ä»¶ã€‚</p>
<p>&emsp;&emsp;ä¿®æ”¹èŠ¯ç‰‡å‹å·ä»¥åŠèŠ¯ç‰‡å¯åŠ¨æ–‡ä»¶çš„åœ°å€ï¼š</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/21.png" alt="SConscript"></p>
<p>&emsp;&emsp;æ³¨æ„ï¼šå¦‚æœåœ¨æ–‡ä»¶å¤¹ä¸­æ‰¾ä¸åˆ°ç›¸åº”ç³»åˆ—çš„ .s æ–‡ä»¶ï¼Œå¯èƒ½æ˜¯å¤šä¸ªç³»åˆ—çš„èŠ¯ç‰‡é‡ç”¨äº†ç›¸åŒçš„å¯åŠ¨æ–‡ä»¶ï¼Œæ­¤æ—¶å¯ä»¥åœ¨ CubeMX ä¸­ç”Ÿæˆç›®æ ‡èŠ¯ç‰‡çš„å·¥ç¨‹ï¼ŒæŸ¥çœ‹ä½¿ç”¨äº†å“ªä¸ªå¯åŠ¨æ–‡ä»¶ï¼Œç„¶åå†ä¿®æ”¹å¯åŠ¨æ–‡ä»¶åã€‚</p>
<h5 id="5-3-å·¥ç¨‹æ¨¡æ¿ä¿®æ”¹"><a href="#5-3-å·¥ç¨‹æ¨¡æ¿ä¿®æ”¹" class="headerlink" title="5.3 å·¥ç¨‹æ¨¡æ¿ä¿®æ”¹"></a>5.3 å·¥ç¨‹æ¨¡æ¿ä¿®æ”¹</h5><h6 id="5-3-1-æ‰“å¼€-template-uvprojx-å·¥ç¨‹"><a href="#5-3-1-æ‰“å¼€-template-uvprojx-å·¥ç¨‹" class="headerlink" title="5.3.1   æ‰“å¼€ template.uvprojx å·¥ç¨‹"></a>5.3.1   æ‰“å¼€ template.uvprojx å·¥ç¨‹</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/22.png" alt="MDK"></p>
<h6 id="5-3-2-é€‰æ‹©-BSP-ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·"><a href="#5-3-2-é€‰æ‹©-BSP-ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·" class="headerlink" title="5.3.2   é€‰æ‹© BSP ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·"></a>5.3.2   é€‰æ‹© BSP ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/23.png" alt="MDK"></p>
<h6 id="5-3-3-é€‰æ‹©å¹¶é…ç½®ä¸‹è½½æ–¹å¼"><a href="#5-3-3-é€‰æ‹©å¹¶é…ç½®ä¸‹è½½æ–¹å¼" class="headerlink" title="5.3.3   é€‰æ‹©å¹¶é…ç½®ä¸‹è½½æ–¹å¼"></a>5.3.3   é€‰æ‹©å¹¶é…ç½®ä¸‹è½½æ–¹å¼</h6><p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/24.png" alt="MDK"></p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/25.png" alt="MDK"></p>
<h5 id="5-4-åŸºäºEnvé‡æ–°ç”Ÿæˆå·¥ç¨‹"><a href="#5-4-åŸºäºEnvé‡æ–°ç”Ÿæˆå·¥ç¨‹" class="headerlink" title="5.4   åŸºäºEnvé‡æ–°ç”Ÿæˆå·¥ç¨‹"></a>5.4   åŸºäºEnvé‡æ–°ç”Ÿæˆå·¥ç¨‹</h5><p><a href="https://github.com/RT-Thread/rtthread-manual-doc/blob/master/env/env.md" target="_blank" rel="noopener">Env å·¥å…·ä½¿ç”¨åŠé…ç½®ï¼Œè¯·ç‚¹è¿™é‡Œï¼ï¼ï¼</a></p>
<p>Env Tools çš„è·¯å¾„å¿…é¡»æ˜¯è‹±æ–‡å¹¶ä¸”è·¯å¾„æ–‡ä»¶å¤¹ä¸èƒ½æœ‰ç©ºæ ¼ï¼ï¼ï¼</p>
<h6 id="5-4-1-é‡æ–°ç”Ÿæˆ-rtconfig-h-æ–‡ä»¶"><a href="#5-4-1-é‡æ–°ç”Ÿæˆ-rtconfig-h-æ–‡ä»¶" class="headerlink" title="5.4.1 é‡æ–°ç”Ÿæˆ rtconfig.h æ–‡ä»¶"></a>5.4.1 é‡æ–°ç”Ÿæˆ rtconfig.h æ–‡ä»¶</h6><p>è¾“å…¥menuconfig å‘½ä»¤åå‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æƒ…å†µï¼š</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/26.png" alt="Env"></p>
<p><strong>æ³¨æ„ï¼šé’ˆå¯¹ä»¥ä¸Šæƒ…å†µå¦‚ä½•å¤„ç†ï¼Œå‡ºç°è¿™æ ·çš„æƒ…å†µæ˜¯å› ä¸ºè„±ç¦»äº†å®˜æ–¹æºä»£ç  rt-thread\bsp\stm è·¯å¾„ã€‚</strong></p>
<ul>
<li><p>é¦–å…ˆï¼Œè¦çŸ¥é“è‡ªå·±ä¸‹è½½ RT-Thread æºä»£ç çš„è·¯å¾„ (æœ¬äºº RT-Thread æºä»£ç è·¯å¾„ï¼šD:\00_RT-Thread\00_RT-Thread_Source_code\rt-thread) </p>
</li>
<li><p>ä¿®æ”¹ç¬¬ä¸€ä¸ª Kconfig æ–‡ä»¶</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/27.png" alt="Env"></p>
 <figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">config</span> RTT_DIR</span><br><span class="line">     <span class="built_in">string</span></span><br><span class="line">     option env=<span class="string">"RTT_ROOT"</span></span><br><span class="line">     <span class="keyword">default</span> <span class="string">"../../.."</span></span><br><span class="line"> <span class="comment">/*-----------------------------------------------------------*/</span></span><br><span class="line"> <span class="built_in">config</span> RTT_DIR</span><br><span class="line">     <span class="built_in">string</span></span><br><span class="line">     option env=<span class="string">"RTT_ROOT"</span></span><br><span class="line">     <span class="keyword">default</span> <span class="string">"D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">source <span class="string">"../libraries/Kconfig"</span></span><br><span class="line">source <span class="string">"board/Kconfig"</span></span><br><span class="line"><span class="comment">/*-----------------------------------------------------------*/</span></span><br><span class="line">source <span class="string">"D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread/bsp/stm32/libraries/Kconfig"</span></span><br><span class="line">source <span class="string">"D:/00_RT-Thread/02_RT-Thread_BSP_Project/01_STM32H743_BSP/board/Kconfig"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/28.png" alt="Env"></p>
<ul>
<li><p>ä¿®æ”¹ç¬¬äºŒä¸ª Kconfig æ–‡ä»¶</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/29.png" alt="Env"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">source <span class="string">"../libraries/HAL_Drivers/Kconfig"</span></span><br><span class="line"><span class="comment">/*-----------------------------------------------------------*/</span></span><br><span class="line">source <span class="string">"D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread/bsp/stm32/libraries/HAL_Drivers/Kconfig"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/30.png" alt="Env"></p>
<p>ç„¶ååœ¨Envç•Œé¢å†æ¬¡è¾“å…¥ menuconfig å‘½ä»¤å¯¹å·¥ç¨‹è¿›è¡Œé…ç½®ï¼Œå¹¶ç”Ÿæˆ  rtconfig.h æ–‡ä»¶ã€‚</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/31.png" alt="Env"></p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/32.png" alt="Env"></p>
<h6 id="5-4-2-é‡æ–°ç”Ÿæˆ-MDK-IAR-å·¥ç¨‹"><a href="#5-4-2-é‡æ–°ç”Ÿæˆ-MDK-IAR-å·¥ç¨‹" class="headerlink" title="5.4.2 é‡æ–°ç”Ÿæˆ MDK / IAR å·¥ç¨‹"></a>5.4.2 é‡æ–°ç”Ÿæˆ MDK / IAR å·¥ç¨‹</h6><p>è¾“å…¥ scons å‘½ä»¤åå‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æƒ…å†µï¼š</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/33.png" alt="Env"></p>
<p><strong>æ³¨æ„ï¼šé’ˆå¯¹ä»¥ä¸Šæƒ…å†µå¦‚ä½•å¤„ç†ï¼Œå‡ºç°è¿™æ ·çš„æƒ…å†µæ˜¯å› ä¸ºè„±ç¦»äº†å®˜æ–¹æºä»£ç  rt-thread\bsp\stm è·¯å¾„ã€‚</strong></p>
<ul>
<li><p>é¦–å…ˆï¼Œè¦çŸ¥é“è‡ªå·±ä¸‹è½½ RT-Thread æºä»£ç çš„è·¯å¾„ (æœ¬äºº RT-Thread æºä»£ç è·¯å¾„ï¼šD:\00_RT-Thread\00_RT-Thread_Source_code\rt-thread) </p>
</li>
<li><p>ä¿®æ”¹ SConstruct æ–‡ä»¶</p>
 <figure class="highlight"><table><tr><td class="code"><pre><span class="line">if os.getenv('RTT_ROOT'):</span><br><span class="line">    RTT_ROOT = os.getenv('RTT_ROOT')</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    RTT_ROOT = os.path.normpath(os.getcwd() + '/../../..')</span><br><span class="line">        </span><br><span class="line"><span class="comment">/*-----------------------------------------------------------*/</span> </span><br><span class="line">        </span><br><span class="line">RTT_ROOT = 'D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread'</span><br></pre></td></tr></table></figure>

 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">SDK_ROOT = os.path.abspath(<span class="string">'./'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(SDK_ROOT + <span class="string">'/libraries'</span>):</span><br><span class="line">    libraries_path_prefix = SDK_ROOT + <span class="string">'/libraries'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    libraries_path_prefix = os.path.dirname(SDK_ROOT) + <span class="string">'/libraries'</span></span><br><span class="line"></span><br><span class="line">SDK_LIB = libraries_path_prefix</span><br><span class="line">Export(<span class="string">'SDK_LIB'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># prepare building environment</span></span><br><span class="line">objs = PrepareBuilding(env, RTT_ROOT, has_libcpu=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">stm32_library = <span class="string">'STM32H7xx_HAL'</span></span><br><span class="line">rtconfig.BSP_LIBRARY_TYPE = stm32_library</span><br><span class="line"></span><br><span class="line"><span class="comment"># include drivers</span></span><br><span class="line">objs.extend(SConscript(os.path.join(libraries_path_prefix, stm32_library, <span class="string">'SConscript'</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># include libraries</span></span><br><span class="line">objs.extend(SConscript(os.path.join(libraries_path_prefix, <span class="string">'HAL_Drivers'</span>, <span class="string">'SConscript'</span>)))</span><br><span class="line">        </span><br><span class="line">/*-----------------------------------------------------------*/ </span><br><span class="line">        </span><br><span class="line">SDK_ROOT = os.path.abspath(<span class="string">'D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread/bsp/stm32'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(SDK_ROOT + <span class="string">'/libraries'</span>):</span><br><span class="line">    libraries_path_prefix = SDK_ROOT + <span class="string">'/libraries'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    libraries_path_prefix = os.path.dirname(SDK_ROOT) + <span class="string">'/libraries'</span></span><br><span class="line"></span><br><span class="line">SDK_LIB = libraries_path_prefix</span><br><span class="line">Export(<span class="string">'SDK_LIB'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># prepare building environment</span></span><br><span class="line">objs = PrepareBuilding(env, RTT_ROOT, has_libcpu=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">stm32_library = <span class="string">'D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread/bsp/stm32/libraries/STM32H7xx_HAL'</span></span><br><span class="line">rtconfig.BSP_LIBRARY_TYPE = stm32_library</span><br><span class="line"></span><br><span class="line"><span class="comment"># include drivers</span></span><br><span class="line">objs.extend(SConscript(os.path.join(libraries_path_prefix, stm32_library, <span class="string">'SConscript'</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># include libraries</span></span><br><span class="line">objs.extend(SConscript(os.path.join(libraries_path_prefix, <span class="string">'D:/00_RT-Thread/00_RT-Thread_Source_code/rt-thread/bsp/stm32/libraries/HAL_Drivers'</span>, <span class="string">'SConscript'</span>)))</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>ç„¶ååœ¨Envç•Œé¢å†æ¬¡è¾“å…¥ <strong>scons â€“target=mdk5</strong> å‘½ä»¤é‡æ–°ç”Ÿæˆå·¥ç¨‹ã€‚</p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/34.png" alt="Env"></p>
<p><img src="/2020/09/10/RT-Thread-BSP%E5%88%B6%E4%BD%9C/35.png" alt="Env"></p>
<p>å¦‚æœå‡ºç°ä»¥ä¸Šç»“æœï¼Œæ–°çš„ BSP å·²ç»åˆ¶ä½œæˆåŠŸäº†ï¼Œå¯ä»¥ä½¿ç”¨äº† ã€‚ </p>
<h4 id="6-æ–‡æ¡£å‚è€ƒ"><a href="#6-æ–‡æ¡£å‚è€ƒ" class="headerlink" title="6. æ–‡æ¡£å‚è€ƒ"></a>6. æ–‡æ¡£å‚è€ƒ</h4><ul>
<li><p><a href="https://github.com/RT-Thread/rt-thread/blob/master/bsp/stm32/docs/STM32%E7%B3%BB%E5%88%97BSP%E5%88%B6%E4%BD%9C%E6%95%99%E7%A8%8B.md" target="_blank" rel="noopener">STM32ç³»åˆ—BSPåˆ¶ä½œæ•™ç¨‹</a></p>
</li>
<li><p><a href="https://github.com/RT-Thread/rtthread-manual-doc/blob/master/env/env.md" target="_blank" rel="noopener">User Manual of Env</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>RT-Thread</category>
      </categories>
      <tags>
        <tag>RTOS</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€RT-Threadã€‘å­¦ä¹ ç¬”è®° --&gt; RT-Thread Studio Project Import</title>
    <url>/2020/09/09/RT-Threadad-Project-import/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   RT-Thread Studio (Version: 1.1.3)</li>
<li>SDKç‰ˆæœ¬:   STM32H7 (Released V0.1.9)</li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   STM32H743IITx æœ€å°ç³»ç»Ÿ (æœ¬äººè‡ªå·±è®¾è®¡çš„æœ€å°ç³»ç»Ÿ)</li>
</ul>
<a id="more"></a>

<h1 id="RT-Thread-Studio-Project-Import-å¯¼å…¥å·¥ç¨‹"><a href="#RT-Thread-Studio-Project-Import-å¯¼å…¥å·¥ç¨‹" class="headerlink" title="RT-Thread Studio Project Import (å¯¼å…¥å·¥ç¨‹)"></a>RT-Thread Studio Project Import (å¯¼å…¥å·¥ç¨‹)</h1><h4 id="1-RT-Thread-Studio-é¡¹ç›®å¯¼å…¥"><a href="#1-RT-Thread-Studio-é¡¹ç›®å¯¼å…¥" class="headerlink" title="1. RT-Thread Studio é¡¹ç›®å¯¼å…¥"></a>1. RT-Thread Studio é¡¹ç›®å¯¼å…¥</h4><h5 id="1-1-RT-Thread-Studio-èµ„æºç®¡ç†å™¨çª—å£ä¸­ç‚¹å‡»å³é”®ï¼Œåœ¨ä¸‹æ‹‰åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¯¼å…¥åŠŸèƒ½ã€‚"><a href="#1-1-RT-Thread-Studio-èµ„æºç®¡ç†å™¨çª—å£ä¸­ç‚¹å‡»å³é”®ï¼Œåœ¨ä¸‹æ‹‰åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¯¼å…¥åŠŸèƒ½ã€‚" class="headerlink" title="1.1 RT-Thread Studio èµ„æºç®¡ç†å™¨çª—å£ä¸­ç‚¹å‡»å³é”®ï¼Œåœ¨ä¸‹æ‹‰åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¯¼å…¥åŠŸèƒ½ã€‚"></a>1.1 RT-Thread Studio èµ„æºç®¡ç†å™¨çª—å£ä¸­ç‚¹å‡»å³é”®ï¼Œåœ¨ä¸‹æ‹‰åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¯¼å…¥åŠŸèƒ½ã€‚</h5><p><img src="/2020/09/09/RT-Threadad-Project-import/Import.png" alt="Import"></p>
<h5 id="1-2-æ‰“å¼€å¯¼å…¥åŠŸèƒ½å‘å¯¼ï¼Œé€‰æ‹©å¯¼å…¥RT-Thread-Studio-å·¥ç¨‹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚"><a href="#1-2-æ‰“å¼€å¯¼å…¥åŠŸèƒ½å‘å¯¼ï¼Œé€‰æ‹©å¯¼å…¥RT-Thread-Studio-å·¥ç¨‹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚" class="headerlink" title="1.2 æ‰“å¼€å¯¼å…¥åŠŸèƒ½å‘å¯¼ï¼Œé€‰æ‹©å¯¼å…¥RT-Thread Studio å·¥ç¨‹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚"></a>1.2 æ‰“å¼€å¯¼å…¥åŠŸèƒ½å‘å¯¼ï¼Œé€‰æ‹©å¯¼å…¥RT-Thread Studio å·¥ç¨‹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</h5><p><img src="/2020/09/09/RT-Threadad-Project-import/Import_project_select.png" alt="Import project select"></p>
<h5 id="1-3-ç‚¹å‡»æµè§ˆæŒ‰é’®é€‰æ‹©è¦å¯¼å…¥é¡¹ç›®æ‰€åœ¨çš„å·¥ç¨‹ç›®å½•ï¼Œå¯¼å…¥ç¨‹åºè‡ªåŠ¨æ‰«æç›®å½•ä¸‹æ‰€æœ‰å¯å¯¼å…¥çš„å·¥ç¨‹ï¼Œå°†ç»“æœåˆ—å‡ºåœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œç„¶åç‚¹å‡»å®Œæˆã€‚"><a href="#1-3-ç‚¹å‡»æµè§ˆæŒ‰é’®é€‰æ‹©è¦å¯¼å…¥é¡¹ç›®æ‰€åœ¨çš„å·¥ç¨‹ç›®å½•ï¼Œå¯¼å…¥ç¨‹åºè‡ªåŠ¨æ‰«æç›®å½•ä¸‹æ‰€æœ‰å¯å¯¼å…¥çš„å·¥ç¨‹ï¼Œå°†ç»“æœåˆ—å‡ºåœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œç„¶åç‚¹å‡»å®Œæˆã€‚" class="headerlink" title="1.3 ç‚¹å‡»æµè§ˆæŒ‰é’®é€‰æ‹©è¦å¯¼å…¥é¡¹ç›®æ‰€åœ¨çš„å·¥ç¨‹ç›®å½•ï¼Œå¯¼å…¥ç¨‹åºè‡ªåŠ¨æ‰«æç›®å½•ä¸‹æ‰€æœ‰å¯å¯¼å…¥çš„å·¥ç¨‹ï¼Œå°†ç»“æœåˆ—å‡ºåœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œç„¶åç‚¹å‡»å®Œæˆã€‚"></a>1.3 ç‚¹å‡»æµè§ˆæŒ‰é’®é€‰æ‹©è¦å¯¼å…¥é¡¹ç›®æ‰€åœ¨çš„å·¥ç¨‹ç›®å½•ï¼Œå¯¼å…¥ç¨‹åºè‡ªåŠ¨æ‰«æç›®å½•ä¸‹æ‰€æœ‰å¯å¯¼å…¥çš„å·¥ç¨‹ï¼Œå°†ç»“æœåˆ—å‡ºåœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œç„¶åç‚¹å‡»å®Œæˆã€‚</h5><p><img src="/2020/09/09/RT-Threadad-Project-import/Import_project.png" alt="Import project"></p>
<h4 id="2-MDK-IAR-é¡¹ç›®å¯¼å…¥"><a href="#2-MDK-IAR-é¡¹ç›®å¯¼å…¥" class="headerlink" title="2. MDK/IAR é¡¹ç›®å¯¼å…¥"></a>2. MDK/IAR é¡¹ç›®å¯¼å…¥</h4>]]></content>
      <categories>
        <category>RT-Thread</category>
      </categories>
      <tags>
        <tag>RTOS</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€STM32CubeMXã€‘å­¦ä¹ ç¬”è®° --&gt; STM32CubeMX_Usart</title>
    <url>/2020/05/05/STM32CubeMX-Usart/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   STM32CubeIDE 1.2.0</li>
<li>STM32CubeMXç‰ˆæœ¬:   STM32CubeMX Version 5.4.0</li>
<li>Mcu and Firmware Package:   STM32Cube FW_H7 V1.5.0</li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   æœ¬äººè‡ªå·±è®¾è®¡çš„æœ€å°ç³»ç»Ÿ</li>
</ul>
<a id="more"></a>

<h4 id="1-æ‰“å¼€-STM32CubeMX"><a href="#1-æ‰“å¼€-STM32CubeMX" class="headerlink" title="1. æ‰“å¼€ STM32CubeMX"></a>1. æ‰“å¼€ STM32CubeMX</h4><p><img src="/2020/05/05/STM32CubeMX-Usart/0.png" alt></p>
<p><img src="/2020/05/05/STM32CubeMX-Usart/1.png" alt></p>
<h4 id="2-åˆ›å»ºå·¥ç¨‹Project"><a href="#2-åˆ›å»ºå·¥ç¨‹Project" class="headerlink" title="2. åˆ›å»ºå·¥ç¨‹Project"></a>2. åˆ›å»ºå·¥ç¨‹Project</h4><p><img src="/2020/05/05/STM32CubeMX-Usart/2.png" alt></p>
<h4 id="3-é€‰æ‹©è‡ªå·±MCUçš„å‹å·"><a href="#3-é€‰æ‹©è‡ªå·±MCUçš„å‹å·" class="headerlink" title="3. é€‰æ‹©è‡ªå·±MCUçš„å‹å·"></a>3. é€‰æ‹©è‡ªå·±MCUçš„å‹å·</h4><ul>
<li><strong>æœ¬äººMCUå‹å·ï¼šSTM32H743IITx</strong></li>
<li><strong>åŒå‡»çº¢è‰²åŒºåŸŸç›´æ¥è¿›å…¥é…ç½®ç•Œé¢</strong></li>
</ul>
<p><img src="/2020/05/05/STM32CubeMX-Usart/3.png" alt></p>
<h4 id="4-RCC-é…ç½®"><a href="#4-RCC-é…ç½®" class="headerlink" title="4. RCC é…ç½®"></a>4. RCC é…ç½®</h4><ul>
<li>å•å‡» System Core -&gt; å•å‡»RCC<ul>
<li>RCC Mode and Configuration<ul>
<li>High Speed Clock (HSE) -&gt; Crystal/Ceramic Resonator</li>
<li>Low Speed Clock (LSE) -&gt; Crystal/Ceramic Resonator</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/2020/05/05/STM32CubeMX-Usart/4.png" alt></p>
<h4 id="5-ä¸²å£USARTé…ç½®"><a href="#5-ä¸²å£USARTé…ç½®" class="headerlink" title="5. ä¸²å£USARTé…ç½®"></a>5. ä¸²å£USARTé…ç½®</h4><ul>
<li><p>å•å‡» Connectivity -&gt; å•å‡» USART1</p>
<ul>
<li><p>USART1 Mode</p>
<ul>
<li>Modeï¼šAsynchronous</li>
</ul>
</li>
<li><p>USART1 Configuration</p>
<ul>
<li>Parameter Settingsï¼ˆåŸºç¡€é…ç½®ï¼‰<ul>
<li><img src="/2020/05/05/STM32CubeMX-Usart/5.png" alt></li>
</ul>
</li>
<li>NVIC Settingsï¼ˆä¸­æ–­é…ç½®ï¼‰å‹¾é€‰Enabled<ul>
<li><img src="/2020/05/05/STM32CubeMX-Usart/6.png" alt></li>
</ul>
</li>
<li>GPIO Settings ï¼ˆI/Oé…ç½®ï¼‰<ul>
<li><strong>PA9</strong> -&gt; USART1_TX  /  <strong>PA10</strong> -&gt; UASRT1_RX</li>
<li>I/O ç©ºé—²çŠ¶æ€å…¨éƒ¨ä¸Šæ‹‰ï¼ˆPull-Upï¼‰</li>
<li><img src="/2020/05/05/STM32CubeMX-Usart/7.png" alt></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="6-æ—¶é’Ÿæ ‘é…ç½®ï¼ˆClock-Configurationï¼‰"><a href="#6-æ—¶é’Ÿæ ‘é…ç½®ï¼ˆClock-Configurationï¼‰" class="headerlink" title="6. æ—¶é’Ÿæ ‘é…ç½®ï¼ˆClock Configurationï¼‰"></a>6. æ—¶é’Ÿæ ‘é…ç½®ï¼ˆClock Configurationï¼‰</h4><p><img src="/2020/05/05/STM32CubeMX-Usart/8.png" alt></p>
<h4 id="7-ç”Ÿæˆè·¯å¾„åŠIDEé€‰æ‹©é…ç½®"><a href="#7-ç”Ÿæˆè·¯å¾„åŠIDEé€‰æ‹©é…ç½®" class="headerlink" title="7. ç”Ÿæˆè·¯å¾„åŠIDEé€‰æ‹©é…ç½®"></a>7. ç”Ÿæˆè·¯å¾„åŠIDEé€‰æ‹©é…ç½®</h4><ul>
<li><p><strong>Project</strong></p>
<ul>
<li><p>Project Nameï¼šå·¥ç¨‹åï¼ˆæ ¹æ®è‡ªå·±è¦æ±‚æ¥å†™ï¼‰</p>
</li>
<li><p>Project Locationï¼šç”Ÿæˆå·¥ç¨‹è·¯å¾„ï¼ˆé€‰æ‹©è‡ªå·±å¸¸ç”¨è·¯å¾„ï¼‰</p>
</li>
<li><p>Toolchain / IDEï¼šå¼€å‘ç¯å¢ƒé€‰æ‹©ï¼ˆæœ¬å·¥ç¨‹é€‰æ‹©STM32CubeIDEå¼€å‘ç¯å¢ƒï¼‰</p>
<ul>
<li>EWARM</li>
<li>MDK_ARM</li>
<li>SW4STM32</li>
<li>TrueSTUDIO</li>
<li><strong>STM32CubeIDE</strong></li>
<li>MakeFile</li>
</ul>
</li>
<li><p>Mcu and Firmware Package (STM32Cube FW_H7 V1.5.0)</p>
<ul>
<li>MCU Referenceï¼šSTM32H743IITx</li>
<li>Firmware Package Name and Versionï¼š<strong>STM32Cube FW_H7 V1.5.0</strong> ï¼ˆç‰ˆæœ¬ä¸åŒï¼Œç”Ÿæˆçš„å·¥ç¨‹å¯èƒ½ä¼šæœ‰ç‚¹å·®å¼‚ï¼‰</li>
</ul>
</li>
<li><p><img src="/2020/05/05/STM32CubeMX-Usart/9.png" alt></p>
</li>
</ul>
</li>
<li><p><strong>Code Generator é…ç½®é€‰æ‹©</strong> </p>
<p><img src="/2020/05/05/STM32CubeMX-Usart/10.png" alt></p>
</li>
</ul>
<p><strong>è‡³æ­¤å·¥ç¨‹é…ç½®åŸºæœ¬å®Œæˆ</strong>ï¼ˆå•å‡» GENERATE CODE ç”Ÿæˆå·¥ç¨‹ï¼‰</p>
<h4 id="8-æ‰“å¼€-STM32CubeIDE-ç¼–è¯‘ç”Ÿæˆå·¥ç¨‹"><a href="#8-æ‰“å¼€-STM32CubeIDE-ç¼–è¯‘ç”Ÿæˆå·¥ç¨‹" class="headerlink" title="8. æ‰“å¼€ STM32CubeIDE ç¼–è¯‘ç”Ÿæˆå·¥ç¨‹"></a>8. æ‰“å¼€ STM32CubeIDE ç¼–è¯‘ç”Ÿæˆå·¥ç¨‹</h4><p><img src="/2020/05/05/STM32CubeMX-Usart/11.png" alt></p>
<h4 id="9-Printf-æ‰“å°é…ç½®"><a href="#9-Printf-æ‰“å°é…ç½®" class="headerlink" title="9. Printf æ‰“å°é…ç½®"></a>9. Printf æ‰“å°é…ç½®</h4><ul>
<li><strong>usart.h æ·»åŠ ä»£ç </strong></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>usart.c æ·»åŠ ä»£ç </strong></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Private function prototypes -----------------------------------------------*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __GNUC__</span></span><br><span class="line"><span class="comment">/* With GCC/RAISONANCE, small printf (option LD Linker-&gt;Libraries-&gt;Small printf</span></span><br><span class="line"><span class="comment">   set to 'Yes') calls __io_putchar() */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PUTCHAR_PROTOTYPE int __io_putchar(int ch)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* __GNUC__ */</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  Retargets the C library printf function to the USART.</span></span><br><span class="line"><span class="comment">  * @param  None</span></span><br><span class="line"><span class="comment">  * @retval None</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">PUTCHAR_PROTOTYPE</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Place your implementation of fputc here */</span></span><br><span class="line">    <span class="comment">/* e.g. write a character to the USART1 and Loop until the end of transmission */</span></span><br><span class="line">    HAL_UART_Transmit(&amp;huart1, (<span class="keyword">uint8_t</span> *)&amp;ch, <span class="number">1</span>, <span class="number">0xFFFF</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/05/05/STM32CubeMX-Usart/12.png" alt></p>
<p><img src="/2020/05/05/STM32CubeMX-Usart/13.png" alt></p>
<h4 id="10-STM32H743IITx-å·¥ç¨‹æ¨¡æ¿"><a href="#10-STM32H743IITx-å·¥ç¨‹æ¨¡æ¿" class="headerlink" title="10.  STM32H743IITx å·¥ç¨‹æ¨¡æ¿"></a>10.  STM32H743IITx å·¥ç¨‹æ¨¡æ¿</h4><ul>
<li>å·¥ç¨‹æ¨¡æ¿  <a href="https://gitee.com/Zhao_ch/STM32H743_Template_Cubeide" target="_blank" rel="noopener">ä¸‹è½½è¿æ¥</a></li>
</ul>
]]></content>
      <categories>
        <category>STM32CubeMX</category>
      </categories>
      <tags>
        <tag>STM32CubeMX</tag>
        <tag>STM32</tag>
        <tag>HAL</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€nRF52832ã€‘å­¦ä¹ ç¬”è®° --&gt; TIMER-Timer/Counter (å®šæ—¶å™¨/è®¡æ•°å™¨)</title>
    <url>/2020/08/10/Timer/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ:   Window10 ä¼ä¸šç‰ˆ</li>
<li>IDEå¼€å‘ç¯å¢ƒ:   ARM_MDK5 (Keil5)</li>
<li>SDKç‰ˆæœ¬:   SDK_17.0.0 </li>
<li>ç¡¬ä»¶å¼€å‘æ¿:   å®˜æ–¹å¼€å‘æ¿ PCA10040</li>
</ul>
<a id="more"></a>

<h2 id="TIMER-Timer-Counter-å®šæ—¶å™¨-è®¡æ•°å™¨"><a href="#TIMER-Timer-Counter-å®šæ—¶å™¨-è®¡æ•°å™¨" class="headerlink" title="TIMER-Timer/Counter (å®šæ—¶å™¨/è®¡æ•°å™¨)"></a>TIMER-Timer/Counter (å®šæ—¶å™¨/è®¡æ•°å™¨)</h2><h4 id="1-æ¦‚è¿°ä»‹ç»"><a href="#1-æ¦‚è¿°ä»‹ç»" class="headerlink" title="1. æ¦‚è¿°ä»‹ç»"></a>1. æ¦‚è¿°ä»‹ç»</h4><p>&emsp;&emsp;å®šæ—¶å™¨æœ‰ä¸¤ç§æ¨¡å¼ï¼š<strong>å®šæ—¶å™¨</strong> å’Œ <strong>è®¡æ•°å™¨</strong>ã€‚å®šæ—¶å™¨å’Œè®¡æ•°å™¨å†…éƒ¨ç»“æ„æ¡†å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/2020/08/10/Timer/timer_counter.png" alt="timer_counter"></p>
<p>&emsp;&emsp;ä¸ç®¡ä½¿ç”¨ä»€ä¹ˆ MCU å¤„ç†å™¨ï¼Œéƒ½å¿…å®šå«æœ‰å®šæ—¶å™¨å’Œè®¡æ•°å™¨ï¼Œé’ˆå¯¹NordicèŠ¯ç‰‡ï¼ŒnRF52xxç³»åˆ—çš„Timerå®šæ—¶å™¨é¡µååˆ†å¼ºå¤§ï¼Œå…¶å†…éƒ¨å«æœ‰5ä¸ªå®šæ—¶å™¨ï¼ŒTimer0ã€Timer1ã€Timer2ã€Timer3ã€Timer4ã€‚å¦‚æœä½¿ç”¨è“ç‰™çš„è¯ï¼ŒTimer0æ˜¯è¢« BLE å æœ‰çš„ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨åè¾¹4ä¸ªå®šæ—¶å™¨ï¼ŒTimer1ã€Timer2ã€Timer3ã€Timer4ã€‚</p>
<p><img src="/2020/08/10/Timer/Timer.png" alt="Timer"></p>
<h4 id="2-Timer-Counter-åŸç†åˆ†æ"><a href="#2-Timer-Counter-åŸç†åˆ†æ" class="headerlink" title="2. Timer / Counter åŸç†åˆ†æ"></a>2. Timer / Counter åŸç†åˆ†æ</h4><h5 id="2-1-Timer-Counter-å®šæ—¶å™¨å’Œè®¡æ•°å™¨çš„åŒºåˆ«"><a href="#2-1-Timer-Counter-å®šæ—¶å™¨å’Œè®¡æ•°å™¨çš„åŒºåˆ«" class="headerlink" title="2.1   Timer / Counter å®šæ—¶å™¨å’Œè®¡æ•°å™¨çš„åŒºåˆ«"></a>2.1   Timer / Counter å®šæ—¶å™¨å’Œè®¡æ•°å™¨çš„åŒºåˆ«</h5><ul>
<li>å®šæ—¶å™¨å’Œè®¡æ•°å™¨å®é™…éƒ½æ˜¯é€šè¿‡è®¡æ•°å™¨æ¥è®¡æ•°ã€‚</li>
<li>å®šæ—¶å™¨æ˜¯å¯¹å‘¨æœŸä¸å˜çš„è„‰å†²è®¡æ•° (ä¸€èˆ¬æ¥è‡ªç³»ç»Ÿæ—¶é’Ÿ)ï¼Œç”±è®¡æ•°çš„ä¸ªæ•°å’Œè„‰å†²çš„å‘¨æœŸå³å¯è®¡ç®—å‡ºæ—¶é—´ã€‚åŒæ—¶ï¼Œé€šè¿‡ä¸€ä¸ªç»™å®šçš„é¢„æœŸå€¼ (å³æ¯”è¾ƒå€¼)ï¼Œå½“è®¡æ•°å€¼è¾¾åˆ°é¢„æœŸå€¼æ—¶äº§ç”Ÿä¸­æ–­ï¼Œè¿™å®ç°äº†å®šæ—¶ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡è®¾ç½®ä¸åŒçš„é¢„æœŸå€¼å®ç°ä¸åŒæ—¶é—´çš„å®šæ—¶ã€‚</li>
<li>è®¡æ•°å™¨æ—¶å¯¹æŸä¸€äº‹ä»¶è¿›è¡Œè®¡æ•°ï¼Œæ­¤äº‹ä»¶æ²¡å‘ç”Ÿä¸€æ¬¡ï¼Œè®¡æ•°å€¼åŠ /å‡1ï¼Œäº‹ä»¶çš„äº§ç”Ÿå¯èƒ½æ—¶æ²¡æœ‰è§„å¾‹çš„ï¼Œè®¡æ•°å™¨çš„ç”¨é€”æ˜¯å¯¹äº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°è¿›è¡Œè®¡æ•°ï¼Œç”±è®¡æ•°å€¼æ¥åæ˜ äº‹ä»¶äº§ç”Ÿçš„æ¬¡æ•°ã€‚</li>
</ul>
<h5 id="2-2-Timer-æ—¶é’Ÿæº"><a href="#2-2-Timer-æ—¶é’Ÿæº" class="headerlink" title="2.2   Timer æ—¶é’Ÿæº"></a>2.2   Timer æ—¶é’Ÿæº</h5><p>&emsp;&emsp;Timeræ—¶é’Ÿæºä¸»è¦æ¥æºæ˜¯ PCLK1M æˆ– PCLK16Mï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®Timeræ—¶é’Ÿè®¾ç½®çš„é¢‘ç‡ f è‡ªåŠ¨é€‰æ‹©ä½¿ç”¨å“ªä¸€ç§æ—¶é’Ÿæºï¼Œæ—¶é’Ÿæºçš„è®¾ç½®æ˜¯æ— éœ€è½¯ä»¶æ“ä½œçš„ï¼Œå½“æˆ‘ä»¬è®¾ç½®å¥½Timeræ—¶é’Ÿé¢‘ç‡åï¼Œç³»ç»Ÿä¼šæ ¹æ®æ—¶é’Ÿé¢‘ç‡è‡ªåŠ¨é€‰æ‹©æ—¶é’Ÿæºã€‚</p>
<ul>
<li><p><strong>f <sub>TIMER = 16MHz  /  2<sup>PRESCALER</sup></sub></strong> </p>
</li>
<li><p><strong>f <sub>TIMER &gt; 1MHz</sub></strong>ï¼Œå®šæ—¶å™¨ä½¿ç”¨ <strong>PCLK16M</strong> ä½œä¸ºæ—¶é’Ÿæºã€‚</p>
</li>
<li><p><strong>f <sub>TIMER &lt;= 1MHz</sub></strong>ï¼Œå®šæ—¶å™¨ä½¿ç”¨ <strong>PCLK1M</strong> ä»£æ›¿ <strong>PCLK16M</strong>ï¼Œé™ä½åŠŸè€—ã€‚</p>
</li>
</ul>
<h5 id="2-3-Timer-æ—¶é’Ÿé¢‘ç‡"><a href="#2-3-Timer-æ—¶é’Ÿé¢‘ç‡" class="headerlink" title="2.3   Timer æ—¶é’Ÿé¢‘ç‡"></a>2.3   Timer æ—¶é’Ÿé¢‘ç‡</h5><p>&emsp;&emsp;Timer çš„æ—¶é’Ÿé¢‘ç‡ f <sub>TIMER è®¡ç®—å…¬å¼: <strong>f <sub>TIMER = 16MHz  /  2<sup>PRESCALER</sup></sub></strong>ï¼Œæ— è®ºæ—¶é’Ÿæºä½¿ç”¨çš„æ˜¯ PCLK1M æˆ– PCLK16M ï¼Œæ—¶é’Ÿé¢‘ç‡è®¡ç®—éƒ½ä»¥ <strong>16MHz</strong> ä¸ºåŸºå‡†ã€‚</sub></p>
<table>
<thead>
<tr>
<th align="center">åˆ†é¢‘ç³»æ•°</th>
<th align="center">æ—¶é’Ÿé¢‘ç‡</th>
<th align="center">ç³»ç»Ÿæ—¶é’Ÿæº</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">16MHz</td>
<td align="center">PCLK16M</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">8MHz</td>
<td align="center">PCLK16M</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">4MHz</td>
<td align="center">PCLK16M</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">2MHz</td>
<td align="center">PCLK16M</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">1MHz</td>
<td align="center">PCLK1M</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">500KHz</td>
<td align="center">PCLK1M</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">250KHz</td>
<td align="center">PCLK1M</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">125KHz</td>
<td align="center">PCLK1M</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">62.5KHz</td>
<td align="center">PCLK1M</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">31.25KHz</td>
<td align="center">PCLK1M</td>
</tr>
</tbody></table>
<h5 id="2-4-Timer-ä½å®½"><a href="#2-4-Timer-ä½å®½" class="headerlink" title="2.4   Timer ä½å®½"></a>2.4   Timer ä½å®½</h5><p>&emsp;&emsp;nRF52832 5ä¸ªå®šæ—¶å™¨æœ€å¤§ä½å®½éƒ½æ˜¯ 32 Bitï¼Œ BITMODE å¯„å­˜å™¨å¯ä»¥è®¾ç½®å®šæ—¶å™¨çš„ä½å®½ã€‚</p>
<table>
<thead>
<tr>
<th align="center">Bit Width ID</th>
<th align="center">Bit Width Select</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">16Bit</td>
<td align="center">0</td>
<td align="center">16 bit timer bit width</td>
</tr>
<tr>
<td align="center">8Bit</td>
<td align="center">1</td>
<td align="center">8 bit timer bit width</td>
</tr>
<tr>
<td align="center">24Bit</td>
<td align="center">2</td>
<td align="center">24 bit timer bit width</td>
</tr>
<tr>
<td align="center">32Bit</td>
<td align="center">3</td>
<td align="center">32 bit timer bit width</td>
</tr>
</tbody></table>
<p>å®šæ—¶å™¨é¢‘ç‡å’Œå®šæ—¶å™¨ä½å®½å»ºè®®è®¾ç½® 16MHz å’Œ 32Bit (æœ¬äººæ¯”è¾ƒæ‡’ä¸æƒ³å»ç®—äº†)ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å®šæ—¶æ—¶é—´åŠé¢‘ç‡æ¥é€‰æ‹©åˆé€‚çš„å€¼ã€‚</p>
<h5 id="2-5-Timer-æ•è·"><a href="#2-5-Timer-æ•è·" class="headerlink" title="2.5 Timer æ•è·"></a>2.5 Timer æ•è·</h5><p>&emsp;&emsp;Timer ä¸­çš„æ¯ä¸€ä¸ªCC[n]å¯„å­˜å™¨éƒ½å¯¹åº”ä¸€ä¸ªæ•è·ä»»åŠ¡ TASKS_CAPTUREï¼Œæ¯æ¬¡å‡ºå‘ä»»åŠ¡å¯„å­˜å™¨ CAPTURE[n]ï¼Œæ•è·å€¼ä¼šè¢«å­˜å‚¨åˆ°å¯¹åº”çš„CC[n]å¯„å­˜å™¨ã€‚</p>
<h5 id="2-6-Timer-æº¢å‡ºå’Œæ¸…é›¶"><a href="#2-6-Timer-æº¢å‡ºå’Œæ¸…é›¶" class="headerlink" title="2.6 Timer æº¢å‡ºå’Œæ¸…é›¶"></a>2.6 Timer æº¢å‡ºå’Œæ¸…é›¶</h5><p>&emsp;&emsp;Timer è®¡æ•°å¯„å­˜å™¨çš„å€¼å¢åŠ åˆ°æœ€å¤§å€¼æ—¶ï¼Œè®¡æ•°å¯„å­˜å™¨æº¢å‡ºï¼Œè®¡æ•°å¯„å­˜å™¨çš„æ•°å€¼ä¼šæ¸…é›¶å¹¶è‡ªåŠ¨ä»é›¶å¼€å§‹è®¡æ•°ã€‚å‡ºå‘ä»»åŠ¡å¯„å­˜å™¨ CLEARï¼Œè®¡æ•°å¯„å­˜å™¨çš„å€¼ä¹Ÿä¼šè¢«æ¸…é›¶ã€‚</p>
<h5 id="2-7-Timer-æ¯”è¾ƒ"><a href="#2-7-Timer-æ¯”è¾ƒ" class="headerlink" title="2.7 Timer æ¯”è¾ƒ"></a>2.7 Timer æ¯”è¾ƒ</h5><p>&emsp;&emsp;Timer ä¸­æ¯ä¸€ä¸ªCC[n]å¯„å­˜å™¨éƒ½å¯¹åº”ä¸€ä¸ªæ¯”è¾ƒäº‹ä»¶ COMPAREï¼Œè®¡æ•°å€¼å¢åŠ åˆ°å’ŒCC[n]å¯„å­˜å™¨è®¾ç½®çš„æ•°å€¼ä¸€æ ·æ—¶ï¼Œä¼šäº§ç”Ÿæ¯”è¾ƒäº‹ä»¶ COMPARE[n]ã€‚</p>
<h5 id="2-8-Timer-ä»»åŠ¡å»¶è¿Ÿå’Œä»»åŠ¡ä¼˜å…ˆçº§"><a href="#2-8-Timer-ä»»åŠ¡å»¶è¿Ÿå’Œä»»åŠ¡ä¼˜å…ˆçº§" class="headerlink" title="2.8 Timer ä»»åŠ¡å»¶è¿Ÿå’Œä»»åŠ¡ä¼˜å…ˆçº§"></a>2.8 Timer ä»»åŠ¡å»¶è¿Ÿå’Œä»»åŠ¡ä¼˜å…ˆçº§</h5><ul>
<li>ä»»åŠ¡å»¶è¿Ÿï¼šTimer å¯åŠ¨åï¼ŒCLEAR ä»»åŠ¡ã€COUNTä»»åŠ¡ã€STOPä»»åŠ¡ä¼šåœ¨PCLK16M çš„ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…ç”Ÿæ•ˆã€‚</li>
<li>ä»»åŠ¡ä¼˜å…ˆçº§ï¼šSTART ä»»åŠ¡å’Œ STOP ä»»åŠ¡åœ¨åŒä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…åŒæ—¶è§¦å‘æ—¶ï¼ŒSTOP ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚</li>
</ul>
<h4 id="3-Timer-Counter-å®šæ—¶å™¨-è®¡æ•°å™¨-ä»£ç å®ç°"><a href="#3-Timer-Counter-å®šæ—¶å™¨-è®¡æ•°å™¨-ä»£ç å®ç°" class="headerlink" title="3. Timer/Counter (å®šæ—¶å™¨/è®¡æ•°å™¨) ä»£ç å®ç°"></a>3. Timer/Counter (å®šæ—¶å™¨/è®¡æ•°å™¨) ä»£ç å®ç°</h4><h5 id="3-1-Timer-c-é…ç½®"><a href="#3-1-Timer-c-é…ç½®" class="headerlink" title="3.1 Timer.c é…ç½®"></a>3.1 Timer.c é…ç½®</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * timer.c</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-7-17</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: library function versions implement timers</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"timer.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TIMER0      0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TIMER_MS</span></span><br><span class="line"><span class="comment">//#define TIMER_US</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">nrf_drv_timer_t</span> TIMER_TASK = NRF_DRV_TIMER_INSTANCE(<span class="number">0</span>);            <span class="comment">/* Create Timer0 Instance */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief Handler for timer events.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">timer_task_event_handler</span><span class="params">(<span class="keyword">nrf_timer_event_t</span> event_type, <span class="keyword">void</span>* p_context)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (event_type)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> NRF_TIMER_EVENT_COMPARE0:          <span class="comment">/* CC[0] Compare event match */</span></span><br><span class="line">            LED_Toggle(LED2);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"><span class="comment">//        case NRF_TIMER_EVENT_COMPARE1:          /* CC[1] Compare event match */</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"><span class="comment">//        case NRF_TIMER_EVENT_COMPARE2:          /* CC[2] Compare event match */</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"><span class="comment">//        case NRF_TIMER_EVENT_COMPARE3:          /* CC[3] Compare event match */</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"><span class="comment">//        case NRF_TIMER_EVENT_COMPARE4:          /* CC[4] Compare event match */</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"><span class="comment">//        case NRF_TIMER_EVENT_COMPARE5:          /* CC[5] Compare event match */</span></span><br><span class="line"><span class="comment">//            break;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="comment">// Do nothing.</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief  HardWare Timer Initialization.</span></span><br><span class="line"><span class="comment"> * @param  Times : timing time</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hardWare_timer_init</span><span class="params">(<span class="keyword">uint32_t</span> times)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">uint32_t</span> time_ticks;</span><br><span class="line">    <span class="keyword">uint32_t</span> err_code = NRF_SUCCESS;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined (TIMER_MS)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">nrf_drv_timer_config_t</span> timer_cfg = NRF_DRV_TIMER_DEFAULT_CONFIG;</span><br><span class="line"></span><br><span class="line">    err_code = nrf_drv_timer_init(&amp;TIMER_TASK, &amp;timer_cfg, timer_task_event_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line"></span><br><span class="line">    time_ticks = nrf_drv_timer_ms_to_ticks(&amp;TIMER_TASK, times);</span><br><span class="line"></span><br><span class="line">    nrf_drv_timer_extended_compare(&amp;TIMER_TASK, NRF_TIMER_CC_CHANNEL0, time_ticks, NRF_TIMER_SHORT_COMPARE0_CLEAR_MASK, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    nrf_drv_timer_enable(&amp;TIMER_TASK);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined (TIMER_US)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">nrf_drv_timer_config_t</span> timer_cfg = NRF_DRV_TIMER_DEFAULT_CONFIG;</span><br><span class="line"></span><br><span class="line">    err_code = nrf_drv_timer_init(&amp;TIMER_TASK, &amp;timer_cfg, timer_task_event_handler);</span><br><span class="line">    APP_ERROR_CHECK(err_code);</span><br><span class="line"></span><br><span class="line">    time_ticks = nrf_drv_timer_us_to_ticks(&amp;TIMER_TASK, Times);</span><br><span class="line"></span><br><span class="line">    nrf_drv_timer_extended_compare(&amp;TIMER_TASK, NRF_TIMER_CC_CHANNEL0, time_ticks, NRF_TIMER_SHORT_COMPARE0_CLEAR_MASK, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    nrf_drv_timer_enable(&amp;TIMER_TASK);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-Timer-h-é…ç½®"><a href="#3-2-Timer-h-é…ç½®" class="headerlink" title="3.2 Timer.h é…ç½®"></a>3.2 Timer.h é…ç½®</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * timer.h</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   Created on: 2020-7-17</span></span><br><span class="line"><span class="comment"> *       Author: wuliZhao_ch</span></span><br><span class="line"><span class="comment"> *  Description: library function versions implement timers</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> TIMER_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TIMER_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdint.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_drv_timer.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"app_error.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"nrf_gpio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"led.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">timer_task_event_handler</span><span class="params">(<span class="keyword">nrf_timer_event_t</span> event_type, <span class="keyword">void</span>* p_context)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hardWare_timer_init</span><span class="params">(<span class="keyword">uint32_t</span> times)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* TIMER_H__ */</span></span></span><br></pre></td></tr></table></figure>

<h5 id="3-3-Main-c-é…ç½®"><a href="#3-3-Main-c-é…ç½®" class="headerlink" title="3.3 Main.c é…ç½®"></a>3.3 Main.c é…ç½®</h5><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief Function for application main entry.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    nrf_drv_clock_hfclk_request(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span>(nrf_drv_clock_hfclk_is_running())</span><br><span class="line">    &#123;</span><br><span class="line">        NRF_LOG_INFO(<span class="string">"hfclk_clock_init_succeed!!!\r\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    LED_Init();                      <span class="comment">/* Initialize LED */</span></span><br><span class="line">    hardWare_timer_init(<span class="number">1000</span>);       <span class="comment">/* HardWare Timer Initialization */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** @&#125; */</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Nordic</category>
      </categories>
      <tags>
        <tag>Nordic</tag>
        <tag>Bluetooth</tag>
        <tag>nRF52</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Bluetoothã€‘å­¦ä¹ ç¬”è®° --&gt; è“ç‰™ç©ºä¸­å‡çº§(BLE OTA)åŸç†ä¸æ­¥éª¤</title>
    <url>/2020/06/06/%E8%93%9D%E7%89%99%E7%A9%BA%E4%B8%AD%E5%8D%87%E7%BA%A7/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<h3 id="è“ç‰™ç©ºä¸­å‡çº§-BLE-OTA-åŸç†ä¸æ­¥éª¤"><a href="#è“ç‰™ç©ºä¸­å‡çº§-BLE-OTA-åŸç†ä¸æ­¥éª¤" class="headerlink" title="è“ç‰™ç©ºä¸­å‡çº§(BLE OTA)åŸç†ä¸æ­¥éª¤"></a>è“ç‰™ç©ºä¸­å‡çº§(BLE OTA)åŸç†ä¸æ­¥éª¤</h3><h4 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h4><ul>
<li><p><strong>DFU</strong>ï¼ˆDevice Firmware Updateï¼‰ï¼Œè®¾å¤‡å›ºä»¶å‡çº§çš„æ„æ€ã€‚</p>
</li>
<li><p><strong>OTA</strong>ï¼ˆOver The Airï¼‰æ˜¯å®ç°DFUçš„ä¸€ç§æ–¹å¼ï¼Œå‡†ç¡®è¯´OTAå…¨ç§°åº”è¯¥æ˜¯OTA DFUï¼Œå³é€šè¿‡ç©ºä¸­æ— çº¿æ–¹å¼å®ç°è®¾å¤‡å›ºä»¶å‡çº§ã€‚</p>
</li>
<li><p>é€šè¿‡æ— çº¿é€šä¿¡æ–¹å¼å®ç°DFUçš„ï¼Œéƒ½å¯ä»¥å«OTAï¼Œæ¯”å¦‚ 2G / 3G / 4G / WIFI / è“ç‰™ / NFC / Zigbeeï¼Œéƒ½æ”¯æŒOTAã€‚</p>
</li>
<li><p>DFUé™¤äº†å¯ä»¥é€šè¿‡æ— çº¿æ–¹å¼ï¼ˆOTAï¼‰è¿›è¡Œå‡çº§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æœ‰çº¿æ–¹å¼è¿›è¡Œå‡çº§ï¼Œæ¯”å¦‚é€šè¿‡UARTï¼ŒUSBæˆ–è€…SPIé€šä¿¡æ¥å£æ¥å‡çº§è®¾å¤‡å›ºä»¶ã€‚</p>
</li>
<li><p>DFUåˆ†ä¸º  <strong>åå°å¼</strong>  ä¸  <strong>éåå°å¼</strong></p>
<ul>
<li><strong>åå°å¼DFUï¼š</strong>åˆç§°é™é»˜å¼DFUï¼ˆSilent DFUï¼‰ï¼Œå‡çº§çš„æ—¶å€™ï¼Œæ–°å›ºä»¶åœ¨åå°æ‚„æ‚„ä¸‹è½½ï¼Œå³æ–°å›ºä»¶ä¸‹è½½å±äºåº”ç”¨ç¨‹åºåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æ–°å›ºä»¶ä¸‹è½½è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªä¸‹è½½è¿‡ç¨‹å¯¹ç”¨æˆ·æ¥è¯´æ˜¯æ— æ„Ÿçš„ï¼Œä¸‹è½½å®Œæˆåï¼Œç³»ç»Ÿå†è·³åˆ°Bootloaderæ¨¡å¼ï¼Œç”±Bootloaderå®Œæˆæ–°å›ºä»¶è¦†ç›–è€å›ºä»¶çš„æ“ä½œï¼Œè‡³æ­¤æ•´ä¸ªå‡çº§è¿‡ç¨‹ç»“æŸã€‚</li>
<li><strong>éåå°å¼DFUï¼š</strong>å‡çº§çš„æ—¶å€™ï¼Œç³»ç»Ÿéœ€è¦å…ˆä»åº”ç”¨æ¨¡å¼è·³å…¥åˆ°Bootloaderæ¨¡å¼ï¼Œç”±Bootloaderè¿›è¡Œæ–°å›ºä»¶ä¸‹è½½å·¥ä½œï¼Œä¸‹è½½å®ŒæˆåBootloaderç»§ç»­å®Œæˆæ–°å›ºä»¶è¦†ç›–è€å›ºä»¶çš„æ“ä½œï¼Œè‡³æ­¤å‡çº§ç»“æŸã€‚æ—©å…ˆçš„åŠŸèƒ½æœºå°±æ˜¯é‡‡ç”¨éåå°å¼ DFUæ¥å‡çº§æ“ä½œç³»ç»Ÿçš„ï¼Œå³ç”¨æˆ·éœ€è¦å…ˆé•¿æŒ‰æŸäº›æŒ‰é”®è¿›å…¥Bootloaderæ¨¡å¼ï¼Œç„¶åå†è¿›è¡Œå‡çº§ï¼Œæ•´ä¸ªå‡çº§è¿‡ç¨‹ä¸­æ‰‹æœºæ­£å¸¸åŠŸèƒ½éƒ½æ— æ³•ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p><strong>åŒåŒºDFU</strong>ï¼ˆDual bankï¼‰å’Œ<strong>å•åŒºDFU</strong>ï¼ˆSingle bankï¼‰ï¼Œ<strong>åŒåŒºæˆ–è€…å•åŒºDFUå¼æ–°å›ºä»¶å’Œè€å›ºä»¶è¦†ç›–çš„ä¸¤ç§æ–¹å¼</strong>ã€‚</p>
<ul>
<li><p><strong>åå°å¼DFUï¼ˆåŒåŒºæ¨¡å¼ï¼‰ï¼š</strong>å¿…é¡»é‡‡ç”¨åŒåŒºæ¨¡å¼è¿›è¡Œå‡çº§ï¼Œå³è€ç³»ç»Ÿï¼ˆè€å›ºä»¶ï¼‰å’Œæ–°ç³»ç»Ÿï¼ˆæ–°å›ºä»¶ï¼‰å„å ä¸€å—Bankï¼ˆå­˜å‚¨åŒºï¼‰ï¼Œå‡è®¾è€å›ºä»¶æ”¾åœ¨Bank0ä¸­ï¼Œæ–°å›ºä»¶æ”¾åœ¨Bank1ä¸­ï¼Œå‡çº§çš„æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºå…ˆæŠŠæ–°å›ºä»¶ä¸‹è½½åˆ°Bank1ä¸­ï¼Œåªæœ‰å½“æ–°å›ºä»¶ä¸‹è½½å®Œæˆå¹¶æ ¡éªŒæˆåŠŸåï¼Œç³»ç»Ÿæ‰ä¼šè·³è¿›Bootloaderæ¨¡å¼ï¼Œç„¶åæ“¦é™¤è€å›ºä»¶æ‰€åœ¨çš„Bank0åŒºï¼Œå¹¶æŠŠæ–°å›ºä»¶æ‹·è´åˆ°Bank0åŒºä¸­ã€‚</p>
</li>
<li><p><strong>éåå°å¼DFUï¼š</strong>å¯ä»¥é‡‡ç”¨åŒåŒºæ¨¡å¼ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨å•åŒºæ¨¡å¼</p>
<ul>
<li><p>éåå°å¼DFUï¼ˆåŒåŒºæ¨¡å¼ï¼‰ï¼šåŒåŒºæ¨¡å¼ä¸‹æ–°è€å›ºä»¶å„å ä¸€å—Bankï¼ˆè€å›ºä»¶ä¸ºBank0ï¼Œæ–°å›ºä»¶ä¸ºBank1ï¼‰ï¼Œå‡çº§æ—¶ï¼Œç³»ç»Ÿå…ˆè·³å…¥Bootloaderæ¨¡å¼ï¼Œç„¶åBootloaderç¨‹åºæŠŠæ–°å›ºä»¶ä¸‹è½½åˆ°bank1ä¸­ï¼Œåªæœ‰æ–°å›ºä»¶ä¸‹è½½å®Œæˆå¹¶æ ¡éªŒæˆåŠŸåï¼Œæ‰ä¼šå»æ“¦é™¤è€å›ºä»¶æ‰€åœ¨çš„bank0åŒºï¼Œå¹¶æŠŠæ–°å›ºä»¶æ‹·è´åˆ°bank0åŒº</p>
</li>
<li><p>éåå°å¼DFUï¼ˆå•åŒºæ¨¡å¼ï¼‰ï¼šå•åŒºæ¨¡å¼çš„éåå°å¼DFUåªæœ‰ä¸€ä¸ªBank0ï¼Œè€å›ºä»¶å’Œæ–°å›ºä»¶åˆ†äº«è¿™ä¸€ä¸ªbank0ï¼Œå‡çº§çš„æ—¶å€™ï¼Œè¿›å…¥bootloaderæ¨¡å¼å<strong>ç«‹é©¬æ“¦é™¤è€å›ºä»¶</strong>ï¼Œç„¶åç›´æ¥æŠŠæ–°å›ºä»¶ä¸‹è½½åˆ°åŒä¸€ä¸ªbankä¸­ï¼Œä¸‹è½½å®Œæˆåæ ¡éªŒæ–°å›ºä»¶çš„æœ‰æ•ˆæ€§ï¼Œæ–°å›ºä»¶æœ‰æ•ˆå‡çº§å®Œæˆï¼Œå¦åˆ™è¦æ±‚é‡æ¥ã€‚ï¼ˆè·Ÿéåå°å¼DFUåŒåŒºæ¨¡å¼ç›¸æ¯”ï¼Œå•åŒºæ¨¡å¼èŠ‚çœäº†ä¸€ä¸ªBankçš„Flashç©ºé—´ï¼Œåœ¨ç³»ç»Ÿèµ„æºæ¯”è¾ƒç´§å¼ çš„æ—¶å€™ï¼Œå•åŒºæ¨¡å¼æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼‰</p>
<p>ï¼ˆä¸ç®¡æ˜¯åŒåŒºæ¨¡å¼è¿˜æ˜¯å•åŒºæ¨¡å¼ï¼Œå‡çº§è¿‡ç¨‹å‡ºç°é—®é¢˜åï¼Œéƒ½å¯ä»¥è¿›è¡ŒäºŒæ¬¡å‡çº§ï¼Œéƒ½ä¸ä¼šå‡ºç°â€œå˜ç –â€æƒ…å†µã€‚ä¸è¿‡åŒåŒºæ¨¡å¼æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå¦‚æœå‡çº§è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜æˆ–è€…æ–°å›ºä»¶æœ‰é—®é¢˜ï¼Œå®ƒè¿˜å¯ä»¥é€‰æ‹©ä¹‹å‰çš„è€å›ºä»¶è€ç³»ç»Ÿç»§ç»­æ‰§è¡Œè€Œä¸å—å…¶å½±å“ã€‚è€Œå•åŒºæ¨¡å¼ç¢°åˆ°è¿™ç§æƒ…å†µå°±åªèƒ½ä¸€ç›´å¾…åœ¨bootloaderä¸­ï¼Œç„¶åç­‰å¾…äºŒæ¬¡æˆ–è€…å¤šæ¬¡å‡çº§å°è¯•ï¼Œæ­¤æ—¶è®¾å¤‡çš„æ­£å¸¸åŠŸèƒ½å·²æ— æ³•ä½¿ç”¨ï¼Œä»ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œä½ çš„ç¡®å¯ä»¥è¯´æ­¤æ—¶è®¾å¤‡å·²ç»â€œå˜ç –â€äº†ã€‚æ‰€ä»¥è¯´ï¼Œè™½ç„¶åŒåŒºæ¨¡å¼ç‰ºç‰²äº†å¾ˆå¤šå­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯æ¢æ¥äº†æ›´å¥½çš„å‡çº§ä½“éªŒã€‚ï¼‰</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/2020/06/06/%E8%93%9D%E7%89%99%E7%A9%BA%E4%B8%AD%E5%8D%87%E7%BA%A7/%E5%8D%87%E7%BA%A7%E5%9B%BE%E8%A7%A3.png" alt></p>
<h4 id="äºŒã€Nordic-SDK-DFUå·¥ä½œåŸç†"><a href="#äºŒã€Nordic-SDK-DFUå·¥ä½œåŸç†" class="headerlink" title="äºŒã€Nordic SDK DFUå·¥ä½œåŸç†"></a>äºŒã€Nordic SDK DFUå·¥ä½œåŸç†</h4><p><img src="/2020/06/06/%E8%93%9D%E7%89%99%E7%A9%BA%E4%B8%AD%E5%8D%87%E7%BA%A7/nRF_SDK%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84.png" alt></p>
<ul>
<li><p><strong>é‡‡ç”¨åŒåŒºæ¨¡å¼ï¼š</strong>Bank0å­˜æ”¾çš„æ˜¯Dç¨‹åºï¼ˆè€å›ºä»¶ï¼‰ï¼ŒBank1å­˜æ”¾çš„æ˜¯æ–°å›ºä»¶ã€‚åº”ç”¨ç¨‹åºåªåœ¨Bank0é‡Œè·‘ï¼ŒBank1å¹³æ—¶ä¸ºç©ºæˆ–è€…å¿½ç•¥ï¼Œå‡çº§æ—¶ï¼Œå…ˆè·³è½¬åˆ°Bootloaderï¼Œç„¶åæ¥æ”¶æ–°å›ºä»¶å¹¶æ”¾åœ¨Bank1ä¸­ï¼Œæœ€åæŠŠBank1é‡Œè¾¹çš„å›ºä»¶æ‹·è´åˆ°Bank0ä¸­ã€‚</p>
</li>
<li><p><strong>é‡‡ç”¨å•åŒºæ¨¡å¼ï¼š</strong>å•åŒºæ¨¡å¼åˆ™æ²¡æœ‰Bank1å­˜å‚¨åŒºï¼Œç³»ç»Ÿåªè·‘Bank0é‡Œé¢çš„ä»£ç ï¼Œå‡çº§çš„æ—¶å€™ï¼Œå…ˆè·³è½¬åˆ°Bootloaderï¼Œå…ˆæ“¦é™¤Bank0é‡Œé¢çš„ç¨‹åºï¼ˆè€å›ºä»¶ï¼‰ï¼Œå¹¶æŠŠæ–°å›ºä»¶ç›´æ¥æ”¾åœ¨Bank0ä¸­ã€‚</p>
</li>
</ul>
<p>  <strong>å‡çº§æ—¶å¦‚ä½•è·³è½¬åˆ°Bootloaderï¼Ÿ</strong></p>
<p>  â€‹        Nordic SDK å°†DFUåˆ†ä¸ºæŒ‰é”®å¼DFUå’ŒéæŒ‰é”®å¼DFUï¼ŒæŒ‰é”®å¼DFUæ˜¯ä¸Šç”µæ—¶é•¿æŒ‰æŸæŒ‰é”®è¿›å…¥Bootloaderæ¨¡å¼ã€‚éæŒ‰é”®å¼æ˜¯æ•´ä¸ªDFUè¿‡ç¨‹ä¸­è®¾å¤‡ç«¯æ— ä»»ä½•äººå·¥å¹²é¢„ï¼Œé€šè¿‡BLE/UART/USBæ¥å£ç»™åº”ç”¨ç¨‹åºå‘é€ä¸€æ¡æŒ‡ä»¤ï¼Œåº”ç”¨ç¨‹åºæ”¶åˆ°æŒ‡ä»¤åè‡ªåŠ¨è¿›å…¥Bootloaderæ¨¡å¼ã€‚ä¸ç®¡æ˜¯ä»€ä¹ˆæ–¹å¼è¿›å…¥Bootloaderï¼ŒBootloaderå·¥ä½œè¿‡ç¨‹éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>  <strong>è·³è½¬åˆ°Bootloaderåçš„æ‰§è¡Œæ“ä½œ</strong></p>
<p>  â€‹        ç¨‹åºè·³è½¬åˆ°Bootloaderåï¼Œæ ¹æ®Bootloaderéœ€ä¸éœ€è¦å¯¹æ–°å›ºä»¶è¿›è¡ŒéªŒç­¾ã€‚ï¼ˆDFUåˆ†ä¸ºå¼€æ”¾å¼DFUå’Œå®‰å…¨å¼DFUï¼‰</p>
<p>  â€‹        <strong>å¼€æ”¾å¼DFUï¼š</strong> Bootloaderä¸åšä»»ä½•éªŒè¯ï¼Œç›´æ¥æŠŠæ–°å›ºä»¶è¿›è¡Œå‡çº§ã€‚</p>
<p>  â€‹        <strong>å®‰å…¨å¼DFUï¼š</strong> Bootloaderå­˜æœ‰ä¸€æŠŠå…¬é’¥ï¼ŒBootloaderä¼šå…ˆæŠŠå…¬é’¥éªŒè¯æ–°å›ºä»¶çš„ç­¾åï¼ŒéªŒç­¾é€šè¿‡ï¼Œå…è®¸åç»­çš„å·¥ä½œã€‚ï¼ˆå¦‚æœéªŒç­¾å¤±è´¥ï¼ŒBootloaderå°†æ‹’ç»å‡çº§ï¼Œé‡æ–°è·³å›åº”ç”¨ç¨‹åºï¼‰</p>
<p>  ç›®å‰SDKæ”¯æŒBluetoothã€UARTã€USBä¸‰ç§æ–¹å¼æ¥å—æ–°å›ºä»¶ï¼Œå®˜æ–¹SDKä¸­å¯ä»¥æ‰¾åˆ°æ­¤ä¸‰ç§æ–¹å¼çš„å·¥ç¨‹ç›®å½•ã€‚</p>
<p>  nRF51/52å¯åŠ¨æµç¨‹ï¼š<br>          ç³»ç»Ÿä¸Šç”µä¹‹åï¼Œç³»ç»Ÿå…ˆæ‰§è¡ŒSoftdeviceï¼ŒSoftdeviceé€šè¿‡è¯»å–UICRå¯„å­˜å™¨çš„ä¸€ä¸ªå€¼ï¼Œæ¥åˆ¤æ–­ç³»ç»Ÿç›®å‰æ˜¯å¦æœ‰Bootloaderï¼Œå¦‚æœæ²¡æœ‰Bootloaderï¼Œç³»ç»Ÿç›´æ¥è·³åˆ°Applicationï¼›å¦‚æœæœ‰Bootloaderï¼Œç³»ç»Ÿå…ˆè·³åˆ°Bootloaderï¼ŒBootloaderå†æ ¹æ®ç›¸å…³æƒ…å†µæ¥å†³å®šæ˜¯è¿›å…¥å‡çº§æ¨¡å¼è¿˜æ˜¯è¿›å…¥Applicationã€‚<br>          <strong>Bootloaderä¸»è¦åˆ¤æ–­å¦‚ä¸‹å‡ ç§æƒ…å†µï¼š<br>                  æŒ‰é”®æ˜¯å¦æŒ‰ä¸‹ï¼ˆæŒ‰é”®è¿›å…¥Bootloader DFUï¼‰<br>                  ä¿æŒå¯„å­˜å™¨GPREGRET1æ˜¯å¦ä¸º 0xB1<br>                  ä¸Šæ¬¡DFUè¿‡ç¨‹æ˜¯å¦è¿˜åœ¨è¿›è¡Œ<br>                  åº”ç”¨ç¨‹åºæ ¡éªŒæ˜¯å¦é€šè¿‡</strong></p>
]]></content>
      <categories>
        <category>Nordic</category>
      </categories>
      <tags>
        <tag>Nordic</tag>
        <tag>Bluetooth</tag>
        <tag>nRF52</tag>
        <tag>nRF connect</tag>
        <tag>nrfutil</tag>
        <tag>nRF51</tag>
      </tags>
  </entry>
  <entry>
    <title>å˜‰ç«‹åˆ›JLCå…ƒä»¶åº“+3Då°è£…ä¸‹è½½</title>
    <url>/2020/05/04/%E5%98%89%E7%AB%8B%E5%88%9BJLC%E5%85%83%E4%BB%B6%E5%BA%93-3D%E5%B0%81%E8%A3%85%E4%B8%8B%E8%BD%BD/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<a id="more"></a>

<h3 id="å˜‰ç«‹åˆ›JLCå…ƒä»¶åº“-3Då°è£…ä¸‹è½½ä¸‰ç§æ–¹æ³•"><a href="#å˜‰ç«‹åˆ›JLCå…ƒä»¶åº“-3Då°è£…ä¸‹è½½ä¸‰ç§æ–¹æ³•" class="headerlink" title="å˜‰ç«‹åˆ›JLCå…ƒä»¶åº“+3Då°è£…ä¸‹è½½ä¸‰ç§æ–¹æ³•"></a>å˜‰ç«‹åˆ›JLCå…ƒä»¶åº“+3Då°è£…ä¸‹è½½ä¸‰ç§æ–¹æ³•</h3><h4 id="1-ä¸‹è½½æ–¹æ³•1-ä½¿ç”¨Git-æ— éœ€å¯†ç "><a href="#1-ä¸‹è½½æ–¹æ³•1-ä½¿ç”¨Git-æ— éœ€å¯†ç " class="headerlink" title="1. ä¸‹è½½æ–¹æ³•1:  ä½¿ç”¨Git   æ— éœ€å¯†ç "></a>1. ä¸‹è½½æ–¹æ³•1:  ä½¿ç”¨Git   <strong>æ— éœ€å¯†ç </strong></h4><ul>
<li>Altium Designer:   <a href="https://gitee.com/JLC_SMT/JLCSMT_LIB.git" target="_blank" rel="noopener">https://gitee.com/JLC_SMT/JLCSMT_LIB.git</a>    </li>
</ul>
<h4 id="2-ä¸‹è½½æ–¹æ³•2ï¼šä½¿ç”¨SVNæ–¹å¼-å¯è”ç½‘åŒæ­¥-æ£€å‡ºéœ€è¦æ³¨å†Œ-gitee-çš„è´¦å·å¯†ç "><a href="#2-ä¸‹è½½æ–¹æ³•2ï¼šä½¿ç”¨SVNæ–¹å¼-å¯è”ç½‘åŒæ­¥-æ£€å‡ºéœ€è¦æ³¨å†Œ-gitee-çš„è´¦å·å¯†ç " class="headerlink" title="2. ä¸‹è½½æ–¹æ³•2ï¼šä½¿ç”¨SVNæ–¹å¼,å¯è”ç½‘åŒæ­¥ æ£€å‡ºéœ€è¦æ³¨å†Œ gitee çš„è´¦å·å¯†ç "></a>2. ä¸‹è½½æ–¹æ³•2ï¼šä½¿ç”¨SVNæ–¹å¼,å¯è”ç½‘åŒæ­¥ <strong>æ£€å‡ºéœ€è¦æ³¨å†Œ gitee çš„è´¦å·å¯†ç </strong></h4><ul>
<li>SVNç«¯å£:   <a href="svn://gitee.com/JLC_SMT/JLCSMT_LIB">svn://gitee.com/JLC_SMT/JLCSMT_LIB</a></li>
</ul>
<h4 id="3-ä¸‹è½½æ–¹æ³•3ï¼šæ‰‹åŠ¨ä¸‹è½½-ä¸èƒ½åŒæ­¥-é”™è¯¯æ— æ³•åŠæ—¶ä¿®æ­£-ä½†å¯ä»¥ä¸‹è½½"><a href="#3-ä¸‹è½½æ–¹æ³•3ï¼šæ‰‹åŠ¨ä¸‹è½½-ä¸èƒ½åŒæ­¥-é”™è¯¯æ— æ³•åŠæ—¶ä¿®æ­£-ä½†å¯ä»¥ä¸‹è½½" class="headerlink" title="3.  ä¸‹è½½æ–¹æ³•3ï¼šæ‰‹åŠ¨ä¸‹è½½ ä¸èƒ½åŒæ­¥,é”™è¯¯æ— æ³•åŠæ—¶ä¿®æ­£, ä½†å¯ä»¥ä¸‹è½½"></a>3.  ä¸‹è½½æ–¹æ³•3ï¼šæ‰‹åŠ¨ä¸‹è½½ ä¸èƒ½åŒæ­¥,é”™è¯¯æ— æ³•åŠæ—¶ä¿®æ­£, ä½†å¯ä»¥ä¸‹è½½</h4>]]></content>
      <categories>
        <category>Altium Designer</category>
      </categories>
      <tags>
        <tag>PCB_Design</tag>
        <tag>Altium Designer</tag>
        <tag>Layout</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ZYNQã€‘å­¦ä¹ ç¬”è®° --&gt; Install Vivado under Windowsï¼ˆWindowsä¸‹å®‰è£…Vivadoï¼‰</title>
    <url>/2022/09/10/Zynq-Installation-Notes/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šWindow11 ä¼ä¸šç‰ˆ</li>
<li>è½¯ä»¶ç‰ˆæœ¬ï¼šVivado 2022.1</li>
</ul>
<a id="more"></a>

<h1 id="Vivado-Installation-Tutorial-Vivadoå®‰è£…æ•™ç¨‹"><a href="#Vivado-Installation-Tutorial-Vivadoå®‰è£…æ•™ç¨‹" class="headerlink" title="Vivado Installation Tutorial(Vivadoå®‰è£…æ•™ç¨‹)"></a>Vivado Installation Tutorial(Vivadoå®‰è£…æ•™ç¨‹)</h1><h4 id="Xilinx-å®˜ç½‘ä¸‹è½½-Vivado-åœ°å€ï¼š"><a href="#Xilinx-å®˜ç½‘ä¸‹è½½-Vivado-åœ°å€ï¼š" class="headerlink" title="Xilinx å®˜ç½‘ä¸‹è½½ Vivado åœ°å€ï¼š"></a>Xilinx å®˜ç½‘ä¸‹è½½ Vivado åœ°å€ï¼š</h4><p> &emsp;<strong><a href="https://china.xilinx.com/support/download.html" target="_blank" rel="noopener">ä¸‹è½½è¯·ç‚¹å‡»è¿™é‡Œå“¦!!!</a></strong></p>
<h4 id="1-ä¸‹è½½Vivadoå®Œæˆå®‰è£…åŒ…"><a href="#1-ä¸‹è½½Vivadoå®Œæˆå®‰è£…åŒ…" class="headerlink" title="1. ä¸‹è½½Vivadoå®Œæˆå®‰è£…åŒ…"></a>1. ä¸‹è½½Vivadoå®Œæˆå®‰è£…åŒ…</h4><img src="/2022/09/10/Zynq-Installation-Notes/Download_Address.png?" alt="Download_Address" style="zoom:70%;">

<p><font color="red" size="5" face="æ¥·ä½“">æ³¨æ„ï¼šè¿™ä¸ªå®Œæˆçš„è½¯ä»¶åŒ…ä¸‹è½½æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…â€¦</font></p>
<p>Vivado æä¾›äº†Linuxç‰ˆæœ¬å’ŒWindowsç‰ˆæœ¬ï¼Œè¿˜æä¾›äº†äºŒåˆä¸€ç‰ˆæœ¬çš„ï¼Œè¿™é‡Œä½¿ç”¨äºŒåˆä¸€ç‰ˆæœ¬çš„ï¼Œæ—¢æ»¡è¶³Windowså¼€å‘åˆæ»¡è¶³Linuxå¼€å‘ã€‚</p>
<h4 id="2-Windowsä¸‹å¼€å§‹å®‰è£…Vivadoè½¯ä»¶"><a href="#2-Windowsä¸‹å¼€å§‹å®‰è£…Vivadoè½¯ä»¶" class="headerlink" title="2. Windowsä¸‹å¼€å§‹å®‰è£…Vivadoè½¯ä»¶"></a>2. Windowsä¸‹å¼€å§‹å®‰è£…Vivadoè½¯ä»¶</h4><h5 id="2-1-ä¸‹è½½è§£å‹-Xilinx-Unified-2022-1-0420-0327-tar-gz-è½¯ä»¶åŒ…ï¼Œæ­¤æ–‡ä»¶å¯èƒ½æ¯”è¾ƒå¤§ï¼Œé€‰ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´è§£å‹"><a href="#2-1-ä¸‹è½½è§£å‹-Xilinx-Unified-2022-1-0420-0327-tar-gz-è½¯ä»¶åŒ…ï¼Œæ­¤æ–‡ä»¶å¯èƒ½æ¯”è¾ƒå¤§ï¼Œé€‰ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´è§£å‹" class="headerlink" title="2.1 ä¸‹è½½è§£å‹ Xilinx_Unified_2022.1_0420_0327.tar.gz è½¯ä»¶åŒ…ï¼Œæ­¤æ–‡ä»¶å¯èƒ½æ¯”è¾ƒå¤§ï¼Œé€‰ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´è§£å‹"></a>2.1 ä¸‹è½½è§£å‹ Xilinx_Unified_2022.1_0420_0327.tar.gz è½¯ä»¶åŒ…ï¼Œæ­¤æ–‡ä»¶å¯èƒ½æ¯”è¾ƒå¤§ï¼Œé€‰ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´è§£å‹</h5><img src="/2022/09/10/Zynq-Installation-Notes/Software_Package.png">

<h5 id="2-2-æ‰“å¼€è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥åŒå‡»-Xsetup-exe-è¿›è¡Œå®‰è£…-å®‰è£…çš„è¿‡ç¨‹ä¸­-å…³é—­æ‰€æœ‰æ€æ¯’è½¯ä»¶-ç”µè„‘çš„ç”¨æˆ·åå¿…é¡»æ˜¯è‹±æ–‡ï¼Œä¸èƒ½æœ‰ä¸­æ–‡åŠç©ºæ ¼"><a href="#2-2-æ‰“å¼€è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥åŒå‡»-Xsetup-exe-è¿›è¡Œå®‰è£…-å®‰è£…çš„è¿‡ç¨‹ä¸­-å…³é—­æ‰€æœ‰æ€æ¯’è½¯ä»¶-ç”µè„‘çš„ç”¨æˆ·åå¿…é¡»æ˜¯è‹±æ–‡ï¼Œä¸èƒ½æœ‰ä¸­æ–‡åŠç©ºæ ¼" class="headerlink" title="2.2 æ‰“å¼€è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥åŒå‡» Xsetup.exe è¿›è¡Œå®‰è£…,å®‰è£…çš„è¿‡ç¨‹ä¸­,å…³é—­æ‰€æœ‰æ€æ¯’è½¯ä»¶, ç”µè„‘çš„ç”¨æˆ·åå¿…é¡»æ˜¯è‹±æ–‡ï¼Œä¸èƒ½æœ‰ä¸­æ–‡åŠç©ºæ ¼"></a>2.2 æ‰“å¼€è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥åŒå‡» <font color="red" face="é»‘ä½“">Xsetup.exe</font> è¿›è¡Œå®‰è£…,å®‰è£…çš„è¿‡ç¨‹ä¸­,å…³é—­æ‰€æœ‰æ€æ¯’è½¯ä»¶,<font color="red"> ç”µè„‘çš„ç”¨æˆ·åå¿…é¡»æ˜¯è‹±æ–‡ï¼Œä¸èƒ½æœ‰ä¸­æ–‡åŠç©ºæ ¼</font></h5><img src="/2022/09/10/Zynq-Installation-Notes/Install_file.png">

<h5 id="2-3-åŒå‡»-Xsetup-exe-ä¹‹å-å‡ºç°-Welcome-ç•Œé¢ï¼Œæ‰“å¼€ä¹‹åå¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼Œä¼šæç¤ºæ˜¯å¦å®‰è£…æœ€æ–°è½¯ä»¶ï¼Œæ­¤æ—¶å¿½ç•¥å³å¯ï¼Œç›´æ¥ç‚¹å‡»-Next-å³å¯"><a href="#2-3-åŒå‡»-Xsetup-exe-ä¹‹å-å‡ºç°-Welcome-ç•Œé¢ï¼Œæ‰“å¼€ä¹‹åå¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼Œä¼šæç¤ºæ˜¯å¦å®‰è£…æœ€æ–°è½¯ä»¶ï¼Œæ­¤æ—¶å¿½ç•¥å³å¯ï¼Œç›´æ¥ç‚¹å‡»-Next-å³å¯" class="headerlink" title="2.3 åŒå‡» Xsetup.exe ä¹‹å,å‡ºç° Welcome ç•Œé¢ï¼Œæ‰“å¼€ä¹‹åå¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼Œä¼šæç¤ºæ˜¯å¦å®‰è£…æœ€æ–°è½¯ä»¶ï¼Œæ­¤æ—¶å¿½ç•¥å³å¯ï¼Œç›´æ¥ç‚¹å‡» Next å³å¯."></a>2.3 åŒå‡» Xsetup.exe ä¹‹å,å‡ºç° Welcome ç•Œé¢ï¼Œæ‰“å¼€ä¹‹åå¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼Œä¼šæç¤ºæ˜¯å¦å®‰è£…æœ€æ–°è½¯ä»¶ï¼Œæ­¤æ—¶å¿½ç•¥å³å¯ï¼Œç›´æ¥ç‚¹å‡» <font color="red">Next</font> å³å¯.</h5><img src="/2022/09/10/Zynq-Installation-Notes/Install_file1.png">

<h5 id="2-4-Select-Product-to-Installï¼ˆé€‰æ‹©è¦å®‰è£…çš„äº§å“ï¼‰ï¼Œé€‰æ‹©-Vitis-è¿›è¡Œå®‰è£…ï¼Œç›´æ¥ç‚¹å‡»Next-å³å¯"><a href="#2-4-Select-Product-to-Installï¼ˆé€‰æ‹©è¦å®‰è£…çš„äº§å“ï¼‰ï¼Œé€‰æ‹©-Vitis-è¿›è¡Œå®‰è£…ï¼Œç›´æ¥ç‚¹å‡»Next-å³å¯" class="headerlink" title="2.4 Select Product to Installï¼ˆé€‰æ‹©è¦å®‰è£…çš„äº§å“ï¼‰ï¼Œé€‰æ‹© Vitis è¿›è¡Œå®‰è£…ï¼Œç›´æ¥ç‚¹å‡»Next å³å¯."></a>2.4 Select Product to Installï¼ˆé€‰æ‹©è¦å®‰è£…çš„äº§å“ï¼‰ï¼Œé€‰æ‹© Vitis è¿›è¡Œå®‰è£…ï¼Œç›´æ¥ç‚¹å‡»<font color="red">Next</font> å³å¯.</h5><ul>
<li><font color="red">æ³¨æ„:</font> åœ¨æ­¤å£°æ˜ï¼ŒVitis å®‰è£…è¿‡ç¨‹ä¸­åŒ…å«äº† Vivado çš„å®‰è£…ï¼Œå¦‚æœä¸å®‰è£… Vitis ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½ ä¼šå‘ç°ä¸èƒ½è¿è¡Œ SDK IEDï¼Œæ‰€ä»¥å®‰è£…çš„æ—¶å€™ç›´æ¥é€‰ Vitis å³å¯ã€‚</li>
</ul>
<img src="/2022/09/10/Zynq-Installation-Notes/Vitis.jpg">

<h5 id="2-5-Vitis-Unified-Software-Platformï¼ˆVitisç»Ÿä¸€è½¯ä»¶å¹³å°ï¼‰ï¼Œå…¨éƒ¨å®‰è£…å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯ï¼Œé€‰æ‹©å®Œæˆä¹‹åç›´æ¥ç‚¹å‡»-Next"><a href="#2-5-Vitis-Unified-Software-Platformï¼ˆVitisç»Ÿä¸€è½¯ä»¶å¹³å°ï¼‰ï¼Œå…¨éƒ¨å®‰è£…å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯ï¼Œé€‰æ‹©å®Œæˆä¹‹åç›´æ¥ç‚¹å‡»-Next" class="headerlink" title="2.5 Vitis Unified Software Platformï¼ˆVitisç»Ÿä¸€è½¯ä»¶å¹³å°ï¼‰ï¼Œå…¨éƒ¨å®‰è£…å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯ï¼Œé€‰æ‹©å®Œæˆä¹‹åç›´æ¥ç‚¹å‡»  Next ."></a>2.5 Vitis Unified Software Platformï¼ˆVitisç»Ÿä¸€è½¯ä»¶å¹³å°ï¼‰ï¼Œå…¨éƒ¨å®‰è£…å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å³å¯ï¼Œé€‰æ‹©å®Œæˆä¹‹åç›´æ¥ç‚¹å‡» <font color="red"> Next </font>.</h5><ul>
<li>åœ¨æ­¤ç•Œé¢ä½ ä¼šè§‚å¯Ÿåˆ°ï¼Œé€‰æ‹© Vitis å®‰è£…äº§å“ï¼Œä¼šé»˜è®¤å®‰è£… Vivado è½¯ä»¶ã€‚</li>
</ul>
<img src="/2022/09/10/Zynq-Installation-Notes/Vitis2.jpg">

<h5 id="2-7-Accept-License-Agreementsï¼ˆæ¥å—è®¸å¯åè®®ï¼‰ï¼Œå…¨é€‰-I-Agreeï¼Œç‚¹å‡»-Next"><a href="#2-7-Accept-License-Agreementsï¼ˆæ¥å—è®¸å¯åè®®ï¼‰ï¼Œå…¨é€‰-I-Agreeï¼Œç‚¹å‡»-Next" class="headerlink" title="2.7 Accept License Agreementsï¼ˆæ¥å—è®¸å¯åè®®ï¼‰ï¼Œå…¨é€‰ I Agreeï¼Œç‚¹å‡» Next ."></a>2.7 Accept License Agreementsï¼ˆæ¥å—è®¸å¯åè®®ï¼‰ï¼Œå…¨é€‰ I Agreeï¼Œç‚¹å‡»<font color="red"> Next </font>.</h5><img src="/2022/09/10/Zynq-Installation-Notes/Vitis_3.jpg">

<h5 id="2-8-Select-Destination-Directoryï¼ˆé€‰æ‹©ç›®æ ‡ç›®å½•ï¼‰ï¼Œé»˜è®¤é€‰æ‹©Cç›˜ï¼Œä»¥ä¸‹æ˜¾ç¤ºè­¦å‘Šï¼Œæ˜¯å› ä¸ºå·²ç»å®‰è£…è¿‡ï¼Œæ ¹æ®è‡ªå·±ç¡¬ç›˜å¤§å°é€‰æ‹©å®‰è£…ç›®å½•å³å¯ï¼Œç‚¹å‡»-Next"><a href="#2-8-Select-Destination-Directoryï¼ˆé€‰æ‹©ç›®æ ‡ç›®å½•ï¼‰ï¼Œé»˜è®¤é€‰æ‹©Cç›˜ï¼Œä»¥ä¸‹æ˜¾ç¤ºè­¦å‘Šï¼Œæ˜¯å› ä¸ºå·²ç»å®‰è£…è¿‡ï¼Œæ ¹æ®è‡ªå·±ç¡¬ç›˜å¤§å°é€‰æ‹©å®‰è£…ç›®å½•å³å¯ï¼Œç‚¹å‡»-Next" class="headerlink" title="2.8 Select Destination Directoryï¼ˆé€‰æ‹©ç›®æ ‡ç›®å½•ï¼‰ï¼Œé»˜è®¤é€‰æ‹©Cç›˜ï¼Œä»¥ä¸‹æ˜¾ç¤ºè­¦å‘Šï¼Œæ˜¯å› ä¸ºå·²ç»å®‰è£…è¿‡ï¼Œæ ¹æ®è‡ªå·±ç¡¬ç›˜å¤§å°é€‰æ‹©å®‰è£…ç›®å½•å³å¯ï¼Œç‚¹å‡»  Next ."></a>2.8 Select Destination Directoryï¼ˆé€‰æ‹©ç›®æ ‡ç›®å½•ï¼‰ï¼Œé»˜è®¤é€‰æ‹©Cç›˜ï¼Œä»¥ä¸‹æ˜¾ç¤ºè­¦å‘Šï¼Œæ˜¯å› ä¸ºå·²ç»å®‰è£…è¿‡ï¼Œæ ¹æ®è‡ªå·±ç¡¬ç›˜å¤§å°é€‰æ‹©å®‰è£…ç›®å½•å³å¯ï¼Œç‚¹å‡» <font color="red"> Next</font> .</h5><img src="/2022/09/10/Zynq-Installation-Notes/Install_file6.png">

<h5 id="2-9-ç‚¹å‡»-â€œInstallâ€-ï¼Œè¿›è¡Œå®‰è£…"><a href="#2-9-ç‚¹å‡»-â€œInstallâ€-ï¼Œè¿›è¡Œå®‰è£…" class="headerlink" title="2.9 ç‚¹å‡»  â€œInstallâ€ ï¼Œè¿›è¡Œå®‰è£…."></a>2.9 ç‚¹å‡» <font color="red"> â€œInstallâ€ </font>ï¼Œè¿›è¡Œå®‰è£….</h5><h5 id="2-10-ç­‰å¾…å®‰è£…å®Œæˆï¼Œå®‰è£…æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰å…³é—­æ€æ¯’è½¯ä»¶ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªï¼Œå¯¼è‡´å®‰è£…è½¯ä»¶å¤±è´¥ä¸èƒ½ä½¿ç”¨"><a href="#2-10-ç­‰å¾…å®‰è£…å®Œæˆï¼Œå®‰è£…æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰å…³é—­æ€æ¯’è½¯ä»¶ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªï¼Œå¯¼è‡´å®‰è£…è½¯ä»¶å¤±è´¥ä¸èƒ½ä½¿ç”¨" class="headerlink" title="2.10 ç­‰å¾…å®‰è£…å®Œæˆï¼Œå®‰è£…æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰å…³é—­æ€æ¯’è½¯ä»¶ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªï¼Œå¯¼è‡´å®‰è£…è½¯ä»¶å¤±è´¥ä¸èƒ½ä½¿ç”¨."></a>2.10 ç­‰å¾…å®‰è£…å®Œæˆï¼Œå®‰è£…æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰å…³é—­æ€æ¯’è½¯ä»¶ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªï¼Œå¯¼è‡´å®‰è£…è½¯ä»¶å¤±è´¥ä¸èƒ½ä½¿ç”¨.</h5><img src="/2022/09/10/Zynq-Installation-Notes/Vitis1.jpg">

<h5 id="2-11-å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ–­å¼€ä¸‹è½½å™¨æˆ–è€…å¼€å‘æ¿-JTAG-çº¿ï¼Œç‚¹å‡»-â€œç¡®è®¤â€"><a href="#2-11-å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ–­å¼€ä¸‹è½½å™¨æˆ–è€…å¼€å‘æ¿-JTAG-çº¿ï¼Œç‚¹å‡»-â€œç¡®è®¤â€" class="headerlink" title="2.11 å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ–­å¼€ä¸‹è½½å™¨æˆ–è€…å¼€å‘æ¿ JTAG çº¿ï¼Œç‚¹å‡» â€œç¡®è®¤â€."></a>2.11 å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ–­å¼€ä¸‹è½½å™¨æˆ–è€…å¼€å‘æ¿ JTAG çº¿ï¼Œç‚¹å‡» <font color="red">â€œç¡®è®¤â€</font>.</h5><h5 id="2-12-å®‰è£…å®Œæˆä¼šæç¤º-â€œInstallation-completed-successfullyâ€ï¼Œç‚¹å‡»-â€œç¡®è®¤â€"><a href="#2-12-å®‰è£…å®Œæˆä¼šæç¤º-â€œInstallation-completed-successfullyâ€ï¼Œç‚¹å‡»-â€œç¡®è®¤â€" class="headerlink" title="2.12 å®‰è£…å®Œæˆä¼šæç¤º â€œInstallation completed successfullyâ€ï¼Œç‚¹å‡» â€œç¡®è®¤â€."></a>2.12 å®‰è£…å®Œæˆä¼šæç¤º <font color="red">â€œInstallation completed successfullyâ€</font>ï¼Œç‚¹å‡» <font color="red">â€œç¡®è®¤â€</font>.</h5><h4 id="3-å®‰è£…-License-æ–‡ä»¶"><a href="#3-å®‰è£…-License-æ–‡ä»¶" class="headerlink" title="3. å®‰è£… License æ–‡ä»¶"></a>3. å®‰è£… License æ–‡ä»¶</h4><h5 id="3-1-ç‚¹å‡»-â€œLoad-License-gt-Copy-Licenseâ€¦â€"><a href="#3-1-ç‚¹å‡»-â€œLoad-License-gt-Copy-Licenseâ€¦â€" class="headerlink" title="3.1 ç‚¹å‡» â€œLoad License -&gt; Copy Licenseâ€¦â€."></a>3.1 ç‚¹å‡» <font color="red">â€œLoad License -&gt; Copy Licenseâ€¦â€</font>.</h5><img src="/2022/09/10/Zynq-Installation-Notes/License1.png">

<h5 id="3-2-é€‰æ‹©-â€xilinx-ise-vivado-licâ€œæ–‡ä»¶ï¼Œè®¸å¯æ–‡ä»¶ä¸‹è½½-æå–ç -bvol"><a href="#3-2-é€‰æ‹©-â€xilinx-ise-vivado-licâ€œæ–‡ä»¶ï¼Œè®¸å¯æ–‡ä»¶ä¸‹è½½-æå–ç -bvol" class="headerlink" title="3.2 é€‰æ‹© â€xilinx_ise_vivado.licâ€œæ–‡ä»¶ï¼Œè®¸å¯æ–‡ä»¶ä¸‹è½½  æå–ç : bvol"></a>3.2 é€‰æ‹© â€xilinx_ise_vivado.licâ€œæ–‡ä»¶ï¼Œè®¸å¯æ–‡ä»¶ä¸‹è½½  <strong><a href="https://pan.baidu.com/s/1wwczHot-cfgQt6XV-ZZblw" target="_blank" rel="noopener">æå–ç : bvol</a></strong></h5><h5 id="3-3-å®‰è£…æˆåŠŸæç¤ºï¼Œç‚¹å‡»-â€œç¡®è®¤â€"><a href="#3-3-å®‰è£…æˆåŠŸæç¤ºï¼Œç‚¹å‡»-â€œç¡®è®¤â€" class="headerlink" title="3.3 å®‰è£…æˆåŠŸæç¤ºï¼Œç‚¹å‡» â€œç¡®è®¤â€"></a>3.3 å®‰è£…æˆåŠŸæç¤ºï¼Œç‚¹å‡» <font color="red">â€œç¡®è®¤â€</font></h5><img src="/2022/09/10/Zynq-Installation-Notes/License2.png">

<h4 id="4-USB-Serial-Converter-é©±åŠ¨å®‰è£…"><a href="#4-USB-Serial-Converter-é©±åŠ¨å®‰è£…" class="headerlink" title="4. USB Serial Converter é©±åŠ¨å®‰è£…"></a>4. USB Serial Converter é©±åŠ¨å®‰è£…</h4><h5 id="4-1-å®‰è£…-Vivado-çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œå¦‚æœæ²¡æœ‰æ­¤é©±åŠ¨éœ€å®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œé©±åŠ¨è·¯å¾„ï¼šâ€œC-Xilinx-Vivado-2022-1-data-xicom-cable-drivers-nt64-digilent-install-digilent-exeâ€"><a href="#4-1-å®‰è£…-Vivado-çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œå¦‚æœæ²¡æœ‰æ­¤é©±åŠ¨éœ€å®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œé©±åŠ¨è·¯å¾„ï¼šâ€œC-Xilinx-Vivado-2022-1-data-xicom-cable-drivers-nt64-digilent-install-digilent-exeâ€" class="headerlink" title="4.1 å®‰è£… Vivado çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œå¦‚æœæ²¡æœ‰æ­¤é©±åŠ¨éœ€å®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œé©±åŠ¨è·¯å¾„ï¼šâ€œC:\Xilinx\Vivado\2022.1\data\xicom\cable_drivers\nt64\digilent\install_digilent.exeâ€"></a>4.1 å®‰è£… Vivado çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œå¦‚æœæ²¡æœ‰æ­¤é©±åŠ¨éœ€å®‰è£…ä¸‹è½½å™¨é©±åŠ¨ï¼Œé©±åŠ¨è·¯å¾„ï¼š<font color="red">â€œC:\Xilinx\Vivado\2022.1\data\xicom\cable_drivers\nt64\digilent\install_digilent.exeâ€</font></h5><img src="/2022/09/10/Zynq-Installation-Notes/USB_Serial_Converter1.png">

<h5 id="4-2-åŒå‡»-â€œinstall-digilent-exeâ€-å®‰è£…ï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œè¿æ¥ä¸‹è½½å™¨ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨å‡ºç°-â€œUSB-Serial-Converterâ€-æ­¤æ—¶è¯æ˜å®‰è£…æˆåŠŸ"><a href="#4-2-åŒå‡»-â€œinstall-digilent-exeâ€-å®‰è£…ï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œè¿æ¥ä¸‹è½½å™¨ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨å‡ºç°-â€œUSB-Serial-Converterâ€-æ­¤æ—¶è¯æ˜å®‰è£…æˆåŠŸ" class="headerlink" title="4.2 åŒå‡» â€œinstall_digilent.exeâ€ å®‰è£…ï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œè¿æ¥ä¸‹è½½å™¨ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨å‡ºç° â€œUSB Serial Converterâ€,æ­¤æ—¶è¯æ˜å®‰è£…æˆåŠŸ"></a>4.2 åŒå‡» <font color="red">â€œinstall_digilent.exeâ€</font> å®‰è£…ï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œè¿æ¥ä¸‹è½½å™¨ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨å‡ºç° <font color="red">â€œUSB Serial Converterâ€</font>,æ­¤æ—¶è¯æ˜å®‰è£…æˆåŠŸ</h5><img src="/2022/09/10/Zynq-Installation-Notes/USB_Serial_Converter.png">

<h4 id="æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¦‚ä¸Šè¿°æè¿°ï¼ï¼ï¼"><a href="#æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¦‚ä¸Šè¿°æè¿°ï¼ï¼ï¼" class="headerlink" title="æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¦‚ä¸Šè¿°æè¿°ï¼ï¼ï¼"></a><font color="blue" size="10" face="æ¥·ä½“">æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¦‚ä¸Šè¿°æè¿°ï¼ï¼ï¼</font></h4>]]></content>
      <categories>
        <category>Zynq</category>
      </categories>
      <tags>
        <tag>Vivado</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ZYNQã€‘å­¦ä¹ ç¬”è®° --&gt; Serial Port Prints &quot;Hello World&quot;</title>
    <url>/2022/09/19/Zynq-Uart-Hello-World/</url>
    <content><![CDATA[<p>ğŸ˜Š è½¬è½½è¯·å…¨æ–‡è½¬è½½ï¼Œå¹¶æ ‡æ˜æ–‡ç« å‡ºå¤„</p>
<p>ç¯å¢ƒä»‹ç»</p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šWindow11 ä¼ä¸šç‰ˆ</li>
<li>è½¯ä»¶ç‰ˆæœ¬ï¼šVivado 2022.1</li>
</ul>
<a id="more"></a>

<h1 id="Serial-Port-Prints-â€œHello-Worldâ€-ä¸²å£æ‰“å°â€HelloWorldâ€"><a href="#Serial-Port-Prints-â€œHello-Worldâ€-ä¸²å£æ‰“å°â€HelloWorldâ€" class="headerlink" title="Serial Port Prints â€œHello Worldâ€(ä¸²å£æ‰“å°â€HelloWorldâ€)"></a>Serial Port Prints â€œHello Worldâ€(ä¸²å£æ‰“å°â€HelloWorldâ€)</h1><h4 id="1-Create-Project-åˆ›å»ºå·¥ç¨‹"><a href="#1-Create-Project-åˆ›å»ºå·¥ç¨‹" class="headerlink" title="1. Create Project (åˆ›å»ºå·¥ç¨‹)"></a>1. Create Project (åˆ›å»ºå·¥ç¨‹)</h4><h5 id="1-1-æ‰“å¼€-Vivado-è½¯ä»¶ï¼Œç‚¹å‡»-â€œQuick-Startâ€-æ ‡é¢˜æ ä¸‹-â€œCreate-Projectâ€ï¼Œè¿›å…¥åˆ›å»º-Vivado-å·¥ç¨‹å‘å¯¼ç•Œé¢ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"><a href="#1-1-æ‰“å¼€-Vivado-è½¯ä»¶ï¼Œç‚¹å‡»-â€œQuick-Startâ€-æ ‡é¢˜æ ä¸‹-â€œCreate-Projectâ€ï¼Œè¿›å…¥åˆ›å»º-Vivado-å·¥ç¨‹å‘å¯¼ç•Œé¢ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚" class="headerlink" title="1.1 æ‰“å¼€ Vivado è½¯ä»¶ï¼Œç‚¹å‡» â€œQuick Startâ€ æ ‡é¢˜æ ä¸‹ â€œCreate Projectâ€ï¼Œè¿›å…¥åˆ›å»º Vivado å·¥ç¨‹å‘å¯¼ç•Œé¢ï¼Œç‚¹å‡» â€œNextâ€ è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"></a>1.1 æ‰“å¼€ Vivado è½¯ä»¶ï¼Œç‚¹å‡» <font color="red">â€œQuick Startâ€</font> æ ‡é¢˜æ ä¸‹ <font color="red">â€œCreate Projectâ€</font>ï¼Œè¿›å…¥åˆ›å»º Vivado å·¥ç¨‹å‘å¯¼ç•Œé¢ï¼Œç‚¹å‡» <font color="red">â€œNextâ€</font> è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</h5><img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject.png" style="zoom:45%;">

<img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject0.png" style="zoom:68%;">

<h5 id="1-2-è¿›å…¥-Project-Name-ç•Œé¢ï¼Œå¡«å†™å·¥ç¨‹åå­—ï¼Œå·¥ç¨‹ä¿å­˜è·¯å¾„ï¼Œå‹¾é€‰-â€œCreate-project-subdirectoryâ€-ä¼šåˆ›å»ºæœ¬æ¬¡å·¥ç¨‹çš„å­ç›®å½•ï¼ˆå·¥ç¨‹åå’Œè·¯å¾„åªèƒ½ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ä¸‹åˆ’çº¿æ„æˆï¼Œä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€ä¸­æ–‡åŠç©ºæ ¼ï¼‰ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"><a href="#1-2-è¿›å…¥-Project-Name-ç•Œé¢ï¼Œå¡«å†™å·¥ç¨‹åå­—ï¼Œå·¥ç¨‹ä¿å­˜è·¯å¾„ï¼Œå‹¾é€‰-â€œCreate-project-subdirectoryâ€-ä¼šåˆ›å»ºæœ¬æ¬¡å·¥ç¨‹çš„å­ç›®å½•ï¼ˆå·¥ç¨‹åå’Œè·¯å¾„åªèƒ½ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ä¸‹åˆ’çº¿æ„æˆï¼Œä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€ä¸­æ–‡åŠç©ºæ ¼ï¼‰ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚" class="headerlink" title="1.2 è¿›å…¥ Project Name ç•Œé¢ï¼Œå¡«å†™å·¥ç¨‹åå­—ï¼Œå·¥ç¨‹ä¿å­˜è·¯å¾„ï¼Œå‹¾é€‰ â€œCreate project subdirectoryâ€ , ä¼šåˆ›å»ºæœ¬æ¬¡å·¥ç¨‹çš„å­ç›®å½•ï¼ˆå·¥ç¨‹åå’Œè·¯å¾„åªèƒ½ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ä¸‹åˆ’çº¿æ„æˆï¼Œä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€ä¸­æ–‡åŠç©ºæ ¼ï¼‰ï¼Œç‚¹å‡» â€œNextâ€ è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"></a>1.2 è¿›å…¥ Project Name ç•Œé¢ï¼Œå¡«å†™å·¥ç¨‹åå­—ï¼Œå·¥ç¨‹ä¿å­˜è·¯å¾„ï¼Œå‹¾é€‰ <font color="red">â€œCreate project subdirectoryâ€</font> , ä¼šåˆ›å»ºæœ¬æ¬¡å·¥ç¨‹çš„å­ç›®å½•ï¼ˆå·¥ç¨‹åå’Œè·¯å¾„åªèƒ½ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ä¸‹åˆ’çº¿æ„æˆï¼Œä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€ä¸­æ–‡åŠç©ºæ ¼ï¼‰ï¼Œç‚¹å‡» <font color="red">â€œNextâ€</font> è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</h5><img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject1.png" style="zoom:68%;">

<h5 id="1-3-è¿›å…¥-Project-Type-ç•Œé¢ï¼Œå‹¾é€‰-â€œRTL-Projectâ€ï¼Œæœ¬æ¬¡å®éªŒä¸è®¸æ·»åŠ æºæ–‡ä»¶å’Œçº¦æŸæ–‡ä»¶ï¼Œå‹¾é€‰-â€œDo-not-specify-sources-at-this-timeâ€-å³å¯ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"><a href="#1-3-è¿›å…¥-Project-Type-ç•Œé¢ï¼Œå‹¾é€‰-â€œRTL-Projectâ€ï¼Œæœ¬æ¬¡å®éªŒä¸è®¸æ·»åŠ æºæ–‡ä»¶å’Œçº¦æŸæ–‡ä»¶ï¼Œå‹¾é€‰-â€œDo-not-specify-sources-at-this-timeâ€-å³å¯ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚" class="headerlink" title="1.3 è¿›å…¥ Project Type ç•Œé¢ï¼Œå‹¾é€‰ â€œRTL Projectâ€ï¼Œæœ¬æ¬¡å®éªŒä¸è®¸æ·»åŠ æºæ–‡ä»¶å’Œçº¦æŸæ–‡ä»¶ï¼Œå‹¾é€‰ â€œDo not specify sources at this timeâ€ å³å¯ï¼Œç‚¹å‡» â€œNextâ€ è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"></a>1.3 è¿›å…¥ Project Type ç•Œé¢ï¼Œå‹¾é€‰ <font color="red">â€œRTL Projectâ€</font>ï¼Œæœ¬æ¬¡å®éªŒä¸è®¸æ·»åŠ æºæ–‡ä»¶å’Œçº¦æŸæ–‡ä»¶ï¼Œå‹¾é€‰ <font color="red">â€œDo not specify sources at this timeâ€</font> å³å¯ï¼Œç‚¹å‡» <font color="red">â€œNextâ€</font> è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</h5><img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject2.png" style="zoom:68%;">

<h5 id="1-4-è¿›å…¥-Chip-selection-ç•Œé¢ï¼Œæœ¬å®éªŒä½¿ç”¨çš„æ˜¯-â€œXC7Z020CLG400â€ï¼Œè¿™é‡Œå’Œè‡ªå·±ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·ä¿æŒä¸€è‡´å³å¯ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"><a href="#1-4-è¿›å…¥-Chip-selection-ç•Œé¢ï¼Œæœ¬å®éªŒä½¿ç”¨çš„æ˜¯-â€œXC7Z020CLG400â€ï¼Œè¿™é‡Œå’Œè‡ªå·±ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·ä¿æŒä¸€è‡´å³å¯ï¼Œç‚¹å‡»-â€œNextâ€-è¿›è¡Œä¸‹ä¸€æ­¥ã€‚" class="headerlink" title="1.4 è¿›å…¥ Chip selection ç•Œé¢ï¼Œæœ¬å®éªŒä½¿ç”¨çš„æ˜¯ â€œXC7Z020CLG400â€ï¼Œè¿™é‡Œå’Œè‡ªå·±ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·ä¿æŒä¸€è‡´å³å¯ï¼Œç‚¹å‡» â€œNextâ€ è¿›è¡Œä¸‹ä¸€æ­¥ã€‚"></a>1.4 è¿›å…¥ Chip selection ç•Œé¢ï¼Œæœ¬å®éªŒä½¿ç”¨çš„æ˜¯ <font color="red">â€œXC7Z020CLG400â€</font>ï¼Œè¿™é‡Œå’Œè‡ªå·±ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·ä¿æŒä¸€è‡´å³å¯ï¼Œç‚¹å‡» <font color="red">â€œNextâ€</font> è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</h5><img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject3.png" style="zoom:68%;">

<h5 id="1-5-è¿›å…¥-Engineering-Summary-å·¥ç¨‹æ‘˜è¦-ç•Œé¢ï¼Œæ˜¾ç¤ºåˆ›å»ºå·¥ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»-â€œFinishâ€-å®Œæˆå·¥ç¨‹åˆ›å»ºã€‚"><a href="#1-5-è¿›å…¥-Engineering-Summary-å·¥ç¨‹æ‘˜è¦-ç•Œé¢ï¼Œæ˜¾ç¤ºåˆ›å»ºå·¥ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»-â€œFinishâ€-å®Œæˆå·¥ç¨‹åˆ›å»ºã€‚" class="headerlink" title="1.5 è¿›å…¥ Engineering Summary(å·¥ç¨‹æ‘˜è¦)ç•Œé¢ï¼Œæ˜¾ç¤ºåˆ›å»ºå·¥ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡» â€œFinishâ€ å®Œæˆå·¥ç¨‹åˆ›å»ºã€‚"></a>1.5 è¿›å…¥ Engineering Summary(å·¥ç¨‹æ‘˜è¦)ç•Œé¢ï¼Œæ˜¾ç¤ºåˆ›å»ºå·¥ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡» <font color="red">â€œFinishâ€</font> å®Œæˆå·¥ç¨‹åˆ›å»ºã€‚</h5><img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject4.png" style="zoom:68%;">

<img src="/2022/09/19/Zynq-Uart-Hello-World/CreateProject5.png" style="zoom:68%;">]]></content>
      <categories>
        <category>Zynq</category>
      </categories>
      <tags>
        <tag>Vivado</tag>
      </tags>
  </entry>
</search>
